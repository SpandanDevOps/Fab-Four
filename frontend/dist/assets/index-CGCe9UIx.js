(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();function lf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Eh={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function fb(){if(R0)return El;R0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,a,u){var d=null;if(u!==void 0&&(d=""+u),a.key!==void 0&&(d=""+a.key),"key"in a){u={};for(var m in a)m!=="key"&&(u[m]=a[m])}else u=a;return a=u.ref,{$$typeof:e,type:s,key:d,ref:a!==void 0?a:null,props:u}}return El.Fragment=t,El.jsx=i,El.jsxs=i,El}var I0;function db(){return I0||(I0=1,Eh.exports=fb()),Eh.exports}var E=db(),wh={exports:{}},Ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function hb(){if(P0)return Ut;P0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),b=Symbol.iterator;function M(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,k={};function B(U,ot,pt){this.props=U,this.context=ot,this.refs=k,this.updater=pt||I}B.prototype.isReactComponent={},B.prototype.setState=function(U,ot){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ot,"setState")},B.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function Y(){}Y.prototype=B.prototype;function z(U,ot,pt){this.props=U,this.context=ot,this.refs=k,this.updater=pt||I}var $=z.prototype=new Y;$.constructor=z,P($,B.prototype),$.isPureReactComponent=!0;var Q=Array.isArray;function V(){}var nt={H:null,A:null,T:null,S:null},rt=Object.prototype.hasOwnProperty;function ct(U,ot,pt){var vt=pt.ref;return{$$typeof:e,type:U,key:ot,ref:vt!==void 0?vt:null,props:pt}}function Tt(U,ot){return ct(U.type,ot,U.props)}function dt(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function _t(U){var ot={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(pt){return ot[pt]})}var ht=/\/+/g;function K(U,ot){return typeof U=="object"&&U!==null&&U.key!=null?_t(""+U.key):ot.toString(36)}function ft(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(V,V):(U.status="pending",U.then(function(ot){U.status==="pending"&&(U.status="fulfilled",U.value=ot)},function(ot){U.status==="pending"&&(U.status="rejected",U.reason=ot)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function G(U,ot,pt,vt,wt){var Et=typeof U;(Et==="undefined"||Et==="boolean")&&(U=null);var zt=!1;if(U===null)zt=!0;else switch(Et){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(U.$$typeof){case e:case t:zt=!0;break;case x:return zt=U._init,G(zt(U._payload),ot,pt,vt,wt)}}if(zt)return wt=wt(U),zt=vt===""?"."+K(U,0):vt,Q(wt)?(pt="",zt!=null&&(pt=zt.replace(ht,"$&/")+"/"),G(wt,ot,pt,"",function(Pi){return Pi})):wt!=null&&(dt(wt)&&(wt=Tt(wt,pt+(wt.key==null||U&&U.key===wt.key?"":(""+wt.key).replace(ht,"$&/")+"/")+zt)),ot.push(wt)),1;zt=0;var de=vt===""?".":vt+":";if(Q(U))for(var he=0;he<U.length;he++)vt=U[he],Et=de+K(vt,he),zt+=G(vt,ot,pt,Et,wt);else if(he=M(U),typeof he=="function")for(U=he.call(U),he=0;!(vt=U.next()).done;)vt=vt.value,Et=de+K(vt,he++),zt+=G(vt,ot,pt,Et,wt);else if(Et==="object"){if(typeof U.then=="function")return G(ft(U),ot,pt,vt,wt);throw ot=String(U),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return zt}function J(U,ot,pt){if(U==null)return U;var vt=[],wt=0;return G(U,vt,"","",function(Et){return ot.call(pt,Et,wt++)}),vt}function W(U){if(U._status===-1){var ot=U._result;ot=ot(),ot.then(function(pt){(U._status===0||U._status===-1)&&(U._status=1,U._result=pt)},function(pt){(U._status===0||U._status===-1)&&(U._status=2,U._result=pt)}),U._status===-1&&(U._status=0,U._result=ot)}if(U._status===1)return U._result.default;throw U._result}var yt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},mt={map:J,forEach:function(U,ot,pt){J(U,function(){ot.apply(this,arguments)},pt)},count:function(U){var ot=0;return J(U,function(){ot++}),ot},toArray:function(U){return J(U,function(ot){return ot})||[]},only:function(U){if(!dt(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ut.Activity=w,Ut.Children=mt,Ut.Component=B,Ut.Fragment=i,Ut.Profiler=a,Ut.PureComponent=z,Ut.StrictMode=s,Ut.Suspense=y,Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Ut.__COMPILER_RUNTIME={__proto__:null,c:function(U){return nt.H.useMemoCache(U)}},Ut.cache=function(U){return function(){return U.apply(null,arguments)}},Ut.cacheSignal=function(){return null},Ut.cloneElement=function(U,ot,pt){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var vt=P({},U.props),wt=U.key;if(ot!=null)for(Et in ot.key!==void 0&&(wt=""+ot.key),ot)!rt.call(ot,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&ot.ref===void 0||(vt[Et]=ot[Et]);var Et=arguments.length-2;if(Et===1)vt.children=pt;else if(1<Et){for(var zt=Array(Et),de=0;de<Et;de++)zt[de]=arguments[de+2];vt.children=zt}return ct(U.type,wt,vt)},Ut.createContext=function(U){return U={$$typeof:d,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:u,_context:U},U},Ut.createElement=function(U,ot,pt){var vt,wt={},Et=null;if(ot!=null)for(vt in ot.key!==void 0&&(Et=""+ot.key),ot)rt.call(ot,vt)&&vt!=="key"&&vt!=="__self"&&vt!=="__source"&&(wt[vt]=ot[vt]);var zt=arguments.length-2;if(zt===1)wt.children=pt;else if(1<zt){for(var de=Array(zt),he=0;he<zt;he++)de[he]=arguments[he+2];wt.children=de}if(U&&U.defaultProps)for(vt in zt=U.defaultProps,zt)wt[vt]===void 0&&(wt[vt]=zt[vt]);return ct(U,Et,wt)},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(U){return{$$typeof:m,render:U}},Ut.isValidElement=dt,Ut.lazy=function(U){return{$$typeof:x,_payload:{_status:-1,_result:U},_init:W}},Ut.memo=function(U,ot){return{$$typeof:g,type:U,compare:ot===void 0?null:ot}},Ut.startTransition=function(U){var ot=nt.T,pt={};nt.T=pt;try{var vt=U(),wt=nt.S;wt!==null&&wt(pt,vt),typeof vt=="object"&&vt!==null&&typeof vt.then=="function"&&vt.then(V,yt)}catch(Et){yt(Et)}finally{ot!==null&&pt.types!==null&&(ot.types=pt.types),nt.T=ot}},Ut.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Ut.use=function(U){return nt.H.use(U)},Ut.useActionState=function(U,ot,pt){return nt.H.useActionState(U,ot,pt)},Ut.useCallback=function(U,ot){return nt.H.useCallback(U,ot)},Ut.useContext=function(U){return nt.H.useContext(U)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(U,ot){return nt.H.useDeferredValue(U,ot)},Ut.useEffect=function(U,ot){return nt.H.useEffect(U,ot)},Ut.useEffectEvent=function(U){return nt.H.useEffectEvent(U)},Ut.useId=function(){return nt.H.useId()},Ut.useImperativeHandle=function(U,ot,pt){return nt.H.useImperativeHandle(U,ot,pt)},Ut.useInsertionEffect=function(U,ot){return nt.H.useInsertionEffect(U,ot)},Ut.useLayoutEffect=function(U,ot){return nt.H.useLayoutEffect(U,ot)},Ut.useMemo=function(U,ot){return nt.H.useMemo(U,ot)},Ut.useOptimistic=function(U,ot){return nt.H.useOptimistic(U,ot)},Ut.useReducer=function(U,ot,pt){return nt.H.useReducer(U,ot,pt)},Ut.useRef=function(U){return nt.H.useRef(U)},Ut.useState=function(U){return nt.H.useState(U)},Ut.useSyncExternalStore=function(U,ot,pt){return nt.H.useSyncExternalStore(U,ot,pt)},Ut.useTransition=function(){return nt.H.useTransition()},Ut.version="19.2.4",Ut}var k0;function Fm(){return k0||(k0=1,wh.exports=hb()),wh.exports}var q=Fm();const Gc=lf(q);var bh={exports:{}},wl={},Ch={exports:{}},Ah={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function mb(){return L0||(L0=1,(function(e){function t(G,J){var W=G.length;G.push(J);t:for(;0<W;){var yt=W-1>>>1,mt=G[yt];if(0<a(mt,J))G[yt]=J,G[W]=mt,W=yt;else break t}}function i(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var J=G[0],W=G.pop();if(W!==J){G[0]=W;t:for(var yt=0,mt=G.length,U=mt>>>1;yt<U;){var ot=2*(yt+1)-1,pt=G[ot],vt=ot+1,wt=G[vt];if(0>a(pt,W))vt<mt&&0>a(wt,pt)?(G[yt]=wt,G[vt]=W,yt=vt):(G[yt]=pt,G[ot]=W,yt=ot);else if(vt<mt&&0>a(wt,W))G[yt]=wt,G[vt]=W,yt=vt;else break t}}return J}function a(G,J){var W=G.sortIndex-J.sortIndex;return W!==0?W:G.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();e.unstable_now=function(){return d.now()-m}}var y=[],g=[],x=1,w=null,b=3,M=!1,I=!1,P=!1,k=!1,B=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function $(G){for(var J=i(g);J!==null;){if(J.callback===null)s(g);else if(J.startTime<=G)s(g),J.sortIndex=J.expirationTime,t(y,J);else break;J=i(g)}}function Q(G){if(P=!1,$(G),!I)if(i(y)!==null)I=!0,V||(V=!0,_t());else{var J=i(g);J!==null&&ft(Q,J.startTime-G)}}var V=!1,nt=-1,rt=5,ct=-1;function Tt(){return k?!0:!(e.unstable_now()-ct<rt)}function dt(){if(k=!1,V){var G=e.unstable_now();ct=G;var J=!0;try{t:{I=!1,P&&(P=!1,Y(nt),nt=-1),M=!0;var W=b;try{e:{for($(G),w=i(y);w!==null&&!(w.expirationTime>G&&Tt());){var yt=w.callback;if(typeof yt=="function"){w.callback=null,b=w.priorityLevel;var mt=yt(w.expirationTime<=G);if(G=e.unstable_now(),typeof mt=="function"){w.callback=mt,$(G),J=!0;break e}w===i(y)&&s(y),$(G)}else s(y);w=i(y)}if(w!==null)J=!0;else{var U=i(g);U!==null&&ft(Q,U.startTime-G),J=!1}}break t}finally{w=null,b=W,M=!1}J=void 0}}finally{J?_t():V=!1}}}var _t;if(typeof z=="function")_t=function(){z(dt)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,K=ht.port2;ht.port1.onmessage=dt,_t=function(){K.postMessage(null)}}else _t=function(){B(dt,0)};function ft(G,J){nt=B(function(){G(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rt=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(G){switch(b){case 1:case 2:case 3:var J=3;break;default:J=b}var W=b;b=J;try{return G()}finally{b=W}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=b;b=G;try{return J()}finally{b=W}},e.unstable_scheduleCallback=function(G,J,W){var yt=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?yt+W:yt):W=yt,G){case 1:var mt=-1;break;case 2:mt=250;break;case 5:mt=1073741823;break;case 4:mt=1e4;break;default:mt=5e3}return mt=W+mt,G={id:x++,callback:J,priorityLevel:G,startTime:W,expirationTime:mt,sortIndex:-1},W>yt?(G.sortIndex=W,t(g,G),i(y)===null&&G===i(g)&&(P?(Y(nt),nt=-1):P=!0,ft(Q,W-yt))):(G.sortIndex=mt,t(y,G),I||M||(I=!0,V||(V=!0,_t()))),G},e.unstable_shouldYield=Tt,e.unstable_wrapCallback=function(G){var J=b;return function(){var W=b;b=J;try{return G.apply(this,arguments)}finally{b=W}}}})(Ah)),Ah}var D0;function pb(){return D0||(D0=1,Ch.exports=mb()),Ch.exports}var Mh={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function gb(){if(U0)return Qe;U0=1;var e=Fm();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)g+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(y,g,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:y,containerInfo:g,implementation:x}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(y,g){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(y,g,null,x)},Qe.flushSync=function(y){var g=d.T,x=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=g,s.p=x,s.d.f()}},Qe.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Qe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Qe.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var x=g.as,w=m(x,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;x==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:M}):x==="script"&&s.d.X(y,{crossOrigin:w,integrity:b,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qe.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var x=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Qe.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var x=g.as,w=m(x,g.crossOrigin);s.d.L(y,x,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qe.preloadModule=function(y,g){if(typeof y=="string")if(g){var x=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Qe.requestFormReset=function(y){s.d.r(y)},Qe.unstable_batchedUpdates=function(y,g){return y(g)},Qe.useFormState=function(y,g,x){return d.H.useFormState(y,g,x)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.4",Qe}var O0;function Jx(){if(O0)return Mh.exports;O0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mh.exports=gb(),Mh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function yb(){if(V0)return wl;V0=1;var e=pb(),t=Fm(),i=Jx();function s(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var o=n,l=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(l=o.return),n=o.return;while(n)}return o.tag===3?l:null}function d(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function m(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function y(n){if(u(n)!==n)throw Error(s(188))}function g(n){var o=n.alternate;if(!o){if(o=u(n),o===null)throw Error(s(188));return o!==n?null:n}for(var l=n,f=o;;){var _=l.return;if(_===null)break;var T=_.alternate;if(T===null){if(f=_.return,f!==null){l=f;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===l)return y(_),n;if(T===f)return y(_),o;T=T.sibling}throw Error(s(188))}if(l.return!==f.return)l=_,f=T;else{for(var A=!1,R=_.child;R;){if(R===l){A=!0,l=_,f=T;break}if(R===f){A=!0,f=_,l=T;break}R=R.sibling}if(!A){for(R=T.child;R;){if(R===l){A=!0,l=T,f=_;break}if(R===f){A=!0,f=T,l=_;break}R=R.sibling}if(!A)throw Error(s(189))}}if(l.alternate!==f)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:o}function x(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=x(n),o!==null)return o;n=n.sibling}return null}var w=Object.assign,b=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),z=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),ct=Symbol.for("react.activity"),Tt=Symbol.for("react.memo_cache_sentinel"),dt=Symbol.iterator;function _t(n){return n===null||typeof n!="object"?null:(n=dt&&n[dt]||n["@@iterator"],typeof n=="function"?n:null)}var ht=Symbol.for("react.client.reference");function K(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ht?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case P:return"Fragment";case B:return"Profiler";case k:return"StrictMode";case Q:return"Suspense";case V:return"SuspenseList";case ct:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case z:return n.displayName||"Context";case Y:return(n._context.displayName||"Context")+".Consumer";case $:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case nt:return o=n.displayName||null,o!==null?o:K(n.type)||"Memo";case rt:o=n._payload,n=n._init;try{return K(n(o))}catch{}}return null}var ft=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},yt=[],mt=-1;function U(n){return{current:n}}function ot(n){0>mt||(n.current=yt[mt],yt[mt]=null,mt--)}function pt(n,o){mt++,yt[mt]=n.current,n.current=o}var vt=U(null),wt=U(null),Et=U(null),zt=U(null);function de(n,o){switch(pt(Et,o),pt(wt,n),pt(vt,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?$y(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=$y(o),n=t0(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ot(vt),pt(vt,n)}function he(){ot(vt),ot(wt),ot(Et)}function Pi(n){n.memoizedState!==null&&pt(zt,n);var o=vt.current,l=t0(o,n.type);o!==l&&(pt(wt,n),pt(vt,l))}function co(n){wt.current===n&&(ot(vt),ot(wt)),zt.current===n&&(ot(zt),_l._currentValue=W)}var ki,nr;function Li(n){if(ki===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);ki=o&&o[1]||"",nr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ki+n+nr}var ir=!1;function or(n,o){if(!n||ir)return"";ir=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(o){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(it){var et=it}Reflect.construct(n,[],ut)}else{try{ut.call()}catch(it){et=it}n.call(ut.prototype)}}else{try{throw Error()}catch(it){et=it}(ut=n())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(it){if(it&&et&&typeof it.stack=="string")return[it.stack,et.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=f.DetermineComponentFrameRoot(),A=T[0],R=T[1];if(A&&R){var O=A.split(`
`),X=R.split(`
`);for(_=f=0;f<O.length&&!O[f].includes("DetermineComponentFrameRoot");)f++;for(;_<X.length&&!X[_].includes("DetermineComponentFrameRoot");)_++;if(f===O.length||_===X.length)for(f=O.length-1,_=X.length-1;1<=f&&0<=_&&O[f]!==X[_];)_--;for(;1<=f&&0<=_;f--,_--)if(O[f]!==X[_]){if(f!==1||_!==1)do if(f--,_--,0>_||O[f]!==X[_]){var st=`
`+O[f].replace(" at new "," at ");return n.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",n.displayName)),st}while(1<=f&&0<=_);break}}}finally{ir=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Li(l):""}function ya(n,o){switch(n.tag){case 26:case 27:case 5:return Li(n.type);case 16:return Li("Lazy");case 13:return n.child!==o&&o!==null?Li("Suspense Fallback"):Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return or(n.type,!1);case 11:return or(n.type.render,!1);case 1:return or(n.type,!0);case 31:return Li("Activity");default:return""}}function ns(n){try{var o="",l=null;do o+=ya(n,l),l=n,n=n.return;while(n);return o}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var va=Object.prototype.hasOwnProperty,sr=e.unstable_scheduleCallback,is=e.unstable_cancelCallback,Xl=e.unstable_shouldYield,Wl=e.unstable_requestPaint,tn=e.unstable_now,bf=e.unstable_getCurrentPriorityLevel,rr=e.unstable_ImmediatePriority,_a=e.unstable_UserBlockingPriority,os=e.unstable_NormalPriority,Cf=e.unstable_LowPriority,xa=e.unstable_IdlePriority,Ql=e.log,Af=e.unstable_setDisableYieldValue,fo=null,Fe=null;function jn(n){if(typeof Ql=="function"&&Af(n),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(fo,n)}catch{}}var en=Math.clz32?Math.clz32:Nf,ss=Math.log,Mf=Math.LN2;function Nf(n){return n>>>=0,n===0?32:31-(ss(n)/Mf|0)|0}var rs=256,as=262144,ls=4194304;function Di(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ar(n,o,l){var f=n.pendingLanes;if(f===0)return 0;var _=0,T=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var R=f&134217727;return R!==0?(f=R&~T,f!==0?_=Di(f):(A&=R,A!==0?_=Di(A):l||(l=R&~n,l!==0&&(_=Di(l))))):(R=f&~T,R!==0?_=Di(R):A!==0?_=Di(A):l||(l=f&~n,l!==0&&(_=Di(l)))),_===0?0:o!==0&&o!==_&&(o&T)===0&&(T=_&-_,l=o&-o,T>=l||T===32&&(l&4194048)!==0)?o:_}function us(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function Rf(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $l(){var n=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),n}function Ta(n){for(var o=[],l=0;31>l;l++)o.push(n);return o}function Ui(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function If(n,o,l,f,_,T){var A=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var R=n.entanglements,O=n.expirationTimes,X=n.hiddenUpdates;for(l=A&~l;0<l;){var st=31-en(l),ut=1<<st;R[st]=0,O[st]=-1;var et=X[st];if(et!==null)for(X[st]=null,st=0;st<et.length;st++){var it=et[st];it!==null&&(it.lane&=-536870913)}l&=~ut}f!==0&&tu(n,f,0),T!==0&&_===0&&n.tag!==0&&(n.suspendedLanes|=T&~(A&~o))}function tu(n,o,l){n.pendingLanes|=o,n.suspendedLanes&=~o;var f=31-en(o);n.entangledLanes|=o,n.entanglements[f]=n.entanglements[f]|1073741824|l&261930}function eu(n,o){var l=n.entangledLanes|=o;for(n=n.entanglements;l;){var f=31-en(l),_=1<<f;_&o|n[f]&o&&(n[f]|=o),l&=~_}}function nu(n,o){var l=o&-o;return l=(l&42)!==0?1:cn(l),(l&(n.suspendedLanes|o))!==0?0:l}function cn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Mt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Sa(){var n=J.p;return n!==0?n:(n=window.event,n===void 0?32:E0(n.type))}function Ea(n,o){var l=J.p;try{return J.p=n,o()}finally{J.p=l}}var Xn=Math.random().toString(36).slice(2),be="__reactFiber$"+Xn,Oe="__reactProps$"+Xn,Oi="__reactContainer$"+Xn,hi="__reactEvents$"+Xn,iu="__reactListeners$"+Xn,Pf="__reactHandles$"+Xn,ou="__reactResources$"+Xn,cs="__reactMarker$"+Xn;function wa(n){delete n[be],delete n[Oe],delete n[hi],delete n[iu],delete n[Pf]}function Vi(n){var o=n[be];if(o)return o;for(var l=n.parentNode;l;){if(o=l[Oi]||l[be]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(n=a0(n);n!==null;){if(l=n[be])return l;n=a0(n)}return o}n=l,l=n.parentNode}return null}function ho(n){if(n=n[be]||n[Oi]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function mi(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(s(33))}function mo(n){var o=n[ou];return o||(o=n[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ce(n){n[cs]=!0}var su=new Set,ru={};function Bi(n,o){pi(n,o),pi(n+"Capture",o)}function pi(n,o){for(ru[n]=o,n=0;n<o.length;n++)su.add(o[n])}var fs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ba={},Ca={};function ds(n){return va.call(Ca,n)?!0:va.call(ba,n)?!1:fs.test(n)?Ca[n]=!0:(ba[n]=!0,!1)}function Ht(n,o,l){if(ds(o))if(l===null)n.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var f=o.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+l)}}function ie(n,o,l){if(l===null)n.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+l)}}function fn(n,o,l,f){if(f===null)n.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(o,l,""+f)}}function Pe(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function zi(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Aa(n,o,l){var f=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,T=f.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return _.call(this)},set:function(A){l=""+A,T.call(this,A)}}),Object.defineProperty(n,o,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(A){l=""+A},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Dt(n){if(!n._valueTracker){var o=zi(n)?"checked":"value";n._valueTracker=Aa(n,o,""+n[o])}}function me(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return n&&(f=zi(n)?n.checked?"true":"false":n.value),n=f,n!==l?(o.setValue(n),!0):!1}function po(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var lr=/[\n"\\]/g;function ce(n){return n.replace(lr,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ma(n,o,l,f,_,T,A,R){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),o!=null?A==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+Pe(o)):n.value!==""+Pe(o)&&(n.value=""+Pe(o)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),o!=null?Wn(n,A,Pe(o)):l!=null?Wn(n,A,Pe(l)):f!=null&&n.removeAttribute("value"),_==null&&T!=null&&(n.defaultChecked=!!T),_!=null&&(n.checked=_&&typeof _!="function"&&typeof _!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+Pe(R):n.removeAttribute("name")}function hs(n,o,l,f,_,T,A,R){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.type=T),o!=null||l!=null){if(!(T!=="submit"&&T!=="reset"||o!=null)){Dt(n);return}l=l!=null?""+Pe(l):"",o=o!=null?""+Pe(o):l,R||o===n.value||(n.value=o),n.defaultValue=o}f=f??_,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=R?n.checked:!!f,n.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A),Dt(n)}function Wn(n,o,l){o==="number"&&po(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function ae(n,o,l,f){if(n=n.options,o){o={};for(var _=0;_<l.length;_++)o["$"+l[_]]=!0;for(l=0;l<n.length;l++)_=o.hasOwnProperty("$"+n[l].value),n[l].selected!==_&&(n[l].selected=_),_&&f&&(n[l].defaultSelected=!0)}else{for(l=""+Pe(l),o=null,_=0;_<n.length;_++){if(n[_].value===l){n[_].selected=!0,f&&(n[_].defaultSelected=!0);return}o!==null||n[_].disabled||(o=n[_])}o!==null&&(o.selected=!0)}}function gi(n,o,l){if(o!=null&&(o=""+Pe(o),o!==n.value&&(n.value=o),l==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=l!=null?""+Pe(l):""}function go(n,o,l,f){if(o==null){if(f!=null){if(l!=null)throw Error(s(92));if(ft(f)){if(1<f.length)throw Error(s(93));f=f[0]}l=f}l==null&&(l=""),o=l}l=Pe(o),n.defaultValue=l,f=n.textContent,f===l&&f!==""&&f!==null&&(n.value=f),Dt(n)}function Dn(n,o){if(o){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=o;return}}n.textContent=o}var Na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(n,o,l){var f=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":f?n.setProperty(o,l):typeof l!="number"||l===0||Na.has(o)?o==="float"?n.cssFloat=l:n[o]=(""+l).trim():n[o]=l+"px"}function ur(n,o,l){if(o!=null&&typeof o!="object")throw Error(s(62));if(n=n.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||o!=null&&o.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var _ in o)f=o[_],o.hasOwnProperty(_)&&l[_]!==f&&yo(n,_,f)}else for(var T in o)o.hasOwnProperty(T)&&yo(n,T,o[T])}function ms(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ra=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(n){return Ra.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function dn(){}var fr=null;function ps(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _o=null,kt=null;function bn(n){var o=ho(n);if(o&&(n=o.stateNode)){var l=n[Oe]||null;t:switch(n=o.stateNode,o.type){case"input":if(Ma(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ce(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==n&&f.form===n.form){var _=f[Oe]||null;if(!_)throw Error(s(90));Ma(f,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<l.length;o++)f=l[o],f.form===n.form&&me(f)}break t;case"textarea":gi(n,l.value,l.defaultValue);break t;case"select":o=l.value,o!=null&&ae(n,!!l.multiple,o,!1)}}}var te=!1;function Ia(n,o,l){if(te)return n(o,l);te=!0;try{var f=n(o);return f}finally{if(te=!1,(_o!==null||kt!==null)&&(nc(),_o&&(o=_o,n=kt,kt=_o=null,bn(o),n)))for(o=0;o<n.length;o++)bn(n[o])}}function Hi(n,o){var l=n.stateNode;if(l===null)return null;var f=l[Oe]||null;if(f===null)return null;l=f[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,o,typeof l));return l}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gs=!1;if(Cn)try{var An={};Object.defineProperty(An,"passive",{get:function(){gs=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{gs=!1}var Un=null,Gi=null,ve=null;function yi(){if(ve)return ve;var n,o=Gi,l=o.length,f,_="value"in Un?Un.value:Un.textContent,T=_.length;for(n=0;n<l&&o[n]===_[n];n++);var A=l-n;for(f=1;f<=A&&o[l-f]===_[T-f];f++);return ve=_.slice(n,1<f?1-f:void 0)}function ys(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function vs(){return!0}function au(){return!1}function Ze(n){function o(l,f,_,T,A){this._reactName=l,this._targetInst=_,this.type=f,this.nativeEvent=T,this.target=A,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(l=n[R],this[R]=l?l(T):T[R]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?vs:au,this.isPropagationStopped=au,this}return w(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),o}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=Ze(Qn),xo=w({},Qn,{view:0,detail:0}),Zt=Ze(xo),Pa,nn,$n,_s=w({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$n&&($n&&n.type==="mousemove"?(Pa=n.screenX-$n.screenX,nn=n.screenY-$n.screenY):nn=Pa=0,$n=n),Pa)},movementY:function(n){return"movementY"in n?n.movementY:nn}}),lu=Ze(_s),ka=w({},_s,{dataTransfer:0}),kf=Ze(ka),uu=w({},xo,{relatedTarget:0}),La=Ze(uu),Lf=w({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=Ze(Lf),Df=w({},Qn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),On=Ze(Df),Uf=w({},Qn,{data:0}),Ua=Ze(Uf),vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oa(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=fu[n])?!!o[n]:!1}function Va(){return Oa}var du=w({},xo,{key:function(n){if(n.key){var o=vi[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=ys(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?cu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(n){return n.type==="keypress"?ys(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ys(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),hu=Ze(du),Of=w({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=Ze(Of),Ba=w({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),Vf=Ze(Ba),pu=w({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),gu=Ze(pu),hr=w({},_s,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qi=Ze(hr),Bf=w({},Qn,{newState:0,oldState:0}),xs=Ze(Bf),hn=[9,13,27,32],mr=Cn&&"CompositionEvent"in window,To=null;Cn&&"documentMode"in document&&(To=document.documentMode);var zf=Cn&&"TextEvent"in window&&!To,pr=Cn&&(!mr||To&&8<To&&11>=To),gr=" ",yu=!1;function vu(n,o){switch(n){case"keyup":return hn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function za(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var So=!1;function Mn(n,o){switch(n){case"compositionend":return za(o);case"keypress":return o.which!==32?null:(yu=!0,gr);case"textInput":return n=o.data,n===gr&&yu?null:n;default:return null}}function Eo(n,o){if(So)return n==="compositionend"||!mr&&vu(n,o)?(n=yi(),ve=Gi=Un=null,So=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return pr&&o.locale!=="ko"?null:o.data;default:return null}}var Hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!Hf[n.type]:o==="textarea"}function _u(n,o,l,f){_o?kt?kt.push(f):kt=[f]:_o=f,o=uc(o,"onChange"),0<o.length&&(l=new dr("onChange","change",null,l,f),n.push({event:l,listeners:o}))}var Bn=null,Ts=null;function Ss(n){Jy(n,0)}function Es(n){var o=mi(n);if(me(o))return n}function ws(n,o){if(n==="change")return o}var xu=!1;if(Cn){var zn;if(Cn){var wo="oninput"in document;if(!wo){var Tu=document.createElement("div");Tu.setAttribute("oninput","return;"),wo=typeof Tu.oninput=="function"}zn=wo}else zn=!1;xu=zn&&(!document.documentMode||9<document.documentMode)}function yr(){Bn&&(Bn.detachEvent("onpropertychange",Su),Ts=Bn=null)}function Su(n){if(n.propertyName==="value"&&Es(Ts)){var o=[];_u(o,Ts,n,ps(n)),Ia(Ss,o)}}function ti(n,o,l){n==="focusin"?(yr(),Bn=o,Ts=l,Bn.attachEvent("onpropertychange",Su)):n==="focusout"&&yr()}function Gf(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Es(Ts)}function bo(n,o){if(n==="click")return Es(o)}function qf(n,o){if(n==="input"||n==="change")return Es(o)}function ei(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Ve=typeof Object.is=="function"?Object.is:ei;function Co(n,o){if(Ve(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var l=Object.keys(n),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var _=l[f];if(!va.call(o,_)||!Ve(n[_],o[_]))return!1}return!0}function vr(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bs(n,o){var l=vr(n);n=0;for(var f;l;){if(l.nodeType===3){if(f=n+l.textContent.length,n<=o&&f>=o)return{node:l,offset:o-n};n=f}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=vr(l)}}function _r(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?_r(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Cs(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=po(n.document);o instanceof n.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)n=o.contentWindow;else break;o=po(n.document)}return o}function _i(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var xr=Cn&&"documentMode"in document&&11>=document.documentMode,xi=null,Tr=null,As=null,Ao=!1;function Eu(n,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ao||xi==null||xi!==po(f)||(f=xi,"selectionStart"in f&&_i(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),As&&Co(As,f)||(As=f,f=uc(Tr,"onSelect"),0<f.length&&(o=new dr("onSelect","select",null,o,l),n.push({event:o,listeners:f}),o.target=xi)))}function Ti(n,o){var l={};return l[n.toLowerCase()]=o.toLowerCase(),l["Webkit"+n]="webkit"+o,l["Moz"+n]="moz"+o,l}var Mo={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},Sr={},wu={};Cn&&(wu=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Be(n){if(Sr[n])return Sr[n];if(!Mo[n])return n;var o=Mo[n],l;for(l in o)if(o.hasOwnProperty(l)&&l in wu)return Sr[n]=o[l];return n}var Ms=Be("animationend"),bu=Be("animationiteration"),Ns=Be("animationstart"),Ff=Be("transitionrun"),Cu=Be("transitionstart"),Zf=Be("transitioncancel"),No=Be("transitionend"),Au=new Map,Si="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Si.push("scrollEnd");function mn(n,o){Au.set(n,o),Bi(o,[n])}var Rs=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},pn=[],Xe=0,Er=0;function Is(){for(var n=Xe,o=Er=Xe=0;o<n;){var l=pn[o];pn[o++]=null;var f=pn[o];pn[o++]=null;var _=pn[o];pn[o++]=null;var T=pn[o];if(pn[o++]=null,f!==null&&_!==null){var A=f.pending;A===null?_.next=_:(_.next=A.next,A.next=_),f.pending=_}T!==0&&Ro(l,_,T)}}function Ei(n,o,l,f){pn[Xe++]=n,pn[Xe++]=o,pn[Xe++]=l,pn[Xe++]=f,Er|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function Ha(n,o,l,f){return Ei(n,o,l,f),Ps(n)}function Hn(n,o){return Ei(n,null,null,o),Ps(n)}function Ro(n,o,l){n.lanes|=l;var f=n.alternate;f!==null&&(f.lanes|=l);for(var _=!1,T=n.return;T!==null;)T.childLanes|=l,f=T.alternate,f!==null&&(f.childLanes|=l),T.tag===22&&(n=T.stateNode,n===null||n._visibility&1||(_=!0)),n=T,T=T.return;return n.tag===3?(T=n.stateNode,_&&o!==null&&(_=31-en(l),n=T.hiddenUpdates,f=n[_],f===null?n[_]=[o]:f.push(o),o.lane=l|536870912),T):null}function Ps(n){if(50<dl)throw dl=0,Jd=null,Error(s(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var Fi={};function Yf(n,o,l,f){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(n,o,l,f){return new Yf(n,o,l,f)}function wr(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Gn(n,o){var l=n.alternate;return l===null?(l=We(n.tag,o,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=o,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,o=n.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Ga(n,o){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,o=l.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function ks(n,o,l,f,_,T){var A=0;if(f=n,typeof n=="function")wr(n)&&(A=1);else if(typeof n=="string")A=$w(n,l,vt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case ct:return n=We(31,l,o,_),n.elementType=ct,n.lanes=T,n;case P:return Zi(l.children,_,T,o);case k:A=8,_|=24;break;case B:return n=We(12,l,o,_|2),n.elementType=B,n.lanes=T,n;case Q:return n=We(13,l,o,_),n.elementType=Q,n.lanes=T,n;case V:return n=We(19,l,o,_),n.elementType=V,n.lanes=T,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:A=10;break t;case Y:A=9;break t;case $:A=11;break t;case nt:A=14;break t;case rt:A=16,f=null;break t}A=29,l=Error(s(130,n===null?"null":typeof n,"")),f=null}return o=We(A,l,o,_),o.elementType=n,o.type=f,o.lanes=T,o}function Zi(n,o,l,f){return n=We(7,n,f,o),n.lanes=l,n}function br(n,o,l){return n=We(6,n,null,o),n.lanes=l,n}function qa(n){var o=We(18,null,null,0);return o.stateNode=n,o}function Fa(n,o,l){return o=We(4,n.children!==null?n.children:[],n.key,o),o.lanes=l,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var r=new WeakMap;function c(n,o){if(typeof n=="object"&&n!==null){var l=r.get(n);return l!==void 0?l:(o={value:n,source:o,stack:ns(o)},r.set(n,o),o)}return{value:n,source:o,stack:ns(o)}}var v=[],S=0,C=null,N=0,D=[],Z=0,tt=null,lt=1,xt="";function Nt(n,o){v[S++]=N,v[S++]=C,C=n,N=o}function Vt(n,o,l){D[Z++]=lt,D[Z++]=xt,D[Z++]=tt,tt=n;var f=lt;n=xt;var _=32-en(f)-1;f&=~(1<<_),l+=1;var T=32-en(o)+_;if(30<T){var A=_-_%5;T=(f&(1<<A)-1).toString(32),f>>=A,_-=A,lt=1<<32-en(o)+_|l<<_|f,xt=T+n}else lt=1<<T|l<<_|f,xt=n}function ke(n){n.return!==null&&(Nt(n,1),Vt(n,1,0))}function _e(n){for(;n===C;)C=v[--S],v[S]=null,N=v[--S],v[S]=null;for(;n===tt;)tt=D[--Z],D[Z]=null,xt=D[--Z],D[Z]=null,lt=D[--Z],D[Z]=null}function on(n,o){D[Z++]=lt,D[Z++]=xt,D[Z++]=tt,lt=o.id,xt=o.overflow,tt=n}var Kt=null,jt=null,Gt=!1,wi=null,gn=!1,Cr=Error(s(519));function bi(n){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ls(c(o,n)),Cr}function Za(n){var o=n.stateNode,l=n.type,f=n.memoizedProps;switch(o[be]=n,o[Oe]=f,l){case"dialog":Ft("cancel",o),Ft("close",o);break;case"iframe":case"object":case"embed":Ft("load",o);break;case"video":case"audio":for(l=0;l<ml.length;l++)Ft(ml[l],o);break;case"source":Ft("error",o);break;case"img":case"image":case"link":Ft("error",o),Ft("load",o);break;case"details":Ft("toggle",o);break;case"input":Ft("invalid",o),hs(o,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ft("invalid",o);break;case"textarea":Ft("invalid",o),go(o,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||f.suppressHydrationWarning===!0||Wy(o.textContent,l)?(f.popover!=null&&(Ft("beforetoggle",o),Ft("toggle",o)),f.onScroll!=null&&Ft("scroll",o),f.onScrollEnd!=null&&Ft("scrollend",o),f.onClick!=null&&(o.onclick=dn),o=!0):o=!1,o||bi(n,!0)}function ge(n){for(Kt=n.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:gn=!1;return;case 27:case 3:gn=!0;return;default:Kt=Kt.return}}function ni(n){if(n!==Kt)return!1;if(!Gt)return ge(n),Gt=!0,!1;var o=n.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||lh(n.type,n.memoizedProps)),l=!l),l&&jt&&bi(n),ge(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));jt=r0(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));jt=r0(n)}else o===27?(o=jt,Fo(n.type)?(n=hh,hh=null,jt=n):jt=o):jt=Kt?Fn(n.stateNode.nextSibling):null;return!0}function Yi(){jt=Kt=null,Gt=!1}function Ya(){var n=wi;return n!==null&&(xn===null?xn=n:xn.push.apply(xn,n),wi=null),n}function Ls(n){wi===null?wi=[n]:wi.push(n)}var Ds=U(null),Ci=null,ii=null;function Io(n,o,l){pt(Ds,o._currentValue),o._currentValue=l}function Ji(n){n._currentValue=Ds.current,ot(Ds)}function Jf(n,o,l){for(;n!==null;){var f=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),n===l)break;n=n.return}}function Kf(n,o,l,f){var _=n.child;for(_!==null&&(_.return=n);_!==null;){var T=_.dependencies;if(T!==null){var A=_.child;T=T.firstContext;t:for(;T!==null;){var R=T;T=_;for(var O=0;O<o.length;O++)if(R.context===o[O]){T.lanes|=l,R=T.alternate,R!==null&&(R.lanes|=l),Jf(T.return,l,n),f||(A=null);break t}T=R.next}}else if(_.tag===18){if(A=_.return,A===null)throw Error(s(341));A.lanes|=l,T=A.alternate,T!==null&&(T.lanes|=l),Jf(A,l,n),A=null}else A=_.child;if(A!==null)A.return=_;else for(A=_;A!==null;){if(A===n){A=null;break}if(_=A.sibling,_!==null){_.return=A.return,A=_;break}A=A.return}_=A}}function Ar(n,o,l,f){n=null;for(var _=o,T=!1;_!==null;){if(!T){if((_.flags&524288)!==0)T=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var A=_.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var R=_.type;Ve(_.pendingProps.value,A.value)||(n!==null?n.push(R):n=[R])}}else if(_===zt.current){if(A=_.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(n!==null?n.push(_l):n=[_l])}_=_.return}n!==null&&Kf(o,n,l,f),o.flags|=262144}function Mu(n){for(n=n.firstContext;n!==null;){if(!Ve(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Us(n){Ci=n,ii=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ye(n){return Up(Ci,n)}function Nu(n,o){return Ci===null&&Us(n),Up(n,o)}function Up(n,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},ii===null){if(n===null)throw Error(s(308));ii=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else ii=ii.next=o;return l}var jE=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(l,f){n.push(f)}};this.abort=function(){o.aborted=!0,n.forEach(function(l){return l()})}},XE=e.unstable_scheduleCallback,WE=e.unstable_NormalPriority,Ae={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new jE,data:new Map,refCount:0}}function Ja(n){n.refCount--,n.refCount===0&&XE(WE,function(){n.controller.abort()})}var Ka=null,Xf=0,Mr=0,Nr=null;function QE(n,o){if(Ka===null){var l=Ka=[];Xf=0,Mr=$d(),Nr={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Xf++,o.then(Op,Op),o}function Op(){if(--Xf===0&&Ka!==null){Nr!==null&&(Nr.status="fulfilled");var n=Ka;Ka=null,Mr=0,Nr=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function $E(n,o){var l=[],f={status:"pending",value:null,reason:null,then:function(_){l.push(_)}};return n.then(function(){f.status="fulfilled",f.value=o;for(var _=0;_<l.length;_++)(0,l[_])(o)},function(_){for(f.status="rejected",f.reason=_,_=0;_<l.length;_++)(0,l[_])(void 0)}),f}var Vp=G.S;G.S=function(n,o){Ty=tn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&QE(n,o),Vp!==null&&Vp(n,o)};var Os=U(null);function Wf(){var n=Os.current;return n!==null?n:le.pooledCache}function Ru(n,o){o===null?pt(Os,Os.current):pt(Os,o.pool)}function Bp(){var n=Wf();return n===null?null:{parent:Ae._currentValue,pool:n}}var Rr=Error(s(460)),Qf=Error(s(474)),Iu=Error(s(542)),Pu={then:function(){}};function zp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Hp(n,o,l){switch(l=n[l],l===void 0?n.push(o):l!==o&&(o.then(dn,dn),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,qp(n),n;default:if(typeof o.status=="string")o.then(dn,dn);else{if(n=le,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=o,n.status="pending",n.then(function(f){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=f}},function(f){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=f}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,qp(n),n}throw Bs=o,Rr}}function Vs(n){try{var o=n._init;return o(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Bs=l,Rr):l}}var Bs=null;function Gp(){if(Bs===null)throw Error(s(459));var n=Bs;return Bs=null,n}function qp(n){if(n===Rr||n===Iu)throw Error(s(483))}var Ir=null,ja=0;function ku(n){var o=ja;return ja+=1,Ir===null&&(Ir=[]),Hp(Ir,n,o)}function Xa(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function Lu(n,o){throw o.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function Fp(n){function o(F,H){if(n){var j=F.deletions;j===null?(F.deletions=[H],F.flags|=16):j.push(H)}}function l(F,H){if(!n)return null;for(;H!==null;)o(F,H),H=H.sibling;return null}function f(F){for(var H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function _(F,H){return F=Gn(F,H),F.index=0,F.sibling=null,F}function T(F,H,j){return F.index=j,n?(j=F.alternate,j!==null?(j=j.index,j<H?(F.flags|=67108866,H):j):(F.flags|=67108866,H)):(F.flags|=1048576,H)}function A(F){return n&&F.alternate===null&&(F.flags|=67108866),F}function R(F,H,j,at){return H===null||H.tag!==6?(H=br(j,F.mode,at),H.return=F,H):(H=_(H,j),H.return=F,H)}function O(F,H,j,at){var Rt=j.type;return Rt===P?st(F,H,j.props.children,at,j.key):H!==null&&(H.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===rt&&Vs(Rt)===H.type)?(H=_(H,j.props),Xa(H,j),H.return=F,H):(H=ks(j.type,j.key,j.props,null,F.mode,at),Xa(H,j),H.return=F,H)}function X(F,H,j,at){return H===null||H.tag!==4||H.stateNode.containerInfo!==j.containerInfo||H.stateNode.implementation!==j.implementation?(H=Fa(j,F.mode,at),H.return=F,H):(H=_(H,j.children||[]),H.return=F,H)}function st(F,H,j,at,Rt){return H===null||H.tag!==7?(H=Zi(j,F.mode,at,Rt),H.return=F,H):(H=_(H,j),H.return=F,H)}function ut(F,H,j){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=br(""+H,F.mode,j),H.return=F,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return j=ks(H.type,H.key,H.props,null,F.mode,j),Xa(j,H),j.return=F,j;case I:return H=Fa(H,F.mode,j),H.return=F,H;case rt:return H=Vs(H),ut(F,H,j)}if(ft(H)||_t(H))return H=Zi(H,F.mode,j,null),H.return=F,H;if(typeof H.then=="function")return ut(F,ku(H),j);if(H.$$typeof===z)return ut(F,Nu(F,H),j);Lu(F,H)}return null}function et(F,H,j,at){var Rt=H!==null?H.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return Rt!==null?null:R(F,H,""+j,at);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case M:return j.key===Rt?O(F,H,j,at):null;case I:return j.key===Rt?X(F,H,j,at):null;case rt:return j=Vs(j),et(F,H,j,at)}if(ft(j)||_t(j))return Rt!==null?null:st(F,H,j,at,null);if(typeof j.then=="function")return et(F,H,ku(j),at);if(j.$$typeof===z)return et(F,H,Nu(F,j),at);Lu(F,j)}return null}function it(F,H,j,at,Rt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return F=F.get(j)||null,R(H,F,""+at,Rt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case M:return F=F.get(at.key===null?j:at.key)||null,O(H,F,at,Rt);case I:return F=F.get(at.key===null?j:at.key)||null,X(H,F,at,Rt);case rt:return at=Vs(at),it(F,H,j,at,Rt)}if(ft(at)||_t(at))return F=F.get(j)||null,st(H,F,at,Rt,null);if(typeof at.then=="function")return it(F,H,j,ku(at),Rt);if(at.$$typeof===z)return it(F,H,j,Nu(H,at),Rt);Lu(H,at)}return null}function bt(F,H,j,at){for(var Rt=null,Xt=null,At=H,Bt=H=0,Jt=null;At!==null&&Bt<j.length;Bt++){At.index>Bt?(Jt=At,At=null):Jt=At.sibling;var Wt=et(F,At,j[Bt],at);if(Wt===null){At===null&&(At=Jt);break}n&&At&&Wt.alternate===null&&o(F,At),H=T(Wt,H,Bt),Xt===null?Rt=Wt:Xt.sibling=Wt,Xt=Wt,At=Jt}if(Bt===j.length)return l(F,At),Gt&&Nt(F,Bt),Rt;if(At===null){for(;Bt<j.length;Bt++)At=ut(F,j[Bt],at),At!==null&&(H=T(At,H,Bt),Xt===null?Rt=At:Xt.sibling=At,Xt=At);return Gt&&Nt(F,Bt),Rt}for(At=f(At);Bt<j.length;Bt++)Jt=it(At,F,Bt,j[Bt],at),Jt!==null&&(n&&Jt.alternate!==null&&At.delete(Jt.key===null?Bt:Jt.key),H=T(Jt,H,Bt),Xt===null?Rt=Jt:Xt.sibling=Jt,Xt=Jt);return n&&At.forEach(function(jo){return o(F,jo)}),Gt&&Nt(F,Bt),Rt}function It(F,H,j,at){if(j==null)throw Error(s(151));for(var Rt=null,Xt=null,At=H,Bt=H=0,Jt=null,Wt=j.next();At!==null&&!Wt.done;Bt++,Wt=j.next()){At.index>Bt?(Jt=At,At=null):Jt=At.sibling;var jo=et(F,At,Wt.value,at);if(jo===null){At===null&&(At=Jt);break}n&&At&&jo.alternate===null&&o(F,At),H=T(jo,H,Bt),Xt===null?Rt=jo:Xt.sibling=jo,Xt=jo,At=Jt}if(Wt.done)return l(F,At),Gt&&Nt(F,Bt),Rt;if(At===null){for(;!Wt.done;Bt++,Wt=j.next())Wt=ut(F,Wt.value,at),Wt!==null&&(H=T(Wt,H,Bt),Xt===null?Rt=Wt:Xt.sibling=Wt,Xt=Wt);return Gt&&Nt(F,Bt),Rt}for(At=f(At);!Wt.done;Bt++,Wt=j.next())Wt=it(At,F,Bt,Wt.value,at),Wt!==null&&(n&&Wt.alternate!==null&&At.delete(Wt.key===null?Bt:Wt.key),H=T(Wt,H,Bt),Xt===null?Rt=Wt:Xt.sibling=Wt,Xt=Wt);return n&&At.forEach(function(cb){return o(F,cb)}),Gt&&Nt(F,Bt),Rt}function re(F,H,j,at){if(typeof j=="object"&&j!==null&&j.type===P&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case M:t:{for(var Rt=j.key;H!==null;){if(H.key===Rt){if(Rt=j.type,Rt===P){if(H.tag===7){l(F,H.sibling),at=_(H,j.props.children),at.return=F,F=at;break t}}else if(H.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===rt&&Vs(Rt)===H.type){l(F,H.sibling),at=_(H,j.props),Xa(at,j),at.return=F,F=at;break t}l(F,H);break}else o(F,H);H=H.sibling}j.type===P?(at=Zi(j.props.children,F.mode,at,j.key),at.return=F,F=at):(at=ks(j.type,j.key,j.props,null,F.mode,at),Xa(at,j),at.return=F,F=at)}return A(F);case I:t:{for(Rt=j.key;H!==null;){if(H.key===Rt)if(H.tag===4&&H.stateNode.containerInfo===j.containerInfo&&H.stateNode.implementation===j.implementation){l(F,H.sibling),at=_(H,j.children||[]),at.return=F,F=at;break t}else{l(F,H);break}else o(F,H);H=H.sibling}at=Fa(j,F.mode,at),at.return=F,F=at}return A(F);case rt:return j=Vs(j),re(F,H,j,at)}if(ft(j))return bt(F,H,j,at);if(_t(j)){if(Rt=_t(j),typeof Rt!="function")throw Error(s(150));return j=Rt.call(j),It(F,H,j,at)}if(typeof j.then=="function")return re(F,H,ku(j),at);if(j.$$typeof===z)return re(F,H,Nu(F,j),at);Lu(F,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,H!==null&&H.tag===6?(l(F,H.sibling),at=_(H,j),at.return=F,F=at):(l(F,H),at=br(j,F.mode,at),at.return=F,F=at),A(F)):l(F,H)}return function(F,H,j,at){try{ja=0;var Rt=re(F,H,j,at);return Ir=null,Rt}catch(At){if(At===Rr||At===Iu)throw At;var Xt=We(29,At,null,F.mode);return Xt.lanes=at,Xt.return=F,Xt}finally{}}}var zs=Fp(!0),Zp=Fp(!1),Po=!1;function $f(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ko(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Lo(n,o,l){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,($t&2)!==0){var _=f.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),f.pending=o,o=Ps(n),Ro(n,null,l),o}return Ei(n,f,o,l),Ps(n)}function Wa(n,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var f=o.lanes;f&=n.pendingLanes,l|=f,o.lanes=l,eu(n,l)}}function ed(n,o){var l=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var _=null,T=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};T===null?_=T=A:T=T.next=A,l=l.next}while(l!==null);T===null?_=T=o:T=T.next=o}else _=T=o;l={baseState:f.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:f.shared,callbacks:f.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=o:n.next=o,l.lastBaseUpdate=o}var nd=!1;function Qa(){if(nd){var n=Nr;if(n!==null)throw n}}function $a(n,o,l,f){nd=!1;var _=n.updateQueue;Po=!1;var T=_.firstBaseUpdate,A=_.lastBaseUpdate,R=_.shared.pending;if(R!==null){_.shared.pending=null;var O=R,X=O.next;O.next=null,A===null?T=X:A.next=X,A=O;var st=n.alternate;st!==null&&(st=st.updateQueue,R=st.lastBaseUpdate,R!==A&&(R===null?st.firstBaseUpdate=X:R.next=X,st.lastBaseUpdate=O))}if(T!==null){var ut=_.baseState;A=0,st=X=O=null,R=T;do{var et=R.lane&-536870913,it=et!==R.lane;if(it?(Yt&et)===et:(f&et)===et){et!==0&&et===Mr&&(nd=!0),st!==null&&(st=st.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var bt=n,It=R;et=o;var re=l;switch(It.tag){case 1:if(bt=It.payload,typeof bt=="function"){ut=bt.call(re,ut,et);break t}ut=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=It.payload,et=typeof bt=="function"?bt.call(re,ut,et):bt,et==null)break t;ut=w({},ut,et);break t;case 2:Po=!0}}et=R.callback,et!==null&&(n.flags|=64,it&&(n.flags|=8192),it=_.callbacks,it===null?_.callbacks=[et]:it.push(et))}else it={lane:et,tag:R.tag,payload:R.payload,callback:R.callback,next:null},st===null?(X=st=it,O=ut):st=st.next=it,A|=et;if(R=R.next,R===null){if(R=_.shared.pending,R===null)break;it=R,R=it.next,it.next=null,_.lastBaseUpdate=it,_.shared.pending=null}}while(!0);st===null&&(O=ut),_.baseState=O,_.firstBaseUpdate=X,_.lastBaseUpdate=st,T===null&&(_.shared.lanes=0),Bo|=A,n.lanes=A,n.memoizedState=ut}}function Yp(n,o){if(typeof n!="function")throw Error(s(191,n));n.call(o)}function Jp(n,o){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Yp(l[n],o)}var Pr=U(null),Du=U(0);function Kp(n,o){n=no,pt(Du,n),pt(Pr,o),no=n|o.baseLanes}function id(){pt(Du,no),pt(Pr,Pr.current)}function od(){no=Du.current,ot(Pr),ot(Du)}var Nn=U(null),qn=null;function Do(n){var o=n.alternate;pt(Ee,Ee.current&1),pt(Nn,n),qn===null&&(o===null||Pr.current!==null||o.memoizedState!==null)&&(qn=n)}function sd(n){pt(Ee,Ee.current),pt(Nn,n),qn===null&&(qn=n)}function jp(n){n.tag===22?(pt(Ee,Ee.current),pt(Nn,n),qn===null&&(qn=n)):Uo()}function Uo(){pt(Ee,Ee.current),pt(Nn,Nn.current)}function Rn(n){ot(Nn),qn===n&&(qn=null),ot(Ee)}var Ee=U(0);function Uu(n){for(var o=n;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||fh(l)||dh(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ki=0,Ot=null,oe=null,Me=null,Ou=!1,kr=!1,Hs=!1,Vu=0,tl=0,Lr=null,tw=0;function xe(){throw Error(s(321))}function rd(n,o){if(o===null)return!1;for(var l=0;l<o.length&&l<n.length;l++)if(!Ve(n[l],o[l]))return!1;return!0}function ad(n,o,l,f,_,T){return Ki=T,Ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=n===null||n.memoizedState===null?Pg:Sd,Hs=!1,T=l(f,_),Hs=!1,kr&&(T=Wp(o,l,f,_)),Xp(n),T}function Xp(n){G.H=il;var o=oe!==null&&oe.next!==null;if(Ki=0,Me=oe=Ot=null,Ou=!1,tl=0,Lr=null,o)throw Error(s(300));n===null||Ne||(n=n.dependencies,n!==null&&Mu(n)&&(Ne=!0))}function Wp(n,o,l,f){Ot=n;var _=0;do{if(kr&&(Lr=null),tl=0,kr=!1,25<=_)throw Error(s(301));if(_+=1,Me=oe=null,n.updateQueue!=null){var T=n.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}G.H=kg,T=o(l,f)}while(kr);return T}function ew(){var n=G.H,o=n.useState()[0];return o=typeof o.then=="function"?el(o):o,n=n.useState()[0],(oe!==null?oe.memoizedState:null)!==n&&(Ot.flags|=1024),o}function ld(){var n=Vu!==0;return Vu=0,n}function ud(n,o,l){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~l}function cd(n){if(Ou){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Ou=!1}Ki=0,Me=oe=Ot=null,kr=!1,tl=Vu=0,Lr=null}function sn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ot.memoizedState=Me=n:Me=Me.next=n,Me}function we(){if(oe===null){var n=Ot.alternate;n=n!==null?n.memoizedState:null}else n=oe.next;var o=Me===null?Ot.memoizedState:Me.next;if(o!==null)Me=o,oe=n;else{if(n===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));oe=n,n={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Me===null?Ot.memoizedState=Me=n:Me=Me.next=n}return Me}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(n){var o=tl;return tl+=1,Lr===null&&(Lr=[]),n=Hp(Lr,n,o),o=Ot,(Me===null?o.memoizedState:Me.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?Pg:Sd),n}function zu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return el(n);if(n.$$typeof===z)return Ye(n)}throw Error(s(438,String(n)))}function fd(n){var o=null,l=Ot.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var f=Ot.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(o={data:f.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Bu(),Ot.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(n),f=0;f<n;f++)l[f]=Tt;return o.index++,l}function ji(n,o){return typeof o=="function"?o(n):o}function Hu(n){var o=we();return dd(o,oe,n)}function dd(n,o,l){var f=n.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=l;var _=n.baseQueue,T=f.pending;if(T!==null){if(_!==null){var A=_.next;_.next=T.next,T.next=A}o.baseQueue=_=T,f.pending=null}if(T=n.baseState,_===null)n.memoizedState=T;else{o=_.next;var R=A=null,O=null,X=o,st=!1;do{var ut=X.lane&-536870913;if(ut!==X.lane?(Yt&ut)===ut:(Ki&ut)===ut){var et=X.revertLane;if(et===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ut===Mr&&(st=!0);else if((Ki&et)===et){X=X.next,et===Mr&&(st=!0);continue}else ut={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},O===null?(R=O=ut,A=T):O=O.next=ut,Ot.lanes|=et,Bo|=et;ut=X.action,Hs&&l(T,ut),T=X.hasEagerState?X.eagerState:l(T,ut)}else et={lane:ut,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},O===null?(R=O=et,A=T):O=O.next=et,Ot.lanes|=ut,Bo|=ut;X=X.next}while(X!==null&&X!==o);if(O===null?A=T:O.next=R,!Ve(T,n.memoizedState)&&(Ne=!0,st&&(l=Nr,l!==null)))throw l;n.memoizedState=T,n.baseState=A,n.baseQueue=O,f.lastRenderedState=T}return _===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function hd(n){var o=we(),l=o.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var f=l.dispatch,_=l.pending,T=o.memoizedState;if(_!==null){l.pending=null;var A=_=_.next;do T=n(T,A.action),A=A.next;while(A!==_);Ve(T,o.memoizedState)||(Ne=!0),o.memoizedState=T,o.baseQueue===null&&(o.baseState=T),l.lastRenderedState=T}return[T,f]}function Qp(n,o,l){var f=Ot,_=we(),T=Gt;if(T){if(l===void 0)throw Error(s(407));l=l()}else l=o();var A=!Ve((oe||_).memoizedState,l);if(A&&(_.memoizedState=l,Ne=!0),_=_.queue,gd(eg.bind(null,f,_,n),[n]),_.getSnapshot!==o||A||Me!==null&&Me.memoizedState.tag&1){if(f.flags|=2048,Dr(9,{destroy:void 0},tg.bind(null,f,_,l,o),null),le===null)throw Error(s(349));T||(Ki&127)!==0||$p(f,o,l)}return l}function $p(n,o,l){n.flags|=16384,n={getSnapshot:o,value:l},o=Ot.updateQueue,o===null?(o=Bu(),Ot.updateQueue=o,o.stores=[n]):(l=o.stores,l===null?o.stores=[n]:l.push(n))}function tg(n,o,l,f){o.value=l,o.getSnapshot=f,ng(o)&&ig(n)}function eg(n,o,l){return l(function(){ng(o)&&ig(n)})}function ng(n){var o=n.getSnapshot;n=n.value;try{var l=o();return!Ve(n,l)}catch{return!0}}function ig(n){var o=Hn(n,2);o!==null&&Tn(o,n,2)}function md(n){var o=sn();if(typeof n=="function"){var l=n;if(n=l(),Hs){jn(!0);try{l()}finally{jn(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:n},o}function og(n,o,l,f){return n.baseState=l,dd(n,oe,typeof f=="function"?f:ji)}function nw(n,o,l,f,_){if(Fu(n))throw Error(s(485));if(n=o.action,n!==null){var T={payload:_,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){T.listeners.push(A)}};G.T!==null?l(!0):T.isTransition=!1,f(T),l=o.pending,l===null?(T.next=o.pending=T,sg(o,T)):(T.next=l.next,o.pending=l.next=T)}}function sg(n,o){var l=o.action,f=o.payload,_=n.state;if(o.isTransition){var T=G.T,A={};G.T=A;try{var R=l(_,f),O=G.S;O!==null&&O(A,R),rg(n,o,R)}catch(X){pd(n,o,X)}finally{T!==null&&A.types!==null&&(T.types=A.types),G.T=T}}else try{T=l(_,f),rg(n,o,T)}catch(X){pd(n,o,X)}}function rg(n,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){ag(n,o,f)},function(f){return pd(n,o,f)}):ag(n,o,l)}function ag(n,o,l){o.status="fulfilled",o.value=l,lg(o),n.state=l,o=n.pending,o!==null&&(l=o.next,l===o?n.pending=null:(l=l.next,o.next=l,sg(n,l)))}function pd(n,o,l){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do o.status="rejected",o.reason=l,lg(o),o=o.next;while(o!==f)}n.action=null}function lg(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function ug(n,o){return o}function cg(n,o){if(Gt){var l=le.formState;if(l!==null){t:{var f=Ot;if(Gt){if(jt){e:{for(var _=jt,T=gn;_.nodeType!==8;){if(!T){_=null;break e}if(_=Fn(_.nextSibling),_===null){_=null;break e}}T=_.data,_=T==="F!"||T==="F"?_:null}if(_){jt=Fn(_.nextSibling),f=_.data==="F!";break t}}bi(f)}f=!1}f&&(o=l[0])}}return l=sn(),l.memoizedState=l.baseState=o,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:o},l.queue=f,l=Ng.bind(null,Ot,f),f.dispatch=l,f=md(!1),T=Td.bind(null,Ot,!1,f.queue),f=sn(),_={state:o,dispatch:null,action:n,pending:null},f.queue=_,l=nw.bind(null,Ot,_,T,l),_.dispatch=l,f.memoizedState=n,[o,l,!1]}function fg(n){var o=we();return dg(o,oe,n)}function dg(n,o,l){if(o=dd(n,o,ug)[0],n=Hu(ji)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var f=el(o)}catch(A){throw A===Rr?Iu:A}else f=o;o=we();var _=o.queue,T=_.dispatch;return l!==o.memoizedState&&(Ot.flags|=2048,Dr(9,{destroy:void 0},iw.bind(null,_,l),null)),[f,T,n]}function iw(n,o){n.action=o}function hg(n){var o=we(),l=oe;if(l!==null)return dg(o,l,n);we(),o=o.memoizedState,l=we();var f=l.queue.dispatch;return l.memoizedState=n,[o,f,!1]}function Dr(n,o,l,f){return n={tag:n,create:l,deps:f,inst:o,next:null},o=Ot.updateQueue,o===null&&(o=Bu(),Ot.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=n.next=n:(f=l.next,l.next=n,n.next=f,o.lastEffect=n),n}function mg(){return we().memoizedState}function Gu(n,o,l,f){var _=sn();Ot.flags|=n,_.memoizedState=Dr(1|o,{destroy:void 0},l,f===void 0?null:f)}function qu(n,o,l,f){var _=we();f=f===void 0?null:f;var T=_.memoizedState.inst;oe!==null&&f!==null&&rd(f,oe.memoizedState.deps)?_.memoizedState=Dr(o,T,l,f):(Ot.flags|=n,_.memoizedState=Dr(1|o,T,l,f))}function pg(n,o){Gu(8390656,8,n,o)}function gd(n,o){qu(2048,8,n,o)}function ow(n){Ot.flags|=4;var o=Ot.updateQueue;if(o===null)o=Bu(),Ot.updateQueue=o,o.events=[n];else{var l=o.events;l===null?o.events=[n]:l.push(n)}}function gg(n){var o=we().memoizedState;return ow({ref:o,nextImpl:n}),function(){if(($t&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function yg(n,o){return qu(4,2,n,o)}function vg(n,o){return qu(4,4,n,o)}function _g(n,o){if(typeof o=="function"){n=n();var l=o(n);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function xg(n,o,l){l=l!=null?l.concat([n]):null,qu(4,4,_g.bind(null,o,n),l)}function yd(){}function Tg(n,o){var l=we();o=o===void 0?null:o;var f=l.memoizedState;return o!==null&&rd(o,f[1])?f[0]:(l.memoizedState=[n,o],n)}function Sg(n,o){var l=we();o=o===void 0?null:o;var f=l.memoizedState;if(o!==null&&rd(o,f[1]))return f[0];if(f=n(),Hs){jn(!0);try{n()}finally{jn(!1)}}return l.memoizedState=[f,o],f}function vd(n,o,l){return l===void 0||(Ki&1073741824)!==0&&(Yt&261930)===0?n.memoizedState=o:(n.memoizedState=l,n=Ey(),Ot.lanes|=n,Bo|=n,l)}function Eg(n,o,l,f){return Ve(l,o)?l:Pr.current!==null?(n=vd(n,l,f),Ve(n,o)||(Ne=!0),n):(Ki&42)===0||(Ki&1073741824)!==0&&(Yt&261930)===0?(Ne=!0,n.memoizedState=l):(n=Ey(),Ot.lanes|=n,Bo|=n,o)}function wg(n,o,l,f,_){var T=J.p;J.p=T!==0&&8>T?T:8;var A=G.T,R={};G.T=R,Td(n,!1,o,l);try{var O=_(),X=G.S;if(X!==null&&X(R,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var st=$E(O,f);nl(n,o,st,kn(n))}else nl(n,o,f,kn(n))}catch(ut){nl(n,o,{then:function(){},status:"rejected",reason:ut},kn())}finally{J.p=T,A!==null&&R.types!==null&&(A.types=R.types),G.T=A}}function sw(){}function _d(n,o,l,f){if(n.tag!==5)throw Error(s(476));var _=bg(n).queue;wg(n,_,o,W,l===null?sw:function(){return Cg(n),l(f)})}function bg(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:W},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:l},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function Cg(n){var o=bg(n);o.next===null&&(o=n.alternate.memoizedState),nl(n,o.next.queue,{},kn())}function xd(){return Ye(_l)}function Ag(){return we().memoizedState}function Mg(){return we().memoizedState}function rw(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var l=kn();n=ko(l);var f=Lo(o,n,l);f!==null&&(Tn(f,o,l),Wa(f,o,l)),o={cache:jf()},n.payload=o;return}o=o.return}}function aw(n,o,l){var f=kn();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Fu(n)?Rg(o,l):(l=Ha(n,o,l,f),l!==null&&(Tn(l,n,f),Ig(l,o,f)))}function Ng(n,o,l){var f=kn();nl(n,o,l,f)}function nl(n,o,l,f){var _={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fu(n))Rg(o,_);else{var T=n.alternate;if(n.lanes===0&&(T===null||T.lanes===0)&&(T=o.lastRenderedReducer,T!==null))try{var A=o.lastRenderedState,R=T(A,l);if(_.hasEagerState=!0,_.eagerState=R,Ve(R,A))return Ei(n,o,_,0),le===null&&Is(),!1}catch{}finally{}if(l=Ha(n,o,_,f),l!==null)return Tn(l,n,f),Ig(l,o,f),!0}return!1}function Td(n,o,l,f){if(f={lane:2,revertLane:$d(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Fu(n)){if(o)throw Error(s(479))}else o=Ha(n,l,f,2),o!==null&&Tn(o,n,2)}function Fu(n){var o=n.alternate;return n===Ot||o!==null&&o===Ot}function Rg(n,o){kr=Ou=!0;var l=n.pending;l===null?o.next=o:(o.next=l.next,l.next=o),n.pending=o}function Ig(n,o,l){if((l&4194048)!==0){var f=o.lanes;f&=n.pendingLanes,l|=f,o.lanes=l,eu(n,l)}}var il={readContext:Ye,use:zu,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe};il.useEffectEvent=xe;var Pg={readContext:Ye,use:zu,useCallback:function(n,o){return sn().memoizedState=[n,o===void 0?null:o],n},useContext:Ye,useEffect:pg,useImperativeHandle:function(n,o,l){l=l!=null?l.concat([n]):null,Gu(4194308,4,_g.bind(null,o,n),l)},useLayoutEffect:function(n,o){return Gu(4194308,4,n,o)},useInsertionEffect:function(n,o){Gu(4,2,n,o)},useMemo:function(n,o){var l=sn();o=o===void 0?null:o;var f=n();if(Hs){jn(!0);try{n()}finally{jn(!1)}}return l.memoizedState=[f,o],f},useReducer:function(n,o,l){var f=sn();if(l!==void 0){var _=l(o);if(Hs){jn(!0);try{l(o)}finally{jn(!1)}}}else _=o;return f.memoizedState=f.baseState=_,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:_},f.queue=n,n=n.dispatch=aw.bind(null,Ot,n),[f.memoizedState,n]},useRef:function(n){var o=sn();return n={current:n},o.memoizedState=n},useState:function(n){n=md(n);var o=n.queue,l=Ng.bind(null,Ot,o);return o.dispatch=l,[n.memoizedState,l]},useDebugValue:yd,useDeferredValue:function(n,o){var l=sn();return vd(l,n,o)},useTransition:function(){var n=md(!1);return n=wg.bind(null,Ot,n.queue,!0,!1),sn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,l){var f=Ot,_=sn();if(Gt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=o(),le===null)throw Error(s(349));(Yt&127)!==0||$p(f,o,l)}_.memoizedState=l;var T={value:l,getSnapshot:o};return _.queue=T,pg(eg.bind(null,f,T,n),[n]),f.flags|=2048,Dr(9,{destroy:void 0},tg.bind(null,f,T,l,o),null),l},useId:function(){var n=sn(),o=le.identifierPrefix;if(Gt){var l=xt,f=lt;l=(f&~(1<<32-en(f)-1)).toString(32)+l,o="_"+o+"R_"+l,l=Vu++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=tw++,o="_"+o+"r_"+l.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:xd,useFormState:cg,useActionState:cg,useOptimistic:function(n){var o=sn();o.memoizedState=o.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Td.bind(null,Ot,!0,l),l.dispatch=o,[n,o]},useMemoCache:fd,useCacheRefresh:function(){return sn().memoizedState=rw.bind(null,Ot)},useEffectEvent:function(n){var o=sn(),l={impl:n};return o.memoizedState=l,function(){if(($t&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Sd={readContext:Ye,use:zu,useCallback:Tg,useContext:Ye,useEffect:gd,useImperativeHandle:xg,useInsertionEffect:yg,useLayoutEffect:vg,useMemo:Sg,useReducer:Hu,useRef:mg,useState:function(){return Hu(ji)},useDebugValue:yd,useDeferredValue:function(n,o){var l=we();return Eg(l,oe.memoizedState,n,o)},useTransition:function(){var n=Hu(ji)[0],o=we().memoizedState;return[typeof n=="boolean"?n:el(n),o]},useSyncExternalStore:Qp,useId:Ag,useHostTransitionStatus:xd,useFormState:fg,useActionState:fg,useOptimistic:function(n,o){var l=we();return og(l,oe,n,o)},useMemoCache:fd,useCacheRefresh:Mg};Sd.useEffectEvent=gg;var kg={readContext:Ye,use:zu,useCallback:Tg,useContext:Ye,useEffect:gd,useImperativeHandle:xg,useInsertionEffect:yg,useLayoutEffect:vg,useMemo:Sg,useReducer:hd,useRef:mg,useState:function(){return hd(ji)},useDebugValue:yd,useDeferredValue:function(n,o){var l=we();return oe===null?vd(l,n,o):Eg(l,oe.memoizedState,n,o)},useTransition:function(){var n=hd(ji)[0],o=we().memoizedState;return[typeof n=="boolean"?n:el(n),o]},useSyncExternalStore:Qp,useId:Ag,useHostTransitionStatus:xd,useFormState:hg,useActionState:hg,useOptimistic:function(n,o){var l=we();return oe!==null?og(l,oe,n,o):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:fd,useCacheRefresh:Mg};kg.useEffectEvent=gg;function Ed(n,o,l,f){o=n.memoizedState,l=l(f,o),l=l==null?o:w({},o,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var wd={enqueueSetState:function(n,o,l){n=n._reactInternals;var f=kn(),_=ko(f);_.payload=o,l!=null&&(_.callback=l),o=Lo(n,_,f),o!==null&&(Tn(o,n,f),Wa(o,n,f))},enqueueReplaceState:function(n,o,l){n=n._reactInternals;var f=kn(),_=ko(f);_.tag=1,_.payload=o,l!=null&&(_.callback=l),o=Lo(n,_,f),o!==null&&(Tn(o,n,f),Wa(o,n,f))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var l=kn(),f=ko(l);f.tag=2,o!=null&&(f.callback=o),o=Lo(n,f,l),o!==null&&(Tn(o,n,l),Wa(o,n,l))}};function Lg(n,o,l,f,_,T,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,T,A):o.prototype&&o.prototype.isPureReactComponent?!Co(l,f)||!Co(_,T):!0}function Dg(n,o,l,f){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==n&&wd.enqueueReplaceState(o,o.state,null)}function Gs(n,o){var l=o;if("ref"in o){l={};for(var f in o)f!=="ref"&&(l[f]=o[f])}if(n=n.defaultProps){l===o&&(l=w({},l));for(var _ in n)l[_]===void 0&&(l[_]=n[_])}return l}function Ug(n){Rs(n)}function Og(n){console.error(n)}function Vg(n){Rs(n)}function Zu(n,o){try{var l=n.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(f){setTimeout(function(){throw f})}}function Bg(n,o,l){try{var f=n.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function bd(n,o,l){return l=ko(l),l.tag=3,l.payload={element:null},l.callback=function(){Zu(n,o)},l}function zg(n){return n=ko(n),n.tag=3,n}function Hg(n,o,l,f){var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var T=f.value;n.payload=function(){return _(T)},n.callback=function(){Bg(o,l,f)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){Bg(o,l,f),typeof _!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function lw(n,o,l,f,_){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(o=l.alternate,o!==null&&Ar(o,l,_,!0),l=Nn.current,l!==null){switch(l.tag){case 31:case 13:return qn===null?ic():l.alternate===null&&Te===0&&(Te=3),l.flags&=-257,l.flags|=65536,l.lanes=_,f===Pu?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([f]):o.add(f),Xd(n,f,_)),!1;case 22:return l.flags|=65536,f===Pu?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([f]):l.add(f)),Xd(n,f,_)),!1}throw Error(s(435,l.tag))}return Xd(n,f,_),ic(),!1}if(Gt)return o=Nn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,f!==Cr&&(n=Error(s(422),{cause:f}),Ls(c(n,l)))):(f!==Cr&&(o=Error(s(423),{cause:f}),Ls(c(o,l))),n=n.current.alternate,n.flags|=65536,_&=-_,n.lanes|=_,f=c(f,l),_=bd(n.stateNode,f,_),ed(n,_),Te!==4&&(Te=2)),!1;var T=Error(s(520),{cause:f});if(T=c(T,l),fl===null?fl=[T]:fl.push(T),Te!==4&&(Te=2),o===null)return!0;f=c(f,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,n=_&-_,l.lanes|=n,n=bd(l.stateNode,f,n),ed(l,n),!1;case 1:if(o=l.type,T=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(zo===null||!zo.has(T))))return l.flags|=65536,_&=-_,l.lanes|=_,_=zg(_),Hg(_,n,l,f),ed(l,_),!1}l=l.return}while(l!==null);return!1}var Cd=Error(s(461)),Ne=!1;function Je(n,o,l,f){o.child=n===null?Zp(o,null,l,f):zs(o,n.child,l,f)}function Gg(n,o,l,f,_){l=l.render;var T=o.ref;if("ref"in f){var A={};for(var R in f)R!=="ref"&&(A[R]=f[R])}else A=f;return Us(o),f=ad(n,o,l,A,T,_),R=ld(),n!==null&&!Ne?(ud(n,o,_),Xi(n,o,_)):(Gt&&R&&ke(o),o.flags|=1,Je(n,o,f,_),o.child)}function qg(n,o,l,f,_){if(n===null){var T=l.type;return typeof T=="function"&&!wr(T)&&T.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=T,Fg(n,o,T,f,_)):(n=ks(l.type,null,f,o,o.mode,_),n.ref=o.ref,n.return=o,o.child=n)}if(T=n.child,!Ld(n,_)){var A=T.memoizedProps;if(l=l.compare,l=l!==null?l:Co,l(A,f)&&n.ref===o.ref)return Xi(n,o,_)}return o.flags|=1,n=Gn(T,f),n.ref=o.ref,n.return=o,o.child=n}function Fg(n,o,l,f,_){if(n!==null){var T=n.memoizedProps;if(Co(T,f)&&n.ref===o.ref)if(Ne=!1,o.pendingProps=f=T,Ld(n,_))(n.flags&131072)!==0&&(Ne=!0);else return o.lanes=n.lanes,Xi(n,o,_)}return Ad(n,o,l,f,_)}function Zg(n,o,l,f){var _=f.children,T=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((o.flags&128)!==0){if(T=T!==null?T.baseLanes|l:l,n!==null){for(f=o.child=n.child,_=0;f!==null;)_=_|f.lanes|f.childLanes,f=f.sibling;f=_&~T}else f=0,o.child=null;return Yg(n,o,T,l,f)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ru(o,T!==null?T.cachePool:null),T!==null?Kp(o,T):id(),jp(o);else return f=o.lanes=536870912,Yg(n,o,T!==null?T.baseLanes|l:l,l,f)}else T!==null?(Ru(o,T.cachePool),Kp(o,T),Uo(),o.memoizedState=null):(n!==null&&Ru(o,null),id(),Uo());return Je(n,o,_,l),o.child}function ol(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Yg(n,o,l,f,_){var T=Wf();return T=T===null?null:{parent:Ae._currentValue,pool:T},o.memoizedState={baseLanes:l,cachePool:T},n!==null&&Ru(o,null),id(),jp(o),n!==null&&Ar(n,o,f,!0),o.childLanes=_,null}function Yu(n,o){return o=Ku({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function Jg(n,o,l){return zs(o,n.child,null,l),n=Yu(o,o.pendingProps),n.flags|=2,Rn(o),o.memoizedState=null,n}function uw(n,o,l){var f=o.pendingProps,_=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(Gt){if(f.mode==="hidden")return n=Yu(o,f),o.lanes=536870912,ol(null,n);if(sd(o),(n=jt)?(n=s0(n,gn),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:tt!==null?{id:lt,overflow:xt}:null,retryLane:536870912,hydrationErrors:null},l=qa(n),l.return=o,o.child=l,Kt=o,jt=null)):n=null,n===null)throw bi(o);return o.lanes=536870912,null}return Yu(o,f)}var T=n.memoizedState;if(T!==null){var A=T.dehydrated;if(sd(o),_)if(o.flags&256)o.flags&=-257,o=Jg(n,o,l);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(s(558));else if(Ne||Ar(n,o,l,!1),_=(l&n.childLanes)!==0,Ne||_){if(f=le,f!==null&&(A=nu(f,l),A!==0&&A!==T.retryLane))throw T.retryLane=A,Hn(n,A),Tn(f,n,A),Cd;ic(),o=Jg(n,o,l)}else n=T.treeContext,jt=Fn(A.nextSibling),Kt=o,Gt=!0,wi=null,gn=!1,n!==null&&on(o,n),o=Yu(o,f),o.flags|=4096;return o}return n=Gn(n.child,{mode:f.mode,children:f.children}),n.ref=o.ref,o.child=n,n.return=o,n}function Ju(n,o){var l=o.ref;if(l===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(n===null||n.ref!==l)&&(o.flags|=4194816)}}function Ad(n,o,l,f,_){return Us(o),l=ad(n,o,l,f,void 0,_),f=ld(),n!==null&&!Ne?(ud(n,o,_),Xi(n,o,_)):(Gt&&f&&ke(o),o.flags|=1,Je(n,o,l,_),o.child)}function Kg(n,o,l,f,_,T){return Us(o),o.updateQueue=null,l=Wp(o,f,l,_),Xp(n),f=ld(),n!==null&&!Ne?(ud(n,o,T),Xi(n,o,T)):(Gt&&f&&ke(o),o.flags|=1,Je(n,o,l,T),o.child)}function jg(n,o,l,f,_){if(Us(o),o.stateNode===null){var T=Fi,A=l.contextType;typeof A=="object"&&A!==null&&(T=Ye(A)),T=new l(f,T),o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=wd,o.stateNode=T,T._reactInternals=o,T=o.stateNode,T.props=f,T.state=o.memoizedState,T.refs={},$f(o),A=l.contextType,T.context=typeof A=="object"&&A!==null?Ye(A):Fi,T.state=o.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(Ed(o,l,A,f),T.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(A=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),A!==T.state&&wd.enqueueReplaceState(T,T.state,null),$a(o,f,T,_),Qa(),T.state=o.memoizedState),typeof T.componentDidMount=="function"&&(o.flags|=4194308),f=!0}else if(n===null){T=o.stateNode;var R=o.memoizedProps,O=Gs(l,R);T.props=O;var X=T.context,st=l.contextType;A=Fi,typeof st=="object"&&st!==null&&(A=Ye(st));var ut=l.getDerivedStateFromProps;st=typeof ut=="function"||typeof T.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,st||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R||X!==A)&&Dg(o,T,f,A),Po=!1;var et=o.memoizedState;T.state=et,$a(o,f,T,_),Qa(),X=o.memoizedState,R||et!==X||Po?(typeof ut=="function"&&(Ed(o,l,ut,f),X=o.memoizedState),(O=Po||Lg(o,l,O,f,et,X,A))?(st||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=X),T.props=f,T.state=X,T.context=A,f=O):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{T=o.stateNode,td(n,o),A=o.memoizedProps,st=Gs(l,A),T.props=st,ut=o.pendingProps,et=T.context,X=l.contextType,O=Fi,typeof X=="object"&&X!==null&&(O=Ye(X)),R=l.getDerivedStateFromProps,(X=typeof R=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==ut||et!==O)&&Dg(o,T,f,O),Po=!1,et=o.memoizedState,T.state=et,$a(o,f,T,_),Qa();var it=o.memoizedState;A!==ut||et!==it||Po||n!==null&&n.dependencies!==null&&Mu(n.dependencies)?(typeof R=="function"&&(Ed(o,l,R,f),it=o.memoizedState),(st=Po||Lg(o,l,st,f,et,it,O)||n!==null&&n.dependencies!==null&&Mu(n.dependencies))?(X||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,it,O),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,it,O)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||A===n.memoizedProps&&et===n.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&et===n.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=it),T.props=f,T.state=it,T.context=O,f=st):(typeof T.componentDidUpdate!="function"||A===n.memoizedProps&&et===n.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&et===n.memoizedState||(o.flags|=1024),f=!1)}return T=f,Ju(n,o),f=(o.flags&128)!==0,T||f?(T=o.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:T.render(),o.flags|=1,n!==null&&f?(o.child=zs(o,n.child,null,_),o.child=zs(o,null,l,_)):Je(n,o,l,_),o.memoizedState=T.state,n=o.child):n=Xi(n,o,_),n}function Xg(n,o,l,f){return Yi(),o.flags|=256,Je(n,o,l,f),o.child}var Md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(n){return{baseLanes:n,cachePool:Bp()}}function Rd(n,o,l){return n=n!==null?n.childLanes&~l:0,o&&(n|=Pn),n}function Wg(n,o,l){var f=o.pendingProps,_=!1,T=(o.flags&128)!==0,A;if((A=T)||(A=n!==null&&n.memoizedState===null?!1:(Ee.current&2)!==0),A&&(_=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,n===null){if(Gt){if(_?Do(o):Uo(),(n=jt)?(n=s0(n,gn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:tt!==null?{id:lt,overflow:xt}:null,retryLane:536870912,hydrationErrors:null},l=qa(n),l.return=o,o.child=l,Kt=o,jt=null)):n=null,n===null)throw bi(o);return dh(n)?o.lanes=32:o.lanes=536870912,null}var R=f.children;return f=f.fallback,_?(Uo(),_=o.mode,R=Ku({mode:"hidden",children:R},_),f=Zi(f,_,l,null),R.return=o,f.return=o,R.sibling=f,o.child=R,f=o.child,f.memoizedState=Nd(l),f.childLanes=Rd(n,A,l),o.memoizedState=Md,ol(null,f)):(Do(o),Id(o,R))}var O=n.memoizedState;if(O!==null&&(R=O.dehydrated,R!==null)){if(T)o.flags&256?(Do(o),o.flags&=-257,o=Pd(n,o,l)):o.memoizedState!==null?(Uo(),o.child=n.child,o.flags|=128,o=null):(Uo(),R=f.fallback,_=o.mode,f=Ku({mode:"visible",children:f.children},_),R=Zi(R,_,l,null),R.flags|=2,f.return=o,R.return=o,f.sibling=R,o.child=f,zs(o,n.child,null,l),f=o.child,f.memoizedState=Nd(l),f.childLanes=Rd(n,A,l),o.memoizedState=Md,o=ol(null,f));else if(Do(o),dh(R)){if(A=R.nextSibling&&R.nextSibling.dataset,A)var X=A.dgst;A=X,f=Error(s(419)),f.stack="",f.digest=A,Ls({value:f,source:null,stack:null}),o=Pd(n,o,l)}else if(Ne||Ar(n,o,l,!1),A=(l&n.childLanes)!==0,Ne||A){if(A=le,A!==null&&(f=nu(A,l),f!==0&&f!==O.retryLane))throw O.retryLane=f,Hn(n,f),Tn(A,n,f),Cd;fh(R)||ic(),o=Pd(n,o,l)}else fh(R)?(o.flags|=192,o.child=n.child,o=null):(n=O.treeContext,jt=Fn(R.nextSibling),Kt=o,Gt=!0,wi=null,gn=!1,n!==null&&on(o,n),o=Id(o,f.children),o.flags|=4096);return o}return _?(Uo(),R=f.fallback,_=o.mode,O=n.child,X=O.sibling,f=Gn(O,{mode:"hidden",children:f.children}),f.subtreeFlags=O.subtreeFlags&65011712,X!==null?R=Gn(X,R):(R=Zi(R,_,l,null),R.flags|=2),R.return=o,f.return=o,f.sibling=R,o.child=f,ol(null,f),f=o.child,R=n.child.memoizedState,R===null?R=Nd(l):(_=R.cachePool,_!==null?(O=Ae._currentValue,_=_.parent!==O?{parent:O,pool:O}:_):_=Bp(),R={baseLanes:R.baseLanes|l,cachePool:_}),f.memoizedState=R,f.childLanes=Rd(n,A,l),o.memoizedState=Md,ol(n.child,f)):(Do(o),l=n.child,n=l.sibling,l=Gn(l,{mode:"visible",children:f.children}),l.return=o,l.sibling=null,n!==null&&(A=o.deletions,A===null?(o.deletions=[n],o.flags|=16):A.push(n)),o.child=l,o.memoizedState=null,l)}function Id(n,o){return o=Ku({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Ku(n,o){return n=We(22,n,null,o),n.lanes=0,n}function Pd(n,o,l){return zs(o,n.child,null,l),n=Id(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Qg(n,o,l){n.lanes|=o;var f=n.alternate;f!==null&&(f.lanes|=o),Jf(n.return,o,l)}function kd(n,o,l,f,_,T){var A=n.memoizedState;A===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:_,treeForkCount:T}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=f,A.tail=l,A.tailMode=_,A.treeForkCount=T)}function $g(n,o,l){var f=o.pendingProps,_=f.revealOrder,T=f.tail;f=f.children;var A=Ee.current,R=(A&2)!==0;if(R?(A=A&1|2,o.flags|=128):A&=1,pt(Ee,A),Je(n,o,f,l),f=Gt?N:0,!R&&n!==null&&(n.flags&128)!==0)t:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Qg(n,l,o);else if(n.tag===19)Qg(n,l,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break t;for(;n.sibling===null;){if(n.return===null||n.return===o)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(_){case"forwards":for(l=o.child,_=null;l!==null;)n=l.alternate,n!==null&&Uu(n)===null&&(_=l),l=l.sibling;l=_,l===null?(_=o.child,o.child=null):(_=l.sibling,l.sibling=null),kd(o,!1,_,l,T,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,_=o.child,o.child=null;_!==null;){if(n=_.alternate,n!==null&&Uu(n)===null){o.child=_;break}n=_.sibling,_.sibling=l,l=_,_=n}kd(o,!0,l,null,T,f);break;case"together":kd(o,!1,null,null,void 0,f);break;default:o.memoizedState=null}return o.child}function Xi(n,o,l){if(n!==null&&(o.dependencies=n.dependencies),Bo|=o.lanes,(l&o.childLanes)===0)if(n!==null){if(Ar(n,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,l=Gn(n,n.pendingProps),o.child=l,l.return=o;n.sibling!==null;)n=n.sibling,l=l.sibling=Gn(n,n.pendingProps),l.return=o;l.sibling=null}return o.child}function Ld(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&Mu(n)))}function cw(n,o,l){switch(o.tag){case 3:de(o,o.stateNode.containerInfo),Io(o,Ae,n.memoizedState.cache),Yi();break;case 27:case 5:Pi(o);break;case 4:de(o,o.stateNode.containerInfo);break;case 10:Io(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,sd(o),null;break;case 13:var f=o.memoizedState;if(f!==null)return f.dehydrated!==null?(Do(o),o.flags|=128,null):(l&o.child.childLanes)!==0?Wg(n,o,l):(Do(o),n=Xi(n,o,l),n!==null?n.sibling:null);Do(o);break;case 19:var _=(n.flags&128)!==0;if(f=(l&o.childLanes)!==0,f||(Ar(n,o,l,!1),f=(l&o.childLanes)!==0),_){if(f)return $g(n,o,l);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),pt(Ee,Ee.current),f)break;return null;case 22:return o.lanes=0,Zg(n,o,l,o.pendingProps);case 24:Io(o,Ae,n.memoizedState.cache)}return Xi(n,o,l)}function ty(n,o,l){if(n!==null)if(n.memoizedProps!==o.pendingProps)Ne=!0;else{if(!Ld(n,l)&&(o.flags&128)===0)return Ne=!1,cw(n,o,l);Ne=(n.flags&131072)!==0}else Ne=!1,Gt&&(o.flags&1048576)!==0&&Vt(o,N,o.index);switch(o.lanes=0,o.tag){case 16:t:{var f=o.pendingProps;if(n=Vs(o.elementType),o.type=n,typeof n=="function")wr(n)?(f=Gs(n,f),o.tag=1,o=jg(null,o,n,f,l)):(o.tag=0,o=Ad(null,o,n,f,l));else{if(n!=null){var _=n.$$typeof;if(_===$){o.tag=11,o=Gg(null,o,n,f,l);break t}else if(_===nt){o.tag=14,o=qg(null,o,n,f,l);break t}}throw o=K(n)||n,Error(s(306,o,""))}}return o;case 0:return Ad(n,o,o.type,o.pendingProps,l);case 1:return f=o.type,_=Gs(f,o.pendingProps),jg(n,o,f,_,l);case 3:t:{if(de(o,o.stateNode.containerInfo),n===null)throw Error(s(387));f=o.pendingProps;var T=o.memoizedState;_=T.element,td(n,o),$a(o,f,null,l);var A=o.memoizedState;if(f=A.cache,Io(o,Ae,f),f!==T.cache&&Kf(o,[Ae],l,!0),Qa(),f=A.element,T.isDehydrated)if(T={element:f,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=T,o.memoizedState=T,o.flags&256){o=Xg(n,o,f,l);break t}else if(f!==_){_=c(Error(s(424)),o),Ls(_),o=Xg(n,o,f,l);break t}else{switch(n=o.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(jt=Fn(n.firstChild),Kt=o,Gt=!0,wi=null,gn=!0,l=Zp(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Yi(),f===_){o=Xi(n,o,l);break t}Je(n,o,f,l)}o=o.child}return o;case 26:return Ju(n,o),n===null?(l=f0(o.type,null,o.pendingProps,null))?o.memoizedState=l:Gt||(l=o.type,n=o.pendingProps,f=cc(Et.current).createElement(l),f[be]=o,f[Oe]=n,Ke(f,l,n),Ce(f),o.stateNode=f):o.memoizedState=f0(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return Pi(o),n===null&&Gt&&(f=o.stateNode=l0(o.type,o.pendingProps,Et.current),Kt=o,gn=!0,_=jt,Fo(o.type)?(hh=_,jt=Fn(f.firstChild)):jt=_),Je(n,o,o.pendingProps.children,l),Ju(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&Gt&&((_=f=jt)&&(f=zw(f,o.type,o.pendingProps,gn),f!==null?(o.stateNode=f,Kt=o,jt=Fn(f.firstChild),gn=!1,_=!0):_=!1),_||bi(o)),Pi(o),_=o.type,T=o.pendingProps,A=n!==null?n.memoizedProps:null,f=T.children,lh(_,T)?f=null:A!==null&&lh(_,A)&&(o.flags|=32),o.memoizedState!==null&&(_=ad(n,o,ew,null,null,l),_l._currentValue=_),Ju(n,o),Je(n,o,f,l),o.child;case 6:return n===null&&Gt&&((n=l=jt)&&(l=Hw(l,o.pendingProps,gn),l!==null?(o.stateNode=l,Kt=o,jt=null,n=!0):n=!1),n||bi(o)),null;case 13:return Wg(n,o,l);case 4:return de(o,o.stateNode.containerInfo),f=o.pendingProps,n===null?o.child=zs(o,null,f,l):Je(n,o,f,l),o.child;case 11:return Gg(n,o,o.type,o.pendingProps,l);case 7:return Je(n,o,o.pendingProps,l),o.child;case 8:return Je(n,o,o.pendingProps.children,l),o.child;case 12:return Je(n,o,o.pendingProps.children,l),o.child;case 10:return f=o.pendingProps,Io(o,o.type,f.value),Je(n,o,f.children,l),o.child;case 9:return _=o.type._context,f=o.pendingProps.children,Us(o),_=Ye(_),f=f(_),o.flags|=1,Je(n,o,f,l),o.child;case 14:return qg(n,o,o.type,o.pendingProps,l);case 15:return Fg(n,o,o.type,o.pendingProps,l);case 19:return $g(n,o,l);case 31:return uw(n,o,l);case 22:return Zg(n,o,l,o.pendingProps);case 24:return Us(o),f=Ye(Ae),n===null?(_=Wf(),_===null&&(_=le,T=jf(),_.pooledCache=T,T.refCount++,T!==null&&(_.pooledCacheLanes|=l),_=T),o.memoizedState={parent:f,cache:_},$f(o),Io(o,Ae,_)):((n.lanes&l)!==0&&(td(n,o),$a(o,null,null,l),Qa()),_=n.memoizedState,T=o.memoizedState,_.parent!==f?(_={parent:f,cache:f},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),Io(o,Ae,f)):(f=T.cache,Io(o,Ae,f),f!==_.cache&&Kf(o,[Ae],l,!0))),Je(n,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Wi(n){n.flags|=4}function Dd(n,o,l,f,_){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(_&335544128)===_)if(n.stateNode.complete)n.flags|=8192;else if(Ay())n.flags|=8192;else throw Bs=Pu,Qf}else n.flags&=-16777217}function ey(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!g0(o))if(Ay())n.flags|=8192;else throw Bs=Pu,Qf}function ju(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?$l():536870912,n.lanes|=o,Br|=o)}function sl(n,o){if(!Gt)switch(n.tailMode){case"hidden":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function fe(n){var o=n.alternate!==null&&n.alternate.child===n.child,l=0,f=0;if(o)for(var _=n.child;_!==null;)l|=_.lanes|_.childLanes,f|=_.subtreeFlags&65011712,f|=_.flags&65011712,_.return=n,_=_.sibling;else for(_=n.child;_!==null;)l|=_.lanes|_.childLanes,f|=_.subtreeFlags,f|=_.flags,_.return=n,_=_.sibling;return n.subtreeFlags|=f,n.childLanes=l,o}function fw(n,o,l){var f=o.pendingProps;switch(_e(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(o),null;case 1:return fe(o),null;case 3:return l=o.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),Ji(Ae),he(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(ni(o)?Wi(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ya())),fe(o),null;case 26:var _=o.type,T=o.memoizedState;return n===null?(Wi(o),T!==null?(fe(o),ey(o,T)):(fe(o),Dd(o,_,null,f,l))):T?T!==n.memoizedState?(Wi(o),fe(o),ey(o,T)):(fe(o),o.flags&=-16777217):(n=n.memoizedProps,n!==f&&Wi(o),fe(o),Dd(o,_,n,f,l)),null;case 27:if(co(o),l=Et.current,_=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==f&&Wi(o);else{if(!f){if(o.stateNode===null)throw Error(s(166));return fe(o),null}n=vt.current,ni(o)?Za(o):(n=l0(_,f,l),o.stateNode=n,Wi(o))}return fe(o),null;case 5:if(co(o),_=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==f&&Wi(o);else{if(!f){if(o.stateNode===null)throw Error(s(166));return fe(o),null}if(T=vt.current,ni(o))Za(o);else{var A=cc(Et.current);switch(T){case 1:T=A.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:T=A.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":T=A.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":T=A.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":T=A.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof f.is=="string"?A.createElement("select",{is:f.is}):A.createElement("select"),f.multiple?T.multiple=!0:f.size&&(T.size=f.size);break;default:T=typeof f.is=="string"?A.createElement(_,{is:f.is}):A.createElement(_)}}T[be]=o,T[Oe]=f;t:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)T.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break t;for(;A.sibling===null;){if(A.return===null||A.return===o)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=T;t:switch(Ke(T,_,f),_){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break t;case"img":f=!0;break t;default:f=!1}f&&Wi(o)}}return fe(o),Dd(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,l),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==f&&Wi(o);else{if(typeof f!="string"&&o.stateNode===null)throw Error(s(166));if(n=Et.current,ni(o)){if(n=o.stateNode,l=o.memoizedProps,f=null,_=Kt,_!==null)switch(_.tag){case 27:case 5:f=_.memoizedProps}n[be]=o,n=!!(n.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Wy(n.nodeValue,l)),n||bi(o,!0)}else n=cc(n).createTextNode(f),n[be]=o,o.stateNode=n}return fe(o),null;case 31:if(l=o.memoizedState,n===null||n.memoizedState!==null){if(f=ni(o),l!==null){if(n===null){if(!f)throw Error(s(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[be]=o}else Yi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;fe(o),n=!1}else l=Ya(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return o.flags&256?(Rn(o),o):(Rn(o),null);if((o.flags&128)!==0)throw Error(s(558))}return fe(o),null;case 13:if(f=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(_=ni(o),f!==null&&f.dehydrated!==null){if(n===null){if(!_)throw Error(s(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(s(317));_[be]=o}else Yi(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;fe(o),_=!1}else _=Ya(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=_),_=!0;if(!_)return o.flags&256?(Rn(o),o):(Rn(o),null)}return Rn(o),(o.flags&128)!==0?(o.lanes=l,o):(l=f!==null,n=n!==null&&n.memoizedState!==null,l&&(f=o.child,_=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(_=f.alternate.memoizedState.cachePool.pool),T=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(T=f.memoizedState.cachePool.pool),T!==_&&(f.flags|=2048)),l!==n&&l&&(o.child.flags|=8192),ju(o,o.updateQueue),fe(o),null);case 4:return he(),n===null&&ih(o.stateNode.containerInfo),fe(o),null;case 10:return Ji(o.type),fe(o),null;case 19:if(ot(Ee),f=o.memoizedState,f===null)return fe(o),null;if(_=(o.flags&128)!==0,T=f.rendering,T===null)if(_)sl(f,!1);else{if(Te!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(T=Uu(n),T!==null){for(o.flags|=128,sl(f,!1),n=T.updateQueue,o.updateQueue=n,ju(o,n),o.subtreeFlags=0,n=l,l=o.child;l!==null;)Ga(l,n),l=l.sibling;return pt(Ee,Ee.current&1|2),Gt&&Nt(o,f.treeForkCount),o.child}n=n.sibling}f.tail!==null&&tn()>tc&&(o.flags|=128,_=!0,sl(f,!1),o.lanes=4194304)}else{if(!_)if(n=Uu(T),n!==null){if(o.flags|=128,_=!0,n=n.updateQueue,o.updateQueue=n,ju(o,n),sl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!T.alternate&&!Gt)return fe(o),null}else 2*tn()-f.renderingStartTime>tc&&l!==536870912&&(o.flags|=128,_=!0,sl(f,!1),o.lanes=4194304);f.isBackwards?(T.sibling=o.child,o.child=T):(n=f.last,n!==null?n.sibling=T:o.child=T,f.last=T)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=tn(),n.sibling=null,l=Ee.current,pt(Ee,_?l&1|2:l&1),Gt&&Nt(o,f.treeForkCount),n):(fe(o),null);case 22:case 23:return Rn(o),od(),f=o.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(o.flags|=8192):f&&(o.flags|=8192),f?(l&536870912)!==0&&(o.flags&128)===0&&(fe(o),o.subtreeFlags&6&&(o.flags|=8192)):fe(o),l=o.updateQueue,l!==null&&ju(o,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==l&&(o.flags|=2048),n!==null&&ot(Os),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),Ji(Ae),fe(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function dw(n,o){switch(_e(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Ji(Ae),he(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return co(o),null;case 31:if(o.memoizedState!==null){if(Rn(o),o.alternate===null)throw Error(s(340));Yi()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(Rn(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Yi()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return ot(Ee),null;case 4:return he(),null;case 10:return Ji(o.type),null;case 22:case 23:return Rn(o),od(),n!==null&&ot(Os),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return Ji(Ae),null;case 25:return null;default:return null}}function ny(n,o){switch(_e(o),o.tag){case 3:Ji(Ae),he();break;case 26:case 27:case 5:co(o);break;case 4:he();break;case 31:o.memoizedState!==null&&Rn(o);break;case 13:Rn(o);break;case 19:ot(Ee);break;case 10:Ji(o.type);break;case 22:case 23:Rn(o),od(),n!==null&&ot(Os);break;case 24:Ji(Ae)}}function rl(n,o){try{var l=o.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var _=f.next;l=_;do{if((l.tag&n)===n){f=void 0;var T=l.create,A=l.inst;f=T(),A.destroy=f}l=l.next}while(l!==_)}}catch(R){ne(o,o.return,R)}}function Oo(n,o,l){try{var f=o.updateQueue,_=f!==null?f.lastEffect:null;if(_!==null){var T=_.next;f=T;do{if((f.tag&n)===n){var A=f.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,_=o;var O=l,X=R;try{X()}catch(st){ne(_,O,st)}}}f=f.next}while(f!==T)}}catch(st){ne(o,o.return,st)}}function iy(n){var o=n.updateQueue;if(o!==null){var l=n.stateNode;try{Jp(o,l)}catch(f){ne(n,n.return,f)}}}function oy(n,o,l){l.props=Gs(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(f){ne(n,o,f)}}function al(n,o){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof l=="function"?n.refCleanup=l(f):l.current=f}}catch(_){ne(n,o,_)}}function Ai(n,o){var l=n.ref,f=n.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(_){ne(n,o,_)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(_){ne(n,o,_)}else l.current=null}function sy(n){var o=n.type,l=n.memoizedProps,f=n.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break t;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(_){ne(n,n.return,_)}}function Ud(n,o,l){try{var f=n.stateNode;Lw(f,n.type,l,o),f[Oe]=o}catch(_){ne(n,n.return,_)}}function ry(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Fo(n.type)||n.tag===4}function Od(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||ry(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Fo(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Vd(n,o,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(n),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=dn));else if(f!==4&&(f===27&&Fo(n.type)&&(l=n.stateNode,o=null),n=n.child,n!==null))for(Vd(n,o,l),n=n.sibling;n!==null;)Vd(n,o,l),n=n.sibling}function Xu(n,o,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?l.insertBefore(n,o):l.appendChild(n);else if(f!==4&&(f===27&&Fo(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Xu(n,o,l),n=n.sibling;n!==null;)Xu(n,o,l),n=n.sibling}function ay(n){var o=n.stateNode,l=n.memoizedProps;try{for(var f=n.type,_=o.attributes;_.length;)o.removeAttributeNode(_[0]);Ke(o,f,l),o[be]=n,o[Oe]=l}catch(T){ne(n,n.return,T)}}var Qi=!1,Re=!1,Bd=!1,ly=typeof WeakSet=="function"?WeakSet:Set,ze=null;function hw(n,o){if(n=n.containerInfo,rh=yc,n=Cs(n),_i(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var _=f.anchorOffset,T=f.focusNode;f=f.focusOffset;try{l.nodeType,T.nodeType}catch{l=null;break t}var A=0,R=-1,O=-1,X=0,st=0,ut=n,et=null;e:for(;;){for(var it;ut!==l||_!==0&&ut.nodeType!==3||(R=A+_),ut!==T||f!==0&&ut.nodeType!==3||(O=A+f),ut.nodeType===3&&(A+=ut.nodeValue.length),(it=ut.firstChild)!==null;)et=ut,ut=it;for(;;){if(ut===n)break e;if(et===l&&++X===_&&(R=A),et===T&&++st===f&&(O=A),(it=ut.nextSibling)!==null)break;ut=et,et=ut.parentNode}ut=it}l=R===-1||O===-1?null:{start:R,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(ah={focusedElem:n,selectionRange:l},yc=!1,ze=o;ze!==null;)if(o=ze,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,ze=n;else for(;ze!==null;){switch(o=ze,T=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)_=n[l],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&T!==null){n=void 0,l=o,_=T.memoizedProps,T=T.memoizedState,f=l.stateNode;try{var bt=Gs(l.type,_);n=f.getSnapshotBeforeUpdate(bt,T),f.__reactInternalSnapshotBeforeUpdate=n}catch(It){ne(l,l.return,It)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,l=n.nodeType,l===9)ch(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ch(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=o.sibling,n!==null){n.return=o.return,ze=n;break}ze=o.return}}function uy(n,o,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:to(n,l),f&4&&rl(5,l);break;case 1:if(to(n,l),f&4)if(n=l.stateNode,o===null)try{n.componentDidMount()}catch(A){ne(l,l.return,A)}else{var _=Gs(l.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(_,o,n.__reactInternalSnapshotBeforeUpdate)}catch(A){ne(l,l.return,A)}}f&64&&iy(l),f&512&&al(l,l.return);break;case 3:if(to(n,l),f&64&&(n=l.updateQueue,n!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{Jp(n,o)}catch(A){ne(l,l.return,A)}}break;case 27:o===null&&f&4&&ay(l);case 26:case 5:to(n,l),o===null&&f&4&&sy(l),f&512&&al(l,l.return);break;case 12:to(n,l);break;case 31:to(n,l),f&4&&dy(n,l);break;case 13:to(n,l),f&4&&hy(n,l),f&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=Sw.bind(null,l),Gw(n,l))));break;case 22:if(f=l.memoizedState!==null||Qi,!f){o=o!==null&&o.memoizedState!==null||Re,_=Qi;var T=Re;Qi=f,(Re=o)&&!T?eo(n,l,(l.subtreeFlags&8772)!==0):to(n,l),Qi=_,Re=T}break;case 30:break;default:to(n,l)}}function cy(n){var o=n.alternate;o!==null&&(n.alternate=null,cy(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&wa(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pe=null,yn=!1;function $i(n,o,l){for(l=l.child;l!==null;)fy(n,o,l),l=l.sibling}function fy(n,o,l){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(fo,l)}catch{}switch(l.tag){case 26:Re||Ai(l,o),$i(n,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Re||Ai(l,o);var f=pe,_=yn;Fo(l.type)&&(pe=l.stateNode,yn=!1),$i(n,o,l),gl(l.stateNode),pe=f,yn=_;break;case 5:Re||Ai(l,o);case 6:if(f=pe,_=yn,pe=null,$i(n,o,l),pe=f,yn=_,pe!==null)if(yn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(l.stateNode)}catch(T){ne(l,o,T)}else try{pe.removeChild(l.stateNode)}catch(T){ne(l,o,T)}break;case 18:pe!==null&&(yn?(n=pe,i0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Jr(n)):i0(pe,l.stateNode));break;case 4:f=pe,_=yn,pe=l.stateNode.containerInfo,yn=!0,$i(n,o,l),pe=f,yn=_;break;case 0:case 11:case 14:case 15:Oo(2,l,o),Re||Oo(4,l,o),$i(n,o,l);break;case 1:Re||(Ai(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"&&oy(l,o,f)),$i(n,o,l);break;case 21:$i(n,o,l);break;case 22:Re=(f=Re)||l.memoizedState!==null,$i(n,o,l),Re=f;break;default:$i(n,o,l)}}function dy(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Jr(n)}catch(l){ne(o,o.return,l)}}}function hy(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Jr(n)}catch(l){ne(o,o.return,l)}}function mw(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new ly),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new ly),o;default:throw Error(s(435,n.tag))}}function Wu(n,o){var l=mw(n);o.forEach(function(f){if(!l.has(f)){l.add(f);var _=Ew.bind(null,n,f);f.then(_,_)}})}function vn(n,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var _=l[f],T=n,A=o,R=A;t:for(;R!==null;){switch(R.tag){case 27:if(Fo(R.type)){pe=R.stateNode,yn=!1;break t}break;case 5:pe=R.stateNode,yn=!1;break t;case 3:case 4:pe=R.stateNode.containerInfo,yn=!0;break t}R=R.return}if(pe===null)throw Error(s(160));fy(T,A,_),pe=null,yn=!1,T=_.alternate,T!==null&&(T.return=null),_.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)my(o,n),o=o.sibling}var oi=null;function my(n,o){var l=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:vn(o,n),_n(n),f&4&&(Oo(3,n,n.return),rl(3,n),Oo(5,n,n.return));break;case 1:vn(o,n),_n(n),f&512&&(Re||l===null||Ai(l,l.return)),f&64&&Qi&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var _=oi;if(vn(o,n),_n(n),f&512&&(Re||l===null||Ai(l,l.return)),f&4){var T=l!==null?l.memoizedState:null;if(f=n.memoizedState,l===null)if(f===null)if(n.stateNode===null){t:{f=n.type,l=n.memoizedProps,_=_.ownerDocument||_;e:switch(f){case"title":T=_.getElementsByTagName("title")[0],(!T||T[cs]||T[be]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=_.createElement(f),_.head.insertBefore(T,_.querySelector("head > title"))),Ke(T,f,l),T[be]=n,Ce(T),f=T;break t;case"link":var A=m0("link","href",_).get(f+(l.href||""));if(A){for(var R=0;R<A.length;R++)if(T=A[R],T.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&T.getAttribute("rel")===(l.rel==null?null:l.rel)&&T.getAttribute("title")===(l.title==null?null:l.title)&&T.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(R,1);break e}}T=_.createElement(f),Ke(T,f,l),_.head.appendChild(T);break;case"meta":if(A=m0("meta","content",_).get(f+(l.content||""))){for(R=0;R<A.length;R++)if(T=A[R],T.getAttribute("content")===(l.content==null?null:""+l.content)&&T.getAttribute("name")===(l.name==null?null:l.name)&&T.getAttribute("property")===(l.property==null?null:l.property)&&T.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&T.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(R,1);break e}}T=_.createElement(f),Ke(T,f,l),_.head.appendChild(T);break;default:throw Error(s(468,f))}T[be]=n,Ce(T),f=T}n.stateNode=f}else p0(_,n.type,n.stateNode);else n.stateNode=h0(_,f,n.memoizedProps);else T!==f?(T===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):T.count--,f===null?p0(_,n.type,n.stateNode):h0(_,f,n.memoizedProps)):f===null&&n.stateNode!==null&&Ud(n,n.memoizedProps,l.memoizedProps)}break;case 27:vn(o,n),_n(n),f&512&&(Re||l===null||Ai(l,l.return)),l!==null&&f&4&&Ud(n,n.memoizedProps,l.memoizedProps);break;case 5:if(vn(o,n),_n(n),f&512&&(Re||l===null||Ai(l,l.return)),n.flags&32){_=n.stateNode;try{Dn(_,"")}catch(bt){ne(n,n.return,bt)}}f&4&&n.stateNode!=null&&(_=n.memoizedProps,Ud(n,_,l!==null?l.memoizedProps:_)),f&1024&&(Bd=!0);break;case 6:if(vn(o,n),_n(n),f&4){if(n.stateNode===null)throw Error(s(162));f=n.memoizedProps,l=n.stateNode;try{l.nodeValue=f}catch(bt){ne(n,n.return,bt)}}break;case 3:if(hc=null,_=oi,oi=fc(o.containerInfo),vn(o,n),oi=_,_n(n),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Jr(o.containerInfo)}catch(bt){ne(n,n.return,bt)}Bd&&(Bd=!1,py(n));break;case 4:f=oi,oi=fc(n.stateNode.containerInfo),vn(o,n),_n(n),oi=f;break;case 12:vn(o,n),_n(n);break;case 31:vn(o,n),_n(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Wu(n,f)));break;case 13:vn(o,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($u=tn()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Wu(n,f)));break;case 22:_=n.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,X=Qi,st=Re;if(Qi=X||_,Re=st||O,vn(o,n),Re=st,Qi=X,_n(n),f&8192)t:for(o=n.stateNode,o._visibility=_?o._visibility&-2:o._visibility|1,_&&(l===null||O||Qi||Re||qs(n)),l=null,o=n;;){if(o.tag===5||o.tag===26){if(l===null){O=l=o;try{if(T=O.stateNode,_)A=T.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{R=O.stateNode;var ut=O.memoizedProps.style,et=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;R.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(bt){ne(O,O.return,bt)}}}else if(o.tag===6){if(l===null){O=o;try{O.stateNode.nodeValue=_?"":O.memoizedProps}catch(bt){ne(O,O.return,bt)}}}else if(o.tag===18){if(l===null){O=o;try{var it=O.stateNode;_?o0(it,!0):o0(O.stateNode,!1)}catch(bt){ne(O,O.return,bt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break t;for(;o.sibling===null;){if(o.return===null||o.return===n)break t;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}f&4&&(f=n.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,Wu(n,l))));break;case 19:vn(o,n),_n(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Wu(n,f)));break;case 30:break;case 21:break;default:vn(o,n),_n(n)}}function _n(n){var o=n.flags;if(o&2){try{for(var l,f=n.return;f!==null;){if(ry(f)){l=f;break}f=f.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var _=l.stateNode,T=Od(n);Xu(n,T,_);break;case 5:var A=l.stateNode;l.flags&32&&(Dn(A,""),l.flags&=-33);var R=Od(n);Xu(n,R,A);break;case 3:case 4:var O=l.stateNode.containerInfo,X=Od(n);Vd(n,X,O);break;default:throw Error(s(161))}}catch(st){ne(n,n.return,st)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function py(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;py(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function to(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)uy(n,o.alternate,o),o=o.sibling}function qs(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:Oo(4,o,o.return),qs(o);break;case 1:Ai(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&oy(o,o.return,l),qs(o);break;case 27:gl(o.stateNode);case 26:case 5:Ai(o,o.return),qs(o);break;case 22:o.memoizedState===null&&qs(o);break;case 30:qs(o);break;default:qs(o)}n=n.sibling}}function eo(n,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var f=o.alternate,_=n,T=o,A=T.flags;switch(T.tag){case 0:case 11:case 15:eo(_,T,l),rl(4,T);break;case 1:if(eo(_,T,l),f=T,_=f.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(X){ne(f,f.return,X)}if(f=T,_=f.updateQueue,_!==null){var R=f.stateNode;try{var O=_.shared.hiddenCallbacks;if(O!==null)for(_.shared.hiddenCallbacks=null,_=0;_<O.length;_++)Yp(O[_],R)}catch(X){ne(f,f.return,X)}}l&&A&64&&iy(T),al(T,T.return);break;case 27:ay(T);case 26:case 5:eo(_,T,l),l&&f===null&&A&4&&sy(T),al(T,T.return);break;case 12:eo(_,T,l);break;case 31:eo(_,T,l),l&&A&4&&dy(_,T);break;case 13:eo(_,T,l),l&&A&4&&hy(_,T);break;case 22:T.memoizedState===null&&eo(_,T,l),al(T,T.return);break;case 30:break;default:eo(_,T,l)}o=o.sibling}}function zd(n,o){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Ja(l))}function Hd(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Ja(n))}function si(n,o,l,f){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)gy(n,o,l,f),o=o.sibling}function gy(n,o,l,f){var _=o.flags;switch(o.tag){case 0:case 11:case 15:si(n,o,l,f),_&2048&&rl(9,o);break;case 1:si(n,o,l,f);break;case 3:si(n,o,l,f),_&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Ja(n)));break;case 12:if(_&2048){si(n,o,l,f),n=o.stateNode;try{var T=o.memoizedProps,A=T.id,R=T.onPostCommit;typeof R=="function"&&R(A,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){ne(o,o.return,O)}}else si(n,o,l,f);break;case 31:si(n,o,l,f);break;case 13:si(n,o,l,f);break;case 23:break;case 22:T=o.stateNode,A=o.alternate,o.memoizedState!==null?T._visibility&2?si(n,o,l,f):ll(n,o):T._visibility&2?si(n,o,l,f):(T._visibility|=2,Ur(n,o,l,f,(o.subtreeFlags&10256)!==0||!1)),_&2048&&zd(A,o);break;case 24:si(n,o,l,f),_&2048&&Hd(o.alternate,o);break;default:si(n,o,l,f)}}function Ur(n,o,l,f,_){for(_=_&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var T=n,A=o,R=l,O=f,X=A.flags;switch(A.tag){case 0:case 11:case 15:Ur(T,A,R,O,_),rl(8,A);break;case 23:break;case 22:var st=A.stateNode;A.memoizedState!==null?st._visibility&2?Ur(T,A,R,O,_):ll(T,A):(st._visibility|=2,Ur(T,A,R,O,_)),_&&X&2048&&zd(A.alternate,A);break;case 24:Ur(T,A,R,O,_),_&&X&2048&&Hd(A.alternate,A);break;default:Ur(T,A,R,O,_)}o=o.sibling}}function ll(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=n,f=o,_=f.flags;switch(f.tag){case 22:ll(l,f),_&2048&&zd(f.alternate,f);break;case 24:ll(l,f),_&2048&&Hd(f.alternate,f);break;default:ll(l,f)}o=o.sibling}}var ul=8192;function Or(n,o,l){if(n.subtreeFlags&ul)for(n=n.child;n!==null;)yy(n,o,l),n=n.sibling}function yy(n,o,l){switch(n.tag){case 26:Or(n,o,l),n.flags&ul&&n.memoizedState!==null&&tb(l,oi,n.memoizedState,n.memoizedProps);break;case 5:Or(n,o,l);break;case 3:case 4:var f=oi;oi=fc(n.stateNode.containerInfo),Or(n,o,l),oi=f;break;case 22:n.memoizedState===null&&(f=n.alternate,f!==null&&f.memoizedState!==null?(f=ul,ul=16777216,Or(n,o,l),ul=f):Or(n,o,l));break;default:Or(n,o,l)}}function vy(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function cl(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];ze=f,xy(f,n)}vy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_y(n),n=n.sibling}function _y(n){switch(n.tag){case 0:case 11:case 15:cl(n),n.flags&2048&&Oo(9,n,n.return);break;case 3:cl(n);break;case 12:cl(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,Qu(n)):cl(n);break;default:cl(n)}}function Qu(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var f=o[l];ze=f,xy(f,n)}vy(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:Oo(8,o,o.return),Qu(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,Qu(o));break;default:Qu(o)}n=n.sibling}}function xy(n,o){for(;ze!==null;){var l=ze;switch(l.tag){case 0:case 11:case 15:Oo(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ja(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,ze=f;else t:for(l=n;ze!==null;){f=ze;var _=f.sibling,T=f.return;if(cy(f),f===l){ze=null;break t}if(_!==null){_.return=T,ze=_;break t}ze=T}}}var pw={getCacheForType:function(n){var o=Ye(Ae),l=o.data.get(n);return l===void 0&&(l=n(),o.data.set(n,l)),l},cacheSignal:function(){return Ye(Ae).controller.signal}},gw=typeof WeakMap=="function"?WeakMap:Map,$t=0,le=null,qt=null,Yt=0,ee=0,In=null,Vo=!1,Vr=!1,Gd=!1,no=0,Te=0,Bo=0,Fs=0,qd=0,Pn=0,Br=0,fl=null,xn=null,Fd=!1,$u=0,Ty=0,tc=1/0,ec=null,zo=null,Le=0,Ho=null,zr=null,io=0,Zd=0,Yd=null,Sy=null,dl=0,Jd=null;function kn(){return($t&2)!==0&&Yt!==0?Yt&-Yt:G.T!==null?$d():Sa()}function Ey(){if(Pn===0)if((Yt&536870912)===0||Gt){var n=as;as<<=1,(as&3932160)===0&&(as=262144),Pn=n}else Pn=536870912;return n=Nn.current,n!==null&&(n.flags|=32),Pn}function Tn(n,o,l){(n===le&&(ee===2||ee===9)||n.cancelPendingCommit!==null)&&(Hr(n,0),Go(n,Yt,Pn,!1)),Ui(n,l),(($t&2)===0||n!==le)&&(n===le&&(($t&2)===0&&(Fs|=l),Te===4&&Go(n,Yt,Pn,!1)),Mi(n))}function wy(n,o,l){if(($t&6)!==0)throw Error(s(327));var f=!l&&(o&127)===0&&(o&n.expiredLanes)===0||us(n,o),_=f?_w(n,o):jd(n,o,!0),T=f;do{if(_===0){Vr&&!f&&Go(n,o,0,!1);break}else{if(l=n.current.alternate,T&&!yw(l)){_=jd(n,o,!1),T=!1;continue}if(_===2){if(T=o,n.errorRecoveryDisabledLanes&T)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;t:{var R=n;_=fl;var O=R.current.memoizedState.isDehydrated;if(O&&(Hr(R,A).flags|=256),A=jd(R,A,!1),A!==2){if(Gd&&!O){R.errorRecoveryDisabledLanes|=T,Fs|=T,_=4;break t}T=xn,xn=_,T!==null&&(xn===null?xn=T:xn.push.apply(xn,T))}_=A}if(T=!1,_!==2)continue}}if(_===1){Hr(n,0),Go(n,o,0,!0);break}t:{switch(f=n,T=_,T){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Go(f,o,Pn,!Vo);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(_=$u+300-tn(),10<_)){if(Go(f,o,Pn,!Vo),ar(f,0,!0)!==0)break t;io=o,f.timeoutHandle=e0(by.bind(null,f,l,xn,ec,Fd,o,Pn,Fs,Br,Vo,T,"Throttled",-0,0),_);break t}by(f,l,xn,ec,Fd,o,Pn,Fs,Br,Vo,T,null,-0,0)}}break}while(!0);Mi(n)}function by(n,o,l,f,_,T,A,R,O,X,st,ut,et,it){if(n.timeoutHandle=-1,ut=o.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:dn},yy(o,T,ut);var bt=(T&62914560)===T?$u-tn():(T&4194048)===T?Ty-tn():0;if(bt=eb(ut,bt),bt!==null){io=T,n.cancelPendingCommit=bt(ky.bind(null,n,o,T,l,f,_,A,R,O,st,ut,null,et,it)),Go(n,T,A,!X);return}}ky(n,o,T,l,f,_,A,R,O)}function yw(n){for(var o=n;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var _=l[f],T=_.getSnapshot;_=_.value;try{if(!Ve(T(),_))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Go(n,o,l,f){o&=~qd,o&=~Fs,n.suspendedLanes|=o,n.pingedLanes&=~o,f&&(n.warmLanes|=o),f=n.expirationTimes;for(var _=o;0<_;){var T=31-en(_),A=1<<T;f[T]=-1,_&=~A}l!==0&&tu(n,l,o)}function nc(){return($t&6)===0?(hl(0),!1):!0}function Kd(){if(qt!==null){if(ee===0)var n=qt.return;else n=qt,ii=Ci=null,cd(n),Ir=null,ja=0,n=qt;for(;n!==null;)ny(n.alternate,n),n=n.return;qt=null}}function Hr(n,o){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,Ow(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),io=0,Kd(),le=n,qt=l=Gn(n.current,null),Yt=o,ee=0,In=null,Vo=!1,Vr=us(n,o),Gd=!1,Br=Pn=qd=Fs=Bo=Te=0,xn=fl=null,Fd=!1,(o&8)!==0&&(o|=o&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=o;0<f;){var _=31-en(f),T=1<<_;o|=n[_],f&=~T}return no=o,Is(),l}function Cy(n,o){Ot=null,G.H=il,o===Rr||o===Iu?(o=Gp(),ee=3):o===Qf?(o=Gp(),ee=4):ee=o===Cd?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,In=o,qt===null&&(Te=1,Zu(n,c(o,n.current)))}function Ay(){var n=Nn.current;return n===null?!0:(Yt&4194048)===Yt?qn===null:(Yt&62914560)===Yt||(Yt&536870912)!==0?n===qn:!1}function My(){var n=G.H;return G.H=il,n===null?il:n}function Ny(){var n=G.A;return G.A=pw,n}function ic(){Te=4,Vo||(Yt&4194048)!==Yt&&Nn.current!==null||(Vr=!0),(Bo&134217727)===0&&(Fs&134217727)===0||le===null||Go(le,Yt,Pn,!1)}function jd(n,o,l){var f=$t;$t|=2;var _=My(),T=Ny();(le!==n||Yt!==o)&&(ec=null,Hr(n,o)),o=!1;var A=Te;t:do try{if(ee!==0&&qt!==null){var R=qt,O=In;switch(ee){case 8:Kd(),A=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(o=!0);var X=ee;if(ee=0,In=null,Gr(n,R,O,X),l&&Vr){A=0;break t}break;default:X=ee,ee=0,In=null,Gr(n,R,O,X)}}vw(),A=Te;break}catch(st){Cy(n,st)}while(!0);return o&&n.shellSuspendCounter++,ii=Ci=null,$t=f,G.H=_,G.A=T,qt===null&&(le=null,Yt=0,Is()),A}function vw(){for(;qt!==null;)Ry(qt)}function _w(n,o){var l=$t;$t|=2;var f=My(),_=Ny();le!==n||Yt!==o?(ec=null,tc=tn()+500,Hr(n,o)):Vr=us(n,o);t:do try{if(ee!==0&&qt!==null){o=qt;var T=In;e:switch(ee){case 1:ee=0,In=null,Gr(n,o,T,1);break;case 2:case 9:if(zp(T)){ee=0,In=null,Iy(o);break}o=function(){ee!==2&&ee!==9||le!==n||(ee=7),Mi(n)},T.then(o,o);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:zp(T)?(ee=0,In=null,Iy(o)):(ee=0,In=null,Gr(n,o,T,7));break;case 5:var A=null;switch(qt.tag){case 26:A=qt.memoizedState;case 5:case 27:var R=qt;if(A?g0(A):R.stateNode.complete){ee=0,In=null;var O=R.sibling;if(O!==null)qt=O;else{var X=R.return;X!==null?(qt=X,oc(X)):qt=null}break e}}ee=0,In=null,Gr(n,o,T,5);break;case 6:ee=0,In=null,Gr(n,o,T,6);break;case 8:Kd(),Te=6;break t;default:throw Error(s(462))}}xw();break}catch(st){Cy(n,st)}while(!0);return ii=Ci=null,G.H=f,G.A=_,$t=l,qt!==null?0:(le=null,Yt=0,Is(),Te)}function xw(){for(;qt!==null&&!Xl();)Ry(qt)}function Ry(n){var o=ty(n.alternate,n,no);n.memoizedProps=n.pendingProps,o===null?oc(n):qt=o}function Iy(n){var o=n,l=o.alternate;switch(o.tag){case 15:case 0:o=Kg(l,o,o.pendingProps,o.type,void 0,Yt);break;case 11:o=Kg(l,o,o.pendingProps,o.type.render,o.ref,Yt);break;case 5:cd(o);default:ny(l,o),o=qt=Ga(o,no),o=ty(l,o,no)}n.memoizedProps=n.pendingProps,o===null?oc(n):qt=o}function Gr(n,o,l,f){ii=Ci=null,cd(o),Ir=null,ja=0;var _=o.return;try{if(lw(n,_,o,l,Yt)){Te=1,Zu(n,c(l,n.current)),qt=null;return}}catch(T){if(_!==null)throw qt=_,T;Te=1,Zu(n,c(l,n.current)),qt=null;return}o.flags&32768?(Gt||f===1?n=!0:Vr||(Yt&536870912)!==0?n=!1:(Vo=n=!0,(f===2||f===9||f===3||f===6)&&(f=Nn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Py(o,n)):oc(o)}function oc(n){var o=n;do{if((o.flags&32768)!==0){Py(o,Vo);return}n=o.return;var l=fw(o.alternate,o,no);if(l!==null){qt=l;return}if(o=o.sibling,o!==null){qt=o;return}qt=o=n}while(o!==null);Te===0&&(Te=5)}function Py(n,o){do{var l=dw(n.alternate,n);if(l!==null){l.flags&=32767,qt=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(n=n.sibling,n!==null)){qt=n;return}qt=n=l}while(n!==null);Te=6,qt=null}function ky(n,o,l,f,_,T,A,R,O){n.cancelPendingCommit=null;do sc();while(Le!==0);if(($t&6)!==0)throw Error(s(327));if(o!==null){if(o===n.current)throw Error(s(177));if(T=o.lanes|o.childLanes,T|=Er,If(n,l,T,A,R,O),n===le&&(qt=le=null,Yt=0),zr=o,Ho=n,io=l,Zd=T,Yd=_,Sy=f,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,ww(os,function(){return Vy(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||f){f=G.T,G.T=null,_=J.p,J.p=2,A=$t,$t|=4;try{hw(n,o,l)}finally{$t=A,J.p=_,G.T=f}}Le=1,Ly(),Dy(),Uy()}}function Ly(){if(Le===1){Le=0;var n=Ho,o=zr,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var f=J.p;J.p=2;var _=$t;$t|=4;try{my(o,n);var T=ah,A=Cs(n.containerInfo),R=T.focusedElem,O=T.selectionRange;if(A!==R&&R&&R.ownerDocument&&_r(R.ownerDocument.documentElement,R)){if(O!==null&&_i(R)){var X=O.start,st=O.end;if(st===void 0&&(st=X),"selectionStart"in R)R.selectionStart=X,R.selectionEnd=Math.min(st,R.value.length);else{var ut=R.ownerDocument||document,et=ut&&ut.defaultView||window;if(et.getSelection){var it=et.getSelection(),bt=R.textContent.length,It=Math.min(O.start,bt),re=O.end===void 0?It:Math.min(O.end,bt);!it.extend&&It>re&&(A=re,re=It,It=A);var F=bs(R,It),H=bs(R,re);if(F&&H&&(it.rangeCount!==1||it.anchorNode!==F.node||it.anchorOffset!==F.offset||it.focusNode!==H.node||it.focusOffset!==H.offset)){var j=ut.createRange();j.setStart(F.node,F.offset),it.removeAllRanges(),It>re?(it.addRange(j),it.extend(H.node,H.offset)):(j.setEnd(H.node,H.offset),it.addRange(j))}}}}for(ut=[],it=R;it=it.parentNode;)it.nodeType===1&&ut.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ut.length;R++){var at=ut[R];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}yc=!!rh,ah=rh=null}finally{$t=_,J.p=f,G.T=l}}n.current=o,Le=2}}function Dy(){if(Le===2){Le=0;var n=Ho,o=zr,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var f=J.p;J.p=2;var _=$t;$t|=4;try{uy(n,o.alternate,o)}finally{$t=_,J.p=f,G.T=l}}Le=3}}function Uy(){if(Le===4||Le===3){Le=0,Wl();var n=Ho,o=zr,l=io,f=Sy;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Le=5:(Le=0,zr=Ho=null,Oy(n,n.pendingLanes));var _=n.pendingLanes;if(_===0&&(zo=null),Mt(l),o=o.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(fo,o,void 0,(o.current.flags&128)===128)}catch{}if(f!==null){o=G.T,_=J.p,J.p=2,G.T=null;try{for(var T=n.onRecoverableError,A=0;A<f.length;A++){var R=f[A];T(R.value,{componentStack:R.stack})}}finally{G.T=o,J.p=_}}(io&3)!==0&&sc(),Mi(n),_=n.pendingLanes,(l&261930)!==0&&(_&42)!==0?n===Jd?dl++:(dl=0,Jd=n):dl=0,hl(0)}}function Oy(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,Ja(o)))}function sc(){return Ly(),Dy(),Uy(),Vy()}function Vy(){if(Le!==5)return!1;var n=Ho,o=Zd;Zd=0;var l=Mt(io),f=G.T,_=J.p;try{J.p=32>l?32:l,G.T=null,l=Yd,Yd=null;var T=Ho,A=io;if(Le=0,zr=Ho=null,io=0,($t&6)!==0)throw Error(s(331));var R=$t;if($t|=4,_y(T.current),gy(T,T.current,A,l),$t=R,hl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(fo,T)}catch{}return!0}finally{J.p=_,G.T=f,Oy(n,o)}}function By(n,o,l){o=c(l,o),o=bd(n.stateNode,o,2),n=Lo(n,o,2),n!==null&&(Ui(n,2),Mi(n))}function ne(n,o,l){if(n.tag===3)By(n,n,l);else for(;o!==null;){if(o.tag===3){By(o,n,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(zo===null||!zo.has(f))){n=c(l,n),l=zg(2),f=Lo(o,l,2),f!==null&&(Hg(l,f,o,n),Ui(f,2),Mi(f));break}}o=o.return}}function Xd(n,o,l){var f=n.pingCache;if(f===null){f=n.pingCache=new gw;var _=new Set;f.set(o,_)}else _=f.get(o),_===void 0&&(_=new Set,f.set(o,_));_.has(l)||(Gd=!0,_.add(l),n=Tw.bind(null,n,o,l),o.then(n,n))}function Tw(n,o,l){var f=n.pingCache;f!==null&&f.delete(o),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,le===n&&(Yt&l)===l&&(Te===4||Te===3&&(Yt&62914560)===Yt&&300>tn()-$u?($t&2)===0&&Hr(n,0):qd|=l,Br===Yt&&(Br=0)),Mi(n)}function zy(n,o){o===0&&(o=$l()),n=Hn(n,o),n!==null&&(Ui(n,o),Mi(n))}function Sw(n){var o=n.memoizedState,l=0;o!==null&&(l=o.retryLane),zy(n,l)}function Ew(n,o){var l=0;switch(n.tag){case 31:case 13:var f=n.stateNode,_=n.memoizedState;_!==null&&(l=_.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(o),zy(n,l)}function ww(n,o){return sr(n,o)}var rc=null,qr=null,Wd=!1,ac=!1,Qd=!1,qo=0;function Mi(n){n!==qr&&n.next===null&&(qr===null?rc=qr=n:qr=qr.next=n),ac=!0,Wd||(Wd=!0,Cw())}function hl(n,o){if(!Qd&&ac){Qd=!0;do for(var l=!1,f=rc;f!==null;){if(n!==0){var _=f.pendingLanes;if(_===0)var T=0;else{var A=f.suspendedLanes,R=f.pingedLanes;T=(1<<31-en(42|n)+1)-1,T&=_&~(A&~R),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(l=!0,Fy(f,T))}else T=Yt,T=ar(f,f===le?T:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(T&3)===0||us(f,T)||(l=!0,Fy(f,T));f=f.next}while(l);Qd=!1}}function bw(){Hy()}function Hy(){ac=Wd=!1;var n=0;qo!==0&&Uw()&&(n=qo);for(var o=tn(),l=null,f=rc;f!==null;){var _=f.next,T=Gy(f,o);T===0?(f.next=null,l===null?rc=_:l.next=_,_===null&&(qr=l)):(l=f,(n!==0||(T&3)!==0)&&(ac=!0)),f=_}Le!==0&&Le!==5||hl(n),qo!==0&&(qo=0)}function Gy(n,o){for(var l=n.suspendedLanes,f=n.pingedLanes,_=n.expirationTimes,T=n.pendingLanes&-62914561;0<T;){var A=31-en(T),R=1<<A,O=_[A];O===-1?((R&l)===0||(R&f)!==0)&&(_[A]=Rf(R,o)):O<=o&&(n.expiredLanes|=R),T&=~R}if(o=le,l=Yt,l=ar(n,n===o?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,l===0||n===o&&(ee===2||ee===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&is(f),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||us(n,l)){if(o=l&-l,o===n.callbackPriority)return o;switch(f!==null&&is(f),Mt(l)){case 2:case 8:l=_a;break;case 32:l=os;break;case 268435456:l=xa;break;default:l=os}return f=qy.bind(null,n),l=sr(l,f),n.callbackPriority=o,n.callbackNode=l,o}return f!==null&&f!==null&&is(f),n.callbackPriority=2,n.callbackNode=null,2}function qy(n,o){if(Le!==0&&Le!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(sc()&&n.callbackNode!==l)return null;var f=Yt;return f=ar(n,n===le?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(wy(n,f,o),Gy(n,tn()),n.callbackNode!=null&&n.callbackNode===l?qy.bind(null,n):null)}function Fy(n,o){if(sc())return null;wy(n,o,!0)}function Cw(){Vw(function(){($t&6)!==0?sr(rr,bw):Hy()})}function $d(){if(qo===0){var n=Mr;n===0&&(n=rs,rs<<=1,(rs&261888)===0&&(rs=256)),qo=n}return qo}function Zy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:vo(""+n)}function Yy(n,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,n.id&&l.setAttribute("form",n.id),o.parentNode.insertBefore(l,o),n=new FormData(n),l.parentNode.removeChild(l),n}function Aw(n,o,l,f,_){if(o==="submit"&&l&&l.stateNode===_){var T=Zy((_[Oe]||null).action),A=f.submitter;A&&(o=(o=A[Oe]||null)?Zy(o.formAction):A.getAttribute("formAction"),o!==null&&(T=o,A=null));var R=new dr("action","action",null,f,_);n.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(qo!==0){var O=A?Yy(_,A):new FormData(_);_d(l,{pending:!0,data:O,method:_.method,action:T},null,O)}}else typeof T=="function"&&(R.preventDefault(),O=A?Yy(_,A):new FormData(_),_d(l,{pending:!0,data:O,method:_.method,action:T},T,O))},currentTarget:_}]})}}for(var th=0;th<Si.length;th++){var eh=Si[th],Mw=eh.toLowerCase(),Nw=eh[0].toUpperCase()+eh.slice(1);mn(Mw,"on"+Nw)}mn(Ms,"onAnimationEnd"),mn(bu,"onAnimationIteration"),mn(Ns,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(Ff,"onTransitionRun"),mn(Cu,"onTransitionStart"),mn(Zf,"onTransitionCancel"),mn(No,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function Jy(n,o){o=(o&4)!==0;for(var l=0;l<n.length;l++){var f=n[l],_=f.event;f=f.listeners;t:{var T=void 0;if(o)for(var A=f.length-1;0<=A;A--){var R=f[A],O=R.instance,X=R.currentTarget;if(R=R.listener,O!==T&&_.isPropagationStopped())break t;T=R,_.currentTarget=X;try{T(_)}catch(st){Rs(st)}_.currentTarget=null,T=O}else for(A=0;A<f.length;A++){if(R=f[A],O=R.instance,X=R.currentTarget,R=R.listener,O!==T&&_.isPropagationStopped())break t;T=R,_.currentTarget=X;try{T(_)}catch(st){Rs(st)}_.currentTarget=null,T=O}}}}function Ft(n,o){var l=o[hi];l===void 0&&(l=o[hi]=new Set);var f=n+"__bubble";l.has(f)||(Ky(o,n,2,!1),l.add(f))}function nh(n,o,l){var f=0;o&&(f|=4),Ky(l,n,f,o)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ih(n){if(!n[lc]){n[lc]=!0,su.forEach(function(l){l!=="selectionchange"&&(Rw.has(l)||nh(l,!1,n),nh(l,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[lc]||(o[lc]=!0,nh("selectionchange",!1,o))}}function Ky(n,o,l,f){switch(E0(o)){case 2:var _=ob;break;case 8:_=sb;break;default:_=vh}l=_.bind(null,o,l,n),_=void 0,!gs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),f?_!==void 0?n.addEventListener(o,l,{capture:!0,passive:_}):n.addEventListener(o,l,!0):_!==void 0?n.addEventListener(o,l,{passive:_}):n.addEventListener(o,l,!1)}function oh(n,o,l,f,_){var T=f;if((o&1)===0&&(o&2)===0&&f!==null)t:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var R=f.stateNode.containerInfo;if(R===_)break;if(A===4)for(A=f.return;A!==null;){var O=A.tag;if((O===3||O===4)&&A.stateNode.containerInfo===_)return;A=A.return}for(;R!==null;){if(A=Vi(R),A===null)return;if(O=A.tag,O===5||O===6||O===26||O===27){f=T=A;continue t}R=R.parentNode}}f=f.return}Ia(function(){var X=T,st=ps(l),ut=[];t:{var et=Au.get(n);if(et!==void 0){var it=dr,bt=n;switch(n){case"keypress":if(ys(l)===0)break t;case"keydown":case"keyup":it=hu;break;case"focusin":bt="focus",it=La;break;case"focusout":bt="blur",it=La;break;case"beforeblur":case"afterblur":it=La;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Vf;break;case Ms:case bu:case Ns:it=Da;break;case No:it=gu;break;case"scroll":case"scrollend":it=Zt;break;case"wheel":it=qi;break;case"copy":case"cut":case"paste":it=On;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=mu;break;case"toggle":case"beforetoggle":it=xs}var It=(o&4)!==0,re=!It&&(n==="scroll"||n==="scrollend"),F=It?et!==null?et+"Capture":null:et;It=[];for(var H=X,j;H!==null;){var at=H;if(j=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||j===null||F===null||(at=Hi(H,F),at!=null&&It.push(pl(H,at,j))),re)break;H=H.return}0<It.length&&(et=new it(et,bt,null,l,st),ut.push({event:et,listeners:It}))}}if((o&7)===0){t:{if(et=n==="mouseover"||n==="pointerover",it=n==="mouseout"||n==="pointerout",et&&l!==fr&&(bt=l.relatedTarget||l.fromElement)&&(Vi(bt)||bt[Oi]))break t;if((it||et)&&(et=st.window===st?st:(et=st.ownerDocument)?et.defaultView||et.parentWindow:window,it?(bt=l.relatedTarget||l.toElement,it=X,bt=bt?Vi(bt):null,bt!==null&&(re=u(bt),It=bt.tag,bt!==re||It!==5&&It!==27&&It!==6)&&(bt=null)):(it=null,bt=X),it!==bt)){if(It=lu,at="onMouseLeave",F="onMouseEnter",H="mouse",(n==="pointerout"||n==="pointerover")&&(It=mu,at="onPointerLeave",F="onPointerEnter",H="pointer"),re=it==null?et:mi(it),j=bt==null?et:mi(bt),et=new It(at,H+"leave",it,l,st),et.target=re,et.relatedTarget=j,at=null,Vi(st)===X&&(It=new It(F,H+"enter",bt,l,st),It.target=j,It.relatedTarget=re,at=It),re=at,it&&bt)e:{for(It=Iw,F=it,H=bt,j=0,at=F;at;at=It(at))j++;at=0;for(var Rt=H;Rt;Rt=It(Rt))at++;for(;0<j-at;)F=It(F),j--;for(;0<at-j;)H=It(H),at--;for(;j--;){if(F===H||H!==null&&F===H.alternate){It=F;break e}F=It(F),H=It(H)}It=null}else It=null;it!==null&&jy(ut,et,it,It,!1),bt!==null&&re!==null&&jy(ut,re,bt,It,!0)}}t:{if(et=X?mi(X):window,it=et.nodeName&&et.nodeName.toLowerCase(),it==="select"||it==="input"&&et.type==="file")var Xt=ws;else if(Vn(et))if(xu)Xt=qf;else{Xt=Gf;var At=ti}else it=et.nodeName,!it||it.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?X&&ms(X.elementType)&&(Xt=ws):Xt=bo;if(Xt&&(Xt=Xt(n,X))){_u(ut,Xt,l,st);break t}At&&At(n,et,X),n==="focusout"&&X&&et.type==="number"&&X.memoizedProps.value!=null&&Wn(et,"number",et.value)}switch(At=X?mi(X):window,n){case"focusin":(Vn(At)||At.contentEditable==="true")&&(xi=At,Tr=X,As=null);break;case"focusout":As=Tr=xi=null;break;case"mousedown":Ao=!0;break;case"contextmenu":case"mouseup":case"dragend":Ao=!1,Eu(ut,l,st);break;case"selectionchange":if(xr)break;case"keydown":case"keyup":Eu(ut,l,st)}var Bt;if(mr)t:{switch(n){case"compositionstart":var Jt="onCompositionStart";break t;case"compositionend":Jt="onCompositionEnd";break t;case"compositionupdate":Jt="onCompositionUpdate";break t}Jt=void 0}else So?vu(n,l)&&(Jt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Jt="onCompositionStart");Jt&&(pr&&l.locale!=="ko"&&(So||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&So&&(Bt=yi()):(Un=st,Gi="value"in Un?Un.value:Un.textContent,So=!0)),At=uc(X,Jt),0<At.length&&(Jt=new Ua(Jt,n,null,l,st),ut.push({event:Jt,listeners:At}),Bt?Jt.data=Bt:(Bt=za(l),Bt!==null&&(Jt.data=Bt)))),(Bt=zf?Mn(n,l):Eo(n,l))&&(Jt=uc(X,"onBeforeInput"),0<Jt.length&&(At=new Ua("onBeforeInput","beforeinput",null,l,st),ut.push({event:At,listeners:Jt}),At.data=Bt)),Aw(ut,n,X,l,st)}Jy(ut,o)})}function pl(n,o,l){return{instance:n,listener:o,currentTarget:l}}function uc(n,o){for(var l=o+"Capture",f=[];n!==null;){var _=n,T=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||T===null||(_=Hi(n,l),_!=null&&f.unshift(pl(n,_,T)),_=Hi(n,o),_!=null&&f.push(pl(n,_,T))),n.tag===3)return f;n=n.return}return[]}function Iw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function jy(n,o,l,f,_){for(var T=o._reactName,A=[];l!==null&&l!==f;){var R=l,O=R.alternate,X=R.stateNode;if(R=R.tag,O!==null&&O===f)break;R!==5&&R!==26&&R!==27||X===null||(O=X,_?(X=Hi(l,T),X!=null&&A.unshift(pl(l,X,O))):_||(X=Hi(l,T),X!=null&&A.push(pl(l,X,O)))),l=l.return}A.length!==0&&n.push({event:o,listeners:A})}var Pw=/\r\n?/g,kw=/\u0000|\uFFFD/g;function Xy(n){return(typeof n=="string"?n:""+n).replace(Pw,`
`).replace(kw,"")}function Wy(n,o){return o=Xy(o),Xy(n)===o}function se(n,o,l,f,_,T){switch(l){case"children":typeof f=="string"?o==="body"||o==="textarea"&&f===""||Dn(n,f):(typeof f=="number"||typeof f=="bigint")&&o!=="body"&&Dn(n,""+f);break;case"className":ie(n,"class",f);break;case"tabIndex":ie(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ie(n,l,f);break;case"style":ur(n,f,T);break;case"data":if(o!=="object"){ie(n,"data",f);break}case"src":case"href":if(f===""&&(o!=="a"||l!=="href")){n.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(l);break}f=vo(""+f),n.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(l==="formAction"?(o!=="input"&&se(n,o,"name",_.name,_,null),se(n,o,"formEncType",_.formEncType,_,null),se(n,o,"formMethod",_.formMethod,_,null),se(n,o,"formTarget",_.formTarget,_,null)):(se(n,o,"encType",_.encType,_,null),se(n,o,"method",_.method,_,null),se(n,o,"target",_.target,_,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(l);break}f=vo(""+f),n.setAttribute(l,f);break;case"onClick":f!=null&&(n.onclick=dn);break;case"onScroll":f!=null&&Ft("scroll",n);break;case"onScrollEnd":f!=null&&Ft("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(l=f.__html,l!=null){if(_.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}l=vo(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,""+f):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":f===!0?n.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,f):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(l,f):n.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(l):n.setAttribute(l,f);break;case"popover":Ft("beforetoggle",n),Ft("toggle",n),Ht(n,"popover",f);break;case"xlinkActuate":fn(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":fn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":fn(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":fn(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":fn(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":fn(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":fn(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":fn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":fn(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Ht(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=cr.get(l)||l,Ht(n,l,f))}}function sh(n,o,l,f,_,T){switch(l){case"style":ur(n,f,T);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(l=f.__html,l!=null){if(_.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"children":typeof f=="string"?Dn(n,f):(typeof f=="number"||typeof f=="bigint")&&Dn(n,""+f);break;case"onScroll":f!=null&&Ft("scroll",n);break;case"onScrollEnd":f!=null&&Ft("scrollend",n);break;case"onClick":f!=null&&(n.onclick=dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ru.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(_=l.endsWith("Capture"),o=l.slice(2,_?l.length-7:void 0),T=n[Oe]||null,T=T!=null?T[l]:null,typeof T=="function"&&n.removeEventListener(o,T,_),typeof f=="function")){typeof T!="function"&&T!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(o,f,_);break t}l in n?n[l]=f:f===!0?n.setAttribute(l,""):Ht(n,l,f)}}}function Ke(n,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",n),Ft("load",n);var f=!1,_=!1,T;for(T in l)if(l.hasOwnProperty(T)){var A=l[T];if(A!=null)switch(T){case"src":f=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:se(n,o,T,A,l,null)}}_&&se(n,o,"srcSet",l.srcSet,l,null),f&&se(n,o,"src",l.src,l,null);return;case"input":Ft("invalid",n);var R=T=A=_=null,O=null,X=null;for(f in l)if(l.hasOwnProperty(f)){var st=l[f];if(st!=null)switch(f){case"name":_=st;break;case"type":A=st;break;case"checked":O=st;break;case"defaultChecked":X=st;break;case"value":T=st;break;case"defaultValue":R=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(s(137,o));break;default:se(n,o,f,st,l,null)}}hs(n,T,R,O,X,A,_,!1);return;case"select":Ft("invalid",n),f=A=T=null;for(_ in l)if(l.hasOwnProperty(_)&&(R=l[_],R!=null))switch(_){case"value":T=R;break;case"defaultValue":A=R;break;case"multiple":f=R;default:se(n,o,_,R,l,null)}o=T,l=A,n.multiple=!!f,o!=null?ae(n,!!f,o,!1):l!=null&&ae(n,!!f,l,!0);return;case"textarea":Ft("invalid",n),T=_=f=null;for(A in l)if(l.hasOwnProperty(A)&&(R=l[A],R!=null))switch(A){case"value":f=R;break;case"defaultValue":_=R;break;case"children":T=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:se(n,o,A,R,l,null)}go(n,f,_,T);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(f=l[O],f!=null))switch(O){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:se(n,o,O,f,l,null)}return;case"dialog":Ft("beforetoggle",n),Ft("toggle",n),Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":Ft("load",n);break;case"video":case"audio":for(f=0;f<ml.length;f++)Ft(ml[f],n);break;case"image":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"embed":case"source":case"link":Ft("error",n),Ft("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(f=l[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:se(n,o,X,f,l,null)}return;default:if(ms(o)){for(st in l)l.hasOwnProperty(st)&&(f=l[st],f!==void 0&&sh(n,o,st,f,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(f=l[R],f!=null&&se(n,o,R,f,l,null))}function Lw(n,o,l,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,T=null,A=null,R=null,O=null,X=null,st=null;for(it in l){var ut=l[it];if(l.hasOwnProperty(it)&&ut!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":O=ut;default:f.hasOwnProperty(it)||se(n,o,it,null,f,ut)}}for(var et in f){var it=f[et];if(ut=l[et],f.hasOwnProperty(et)&&(it!=null||ut!=null))switch(et){case"type":T=it;break;case"name":_=it;break;case"checked":X=it;break;case"defaultChecked":st=it;break;case"value":A=it;break;case"defaultValue":R=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,o));break;default:it!==ut&&se(n,o,et,it,f,ut)}}Ma(n,A,R,O,X,st,T,_);return;case"select":it=A=R=et=null;for(T in l)if(O=l[T],l.hasOwnProperty(T)&&O!=null)switch(T){case"value":break;case"multiple":it=O;default:f.hasOwnProperty(T)||se(n,o,T,null,f,O)}for(_ in f)if(T=f[_],O=l[_],f.hasOwnProperty(_)&&(T!=null||O!=null))switch(_){case"value":et=T;break;case"defaultValue":R=T;break;case"multiple":A=T;default:T!==O&&se(n,o,_,T,f,O)}o=R,l=A,f=it,et!=null?ae(n,!!l,et,!1):!!f!=!!l&&(o!=null?ae(n,!!l,o,!0):ae(n,!!l,l?[]:"",!1));return;case"textarea":it=et=null;for(R in l)if(_=l[R],l.hasOwnProperty(R)&&_!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:se(n,o,R,null,f,_)}for(A in f)if(_=f[A],T=l[A],f.hasOwnProperty(A)&&(_!=null||T!=null))switch(A){case"value":et=_;break;case"defaultValue":it=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:_!==T&&se(n,o,A,_,f,T)}gi(n,et,it);return;case"option":for(var bt in l)if(et=l[bt],l.hasOwnProperty(bt)&&et!=null&&!f.hasOwnProperty(bt))switch(bt){case"selected":n.selected=!1;break;default:se(n,o,bt,null,f,et)}for(O in f)if(et=f[O],it=l[O],f.hasOwnProperty(O)&&et!==it&&(et!=null||it!=null))switch(O){case"selected":n.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:se(n,o,O,et,f,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in l)et=l[It],l.hasOwnProperty(It)&&et!=null&&!f.hasOwnProperty(It)&&se(n,o,It,null,f,et);for(X in f)if(et=f[X],it=l[X],f.hasOwnProperty(X)&&et!==it&&(et!=null||it!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(s(137,o));break;default:se(n,o,X,et,f,it)}return;default:if(ms(o)){for(var re in l)et=l[re],l.hasOwnProperty(re)&&et!==void 0&&!f.hasOwnProperty(re)&&sh(n,o,re,void 0,f,et);for(st in f)et=f[st],it=l[st],!f.hasOwnProperty(st)||et===it||et===void 0&&it===void 0||sh(n,o,st,et,f,it);return}}for(var F in l)et=l[F],l.hasOwnProperty(F)&&et!=null&&!f.hasOwnProperty(F)&&se(n,o,F,null,f,et);for(ut in f)et=f[ut],it=l[ut],!f.hasOwnProperty(ut)||et===it||et==null&&it==null||se(n,o,ut,et,f,it)}function Qy(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var _=l[f],T=_.transferSize,A=_.initiatorType,R=_.duration;if(T&&R&&Qy(A)){for(A=0,R=_.responseEnd,f+=1;f<l.length;f++){var O=l[f],X=O.startTime;if(X>R)break;var st=O.transferSize,ut=O.initiatorType;st&&Qy(ut)&&(O=O.responseEnd,A+=st*(O<R?1:(R-X)/(O-X)))}if(--f,o+=8*(T+A)/(_.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var rh=null,ah=null;function cc(n){return n.nodeType===9?n:n.ownerDocument}function $y(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t0(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function lh(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var uh=null;function Uw(){var n=window.event;return n&&n.type==="popstate"?n===uh?!1:(uh=n,!0):(uh=null,!1)}var e0=typeof setTimeout=="function"?setTimeout:void 0,Ow=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,Vw=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(n){return n0.resolve(null).then(n).catch(Bw)}:e0;function Bw(n){setTimeout(function(){throw n})}function Fo(n){return n==="head"}function i0(n,o){var l=o,f=0;do{var _=l.nextSibling;if(n.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"||l==="/&"){if(f===0){n.removeChild(_),Jr(o);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")gl(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,gl(l);for(var T=l.firstChild;T;){var A=T.nextSibling,R=T.nodeName;T[cs]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=A}}else l==="body"&&gl(n.ownerDocument.body);l=_}while(l);Jr(o)}function o0(n,o){var l=n;n=0;do{var f=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=f}while(l)}function ch(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ch(l),wa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function zw(n,o,l,f){for(;n.nodeType===1;){var _=l;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[cs])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(T=n.getAttribute("rel"),T==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(T!==_.rel||n.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||n.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||n.getAttribute("title")!==(_.title==null?null:_.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(T=n.getAttribute("src"),(T!==(_.src==null?null:_.src)||n.getAttribute("type")!==(_.type==null?null:_.type)||n.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&T&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var T=_.name==null?null:""+_.name;if(_.type==="hidden"&&n.getAttribute("name")===T)return n}else return n;if(n=Fn(n.nextSibling),n===null)break}return null}function Hw(n,o,l){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Fn(n.nextSibling),n===null))return null;return n}function s0(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Fn(n.nextSibling),n===null))return null;return n}function fh(n){return n.data==="$?"||n.data==="$~"}function dh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Gw(n,o){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||l.readyState!=="loading")o();else{var f=function(){o(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function Fn(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var hh=null;function r0(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(o===0)return Fn(n.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}n=n.nextSibling}return null}function a0(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return n;o--}else l!=="/$"&&l!=="/&"||o++}n=n.previousSibling}return null}function l0(n,o,l){switch(o=cc(l),n){case"html":if(n=o.documentElement,!n)throw Error(s(452));return n;case"head":if(n=o.head,!n)throw Error(s(453));return n;case"body":if(n=o.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function gl(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);wa(n)}var Zn=new Map,u0=new Set;function fc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var oo=J.d;J.d={f:qw,r:Fw,D:Zw,C:Yw,L:Jw,m:Kw,X:Xw,S:jw,M:Ww};function qw(){var n=oo.f(),o=nc();return n||o}function Fw(n){var o=ho(n);o!==null&&o.tag===5&&o.type==="form"?Cg(o):oo.r(n)}var Fr=typeof document>"u"?null:document;function c0(n,o,l){var f=Fr;if(f&&typeof o=="string"&&o){var _=ce(o);_='link[rel="'+n+'"][href="'+_+'"]',typeof l=="string"&&(_+='[crossorigin="'+l+'"]'),u0.has(_)||(u0.add(_),n={rel:n,crossOrigin:l,href:o},f.querySelector(_)===null&&(o=f.createElement("link"),Ke(o,"link",n),Ce(o),f.head.appendChild(o)))}}function Zw(n){oo.D(n),c0("dns-prefetch",n,null)}function Yw(n,o){oo.C(n,o),c0("preconnect",n,o)}function Jw(n,o,l){oo.L(n,o,l);var f=Fr;if(f&&n&&o){var _='link[rel="preload"][as="'+ce(o)+'"]';o==="image"&&l&&l.imageSrcSet?(_+='[imagesrcset="'+ce(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(_+='[imagesizes="'+ce(l.imageSizes)+'"]')):_+='[href="'+ce(n)+'"]';var T=_;switch(o){case"style":T=Zr(n);break;case"script":T=Yr(n)}Zn.has(T)||(n=w({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:n,as:o},l),Zn.set(T,n),f.querySelector(_)!==null||o==="style"&&f.querySelector(yl(T))||o==="script"&&f.querySelector(vl(T))||(o=f.createElement("link"),Ke(o,"link",n),Ce(o),f.head.appendChild(o)))}}function Kw(n,o){oo.m(n,o);var l=Fr;if(l&&n){var f=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+ce(f)+'"][href="'+ce(n)+'"]',T=_;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Yr(n)}if(!Zn.has(T)&&(n=w({rel:"modulepreload",href:n},o),Zn.set(T,n),l.querySelector(_)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(vl(T)))return}f=l.createElement("link"),Ke(f,"link",n),Ce(f),l.head.appendChild(f)}}}function jw(n,o,l){oo.S(n,o,l);var f=Fr;if(f&&n){var _=mo(f).hoistableStyles,T=Zr(n);o=o||"default";var A=_.get(T);if(!A){var R={loading:0,preload:null};if(A=f.querySelector(yl(T)))R.loading=5;else{n=w({rel:"stylesheet",href:n,"data-precedence":o},l),(l=Zn.get(T))&&mh(n,l);var O=A=f.createElement("link");Ce(O),Ke(O,"link",n),O._p=new Promise(function(X,st){O.onload=X,O.onerror=st}),O.addEventListener("load",function(){R.loading|=1}),O.addEventListener("error",function(){R.loading|=2}),R.loading|=4,dc(A,o,f)}A={type:"stylesheet",instance:A,count:1,state:R},_.set(T,A)}}}function Xw(n,o){oo.X(n,o);var l=Fr;if(l&&n){var f=mo(l).hoistableScripts,_=Yr(n),T=f.get(_);T||(T=l.querySelector(vl(_)),T||(n=w({src:n,async:!0},o),(o=Zn.get(_))&&ph(n,o),T=l.createElement("script"),Ce(T),Ke(T,"link",n),l.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(_,T))}}function Ww(n,o){oo.M(n,o);var l=Fr;if(l&&n){var f=mo(l).hoistableScripts,_=Yr(n),T=f.get(_);T||(T=l.querySelector(vl(_)),T||(n=w({src:n,async:!0,type:"module"},o),(o=Zn.get(_))&&ph(n,o),T=l.createElement("script"),Ce(T),Ke(T,"link",n),l.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(_,T))}}function f0(n,o,l,f){var _=(_=Et.current)?fc(_):null;if(!_)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=Zr(l.href),l=mo(_).hoistableStyles,f=l.get(o),f||(f={type:"style",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Zr(l.href);var T=mo(_).hoistableStyles,A=T.get(n);if(A||(_=_.ownerDocument||_,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(n,A),(T=_.querySelector(yl(n)))&&!T._p&&(A.instance=T,A.state.loading=5),Zn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Zn.set(n,l),T||Qw(_,n,l,A.state))),o&&f===null)throw Error(s(528,""));return A}if(o&&f!==null)throw Error(s(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Yr(l),l=mo(_).hoistableScripts,f=l.get(o),f||(f={type:"script",instance:null,count:0,state:null},l.set(o,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Zr(n){return'href="'+ce(n)+'"'}function yl(n){return'link[rel="stylesheet"]['+n+"]"}function d0(n){return w({},n,{"data-precedence":n.precedence,precedence:null})}function Qw(n,o,l,f){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?f.loading=1:(o=n.createElement("link"),f.preload=o,o.addEventListener("load",function(){return f.loading|=1}),o.addEventListener("error",function(){return f.loading|=2}),Ke(o,"link",l),Ce(o),n.head.appendChild(o))}function Yr(n){return'[src="'+ce(n)+'"]'}function vl(n){return"script[async]"+n}function h0(n,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var f=n.querySelector('style[data-href~="'+ce(l.href)+'"]');if(f)return o.instance=f,Ce(f),f;var _=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),Ce(f),Ke(f,"style",_),dc(f,l.precedence,n),o.instance=f;case"stylesheet":_=Zr(l.href);var T=n.querySelector(yl(_));if(T)return o.state.loading|=4,o.instance=T,Ce(T),T;f=d0(l),(_=Zn.get(_))&&mh(f,_),T=(n.ownerDocument||n).createElement("link"),Ce(T);var A=T;return A._p=new Promise(function(R,O){A.onload=R,A.onerror=O}),Ke(T,"link",f),o.state.loading|=4,dc(T,l.precedence,n),o.instance=T;case"script":return T=Yr(l.src),(_=n.querySelector(vl(T)))?(o.instance=_,Ce(_),_):(f=l,(_=Zn.get(T))&&(f=w({},l),ph(f,_)),n=n.ownerDocument||n,_=n.createElement("script"),Ce(_),Ke(_,"link",f),n.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(f=o.instance,o.state.loading|=4,dc(f,l.precedence,n));return o.instance}function dc(n,o,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=f.length?f[f.length-1]:null,T=_,A=0;A<f.length;A++){var R=f[A];if(R.dataset.precedence===o)T=R;else if(T!==_)break}T?T.parentNode.insertBefore(n,T.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(n,o.firstChild))}function mh(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function ph(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var hc=null;function m0(n,o,l){if(hc===null){var f=new Map,_=hc=new Map;_.set(l,f)}else _=hc,f=_.get(l),f||(f=new Map,_.set(l,f));if(f.has(n))return f;for(f.set(n,null),l=l.getElementsByTagName(n),_=0;_<l.length;_++){var T=l[_];if(!(T[cs]||T[be]||n==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var A=T.getAttribute(o)||"";A=n+A;var R=f.get(A);R?R.push(T):f.set(A,[T])}}return f}function p0(n,o,l){n=n.ownerDocument||n,n.head.insertBefore(l,o==="title"?n.querySelector("head > title"):null)}function $w(n,o,l){if(l===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return n=o.disabled,typeof o.precedence=="string"&&n==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function g0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function tb(n,o,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var _=Zr(f.href),T=o.querySelector(yl(_));if(T){o=T._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=mc.bind(n),o.then(n,n)),l.state.loading|=4,l.instance=T,Ce(T);return}T=o.ownerDocument||o,f=d0(f),(_=Zn.get(_))&&mh(f,_),T=T.createElement("link"),Ce(T);var A=T;A._p=new Promise(function(R,O){A.onload=R,A.onerror=O}),Ke(T,"link",f),l.instance=T}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=mc.bind(n),o.addEventListener("load",l),o.addEventListener("error",l))}}var gh=0;function eb(n,o){return n.stylesheets&&n.count===0&&gc(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var f=setTimeout(function(){if(n.stylesheets&&gc(n,n.stylesheets),n.unsuspend){var T=n.unsuspend;n.unsuspend=null,T()}},6e4+o);0<n.imgBytes&&gh===0&&(gh=62500*Dw());var _=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&gc(n,n.stylesheets),n.unsuspend)){var T=n.unsuspend;n.unsuspend=null,T()}},(n.imgBytes>gh?50:800)+o);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(f),clearTimeout(_)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var pc=null;function gc(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,pc=new Map,o.forEach(nb,n),pc=null,mc.call(n))}function nb(n,o){if(!(o.state.loading&4)){var l=pc.get(n);if(l)var f=l.get(null);else{l=new Map,pc.set(n,l);for(var _=n.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<_.length;T++){var A=_[T];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),f=A)}f&&l.set(null,f)}_=o.instance,A=_.getAttribute("data-precedence"),T=l.get(A)||f,T===f&&l.set(null,_),l.set(A,_),this.count++,f=mc.bind(this),_.addEventListener("load",f),_.addEventListener("error",f),T?T.parentNode.insertBefore(_,T.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(_,n.firstChild)),o.state.loading|=4}}var _l={$$typeof:z,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function ib(n,o,l,f,_,T,A,R,O){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=f,this.onUncaughtError=_,this.onCaughtError=T,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function y0(n,o,l,f,_,T,A,R,O,X,st,ut){return n=new ib(n,o,l,A,O,X,st,ut,R),o=1,T===!0&&(o|=24),T=We(3,null,null,o),n.current=T,T.stateNode=n,o=jf(),o.refCount++,n.pooledCache=o,o.refCount++,T.memoizedState={element:f,isDehydrated:l,cache:o},$f(T),n}function v0(n){return n?(n=Fi,n):Fi}function _0(n,o,l,f,_,T){_=v0(_),f.context===null?f.context=_:f.pendingContext=_,f=ko(o),f.payload={element:l},T=T===void 0?null:T,T!==null&&(f.callback=T),l=Lo(n,f,o),l!==null&&(Tn(l,n,o),Wa(l,n,o))}function x0(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<o?l:o}}function yh(n,o){x0(n,o),(n=n.alternate)&&x0(n,o)}function T0(n){if(n.tag===13||n.tag===31){var o=Hn(n,67108864);o!==null&&Tn(o,n,67108864),yh(n,67108864)}}function S0(n){if(n.tag===13||n.tag===31){var o=kn();o=cn(o);var l=Hn(n,o);l!==null&&Tn(l,n,o),yh(n,o)}}var yc=!0;function ob(n,o,l,f){var _=G.T;G.T=null;var T=J.p;try{J.p=2,vh(n,o,l,f)}finally{J.p=T,G.T=_}}function sb(n,o,l,f){var _=G.T;G.T=null;var T=J.p;try{J.p=8,vh(n,o,l,f)}finally{J.p=T,G.T=_}}function vh(n,o,l,f){if(yc){var _=_h(f);if(_===null)oh(n,o,f,vc,l),w0(n,f);else if(ab(_,n,o,l,f))f.stopPropagation();else if(w0(n,f),o&4&&-1<rb.indexOf(n)){for(;_!==null;){var T=ho(_);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var A=Di(T.pendingLanes);if(A!==0){var R=T;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var O=1<<31-en(A);R.entanglements[1]|=O,A&=~O}Mi(T),($t&6)===0&&(tc=tn()+500,hl(0))}}break;case 31:case 13:R=Hn(T,2),R!==null&&Tn(R,T,2),nc(),yh(T,2)}if(T=_h(f),T===null&&oh(n,o,f,vc,l),T===_)break;_=T}_!==null&&f.stopPropagation()}else oh(n,o,f,null,l)}}function _h(n){return n=ps(n),xh(n)}var vc=null;function xh(n){if(vc=null,n=Vi(n),n!==null){var o=u(n);if(o===null)n=null;else{var l=o.tag;if(l===13){if(n=d(o),n!==null)return n;n=null}else if(l===31){if(n=m(o),n!==null)return n;n=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return vc=n,null}function E0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bf()){case rr:return 2;case _a:return 8;case os:case Cf:return 32;case xa:return 268435456;default:return 32}default:return 32}}var Th=!1,Zo=null,Yo=null,Jo=null,xl=new Map,Tl=new Map,Ko=[],rb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w0(n,o){switch(n){case"focusin":case"focusout":Zo=null;break;case"dragenter":case"dragleave":Yo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":xl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(o.pointerId)}}function Sl(n,o,l,f,_,T){return n===null||n.nativeEvent!==T?(n={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:T,targetContainers:[_]},o!==null&&(o=ho(o),o!==null&&T0(o)),n):(n.eventSystemFlags|=f,o=n.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),n)}function ab(n,o,l,f,_){switch(o){case"focusin":return Zo=Sl(Zo,n,o,l,f,_),!0;case"dragenter":return Yo=Sl(Yo,n,o,l,f,_),!0;case"mouseover":return Jo=Sl(Jo,n,o,l,f,_),!0;case"pointerover":var T=_.pointerId;return xl.set(T,Sl(xl.get(T)||null,n,o,l,f,_)),!0;case"gotpointercapture":return T=_.pointerId,Tl.set(T,Sl(Tl.get(T)||null,n,o,l,f,_)),!0}return!1}function b0(n){var o=Vi(n.target);if(o!==null){var l=u(o);if(l!==null){if(o=l.tag,o===13){if(o=d(l),o!==null){n.blockedOn=o,Ea(n.priority,function(){S0(l)});return}}else if(o===31){if(o=m(l),o!==null){n.blockedOn=o,Ea(n.priority,function(){S0(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _c(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var l=_h(n.nativeEvent);if(l===null){l=n.nativeEvent;var f=new l.constructor(l.type,l);fr=f,l.target.dispatchEvent(f),fr=null}else return o=ho(l),o!==null&&T0(o),n.blockedOn=l,!1;o.shift()}return!0}function C0(n,o,l){_c(n)&&l.delete(o)}function lb(){Th=!1,Zo!==null&&_c(Zo)&&(Zo=null),Yo!==null&&_c(Yo)&&(Yo=null),Jo!==null&&_c(Jo)&&(Jo=null),xl.forEach(C0),Tl.forEach(C0)}function xc(n,o){n.blockedOn===o&&(n.blockedOn=null,Th||(Th=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lb)))}var Tc=null;function A0(n){Tc!==n&&(Tc=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Tc===n&&(Tc=null);for(var o=0;o<n.length;o+=3){var l=n[o],f=n[o+1],_=n[o+2];if(typeof f!="function"){if(xh(f||l)===null)continue;break}var T=ho(l);T!==null&&(n.splice(o,3),o-=3,_d(T,{pending:!0,data:_,method:l.method,action:f},f,_))}}))}function Jr(n){function o(O){return xc(O,n)}Zo!==null&&xc(Zo,n),Yo!==null&&xc(Yo,n),Jo!==null&&xc(Jo,n),xl.forEach(o),Tl.forEach(o);for(var l=0;l<Ko.length;l++){var f=Ko[l];f.blockedOn===n&&(f.blockedOn=null)}for(;0<Ko.length&&(l=Ko[0],l.blockedOn===null);)b0(l),l.blockedOn===null&&Ko.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var _=l[f],T=l[f+1],A=_[Oe]||null;if(typeof T=="function")A||A0(l);else if(A){var R=null;if(T&&T.hasAttribute("formAction")){if(_=T,A=T[Oe]||null)R=A.formAction;else if(xh(_)!==null)continue}else R=A.action;typeof R=="function"?l[f+1]=R:(l.splice(f,3),f-=3),A0(l)}}}function M0(){function n(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(A){return _=A})},focusReset:"manual",scroll:"manual"})}function o(){_!==null&&(_(),_=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,_=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),_!==null&&(_(),_=null)}}}function Sh(n){this._internalRoot=n}Sc.prototype.render=Sh.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));var l=o.current,f=kn();_0(l,f,n,o,null,null)},Sc.prototype.unmount=Sh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;_0(n.current,2,null,n,null,null),nc(),o[Oi]=null}};function Sc(n){this._internalRoot=n}Sc.prototype.unstable_scheduleHydration=function(n){if(n){var o=Sa();n={blockedOn:null,target:n,priority:o};for(var l=0;l<Ko.length&&o!==0&&o<Ko[l].priority;l++);Ko.splice(l,0,n),l===0&&b0(n)}};var N0=t.version;if(N0!=="19.2.4")throw Error(s(527,N0,"19.2.4"));J.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(o),n=n!==null?x(n):null,n=n===null?null:n.stateNode,n};var ub={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{fo=Ec.inject(ub),Fe=Ec}catch{}}return wl.createRoot=function(n,o){if(!a(n))throw Error(s(299));var l=!1,f="",_=Ug,T=Og,A=Vg;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=y0(n,1,!1,null,null,l,f,null,_,T,A,M0),n[Oi]=o.current,ih(n),new Sh(o)},wl.hydrateRoot=function(n,o,l){if(!a(n))throw Error(s(299));var f=!1,_="",T=Ug,A=Og,R=Vg,O=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),o=y0(n,1,!0,o,l??null,f,_,O,T,A,R,M0),o.context=v0(null),l=o.current,f=kn(),f=cn(f),_=ko(f),_.callback=null,Lo(l,_,f),l=f,o.current.lanes=l,Ui(o,l),Mi(o),n[Oi]=o.current,ih(n),new Sc(o)},wl.version="19.2.4",wl}var B0;function vb(){if(B0)return bh.exports;B0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bh.exports=yb(),bh.exports}var _b=vb();const xb=lf(_b),Zm=q.createContext({});function Ym(e){const t=q.useRef(null);return t.current===null&&(t.current=e()),t.current}const Kx=typeof window<"u",jx=Kx?q.useLayoutEffect:q.useEffect,uf=q.createContext(null);function Jm(e,t){e.indexOf(t)===-1&&e.push(t)}function qc(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const Ii=(e,t,i)=>i>t?t:i<e?e:i;let Km=()=>{};const so={},Xx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Wx(e){return typeof e=="object"&&e!==null}const Qx=e=>/^0[^.\s]+$/u.test(e);function $x(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jn=e=>e,Tb=(e,t)=>i=>t(e(i)),Zl=(...e)=>e.reduce(Tb),Ul=(e,t,i)=>{const s=t-e;return s===0?1:(i-e)/s};class jm{constructor(){this.subscriptions=[]}add(t){return Jm(this.subscriptions,t),()=>qc(this.subscriptions,t)}notify(t,i,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,i,s);else for(let u=0;u<a;u++){const d=this.subscriptions[u];d&&d(t,i,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const li=e=>e*1e3,Yn=e=>e/1e3;function tT(e,t){return t?e*(1e3/t):0}const eT=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,Sb=1e-7,Eb=12;function wb(e,t,i,s,a){let u,d,m=0;do d=t+(i-t)/2,u=eT(d,s,a)-e,u>0?i=d:t=d;while(Math.abs(u)>Sb&&++m<Eb);return d}function Yl(e,t,i,s){if(e===t&&i===s)return Jn;const a=u=>wb(u,0,1,e,i);return u=>u===0||u===1?u:eT(a(u),t,s)}const nT=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,iT=e=>t=>1-e(1-t),oT=Yl(.33,1.53,.69,.99),Xm=iT(oT),sT=nT(Xm),rT=e=>(e*=2)<1?.5*Xm(e):.5*(2-Math.pow(2,-10*(e-1))),Wm=e=>1-Math.sin(Math.acos(e)),aT=iT(Wm),lT=nT(Wm),bb=Yl(.42,0,1,1),Cb=Yl(0,0,.58,1),uT=Yl(.42,0,.58,1),Ab=e=>Array.isArray(e)&&typeof e[0]!="number",cT=e=>Array.isArray(e)&&typeof e[0]=="number",Mb={linear:Jn,easeIn:bb,easeInOut:uT,easeOut:Cb,circIn:Wm,circInOut:lT,circOut:aT,backIn:Xm,backInOut:sT,backOut:oT,anticipate:rT},Nb=e=>typeof e=="string",z0=e=>{if(cT(e)){Km(e.length===4);const[t,i,s,a]=e;return Yl(t,i,s,a)}else if(Nb(e))return Mb[e];return e},wc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Rb(e,t){let i=new Set,s=new Set,a=!1,u=!1;const d=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1};function y(x){d.has(x)&&(g.schedule(x),e()),x(m)}const g={schedule:(x,w=!1,b=!1)=>{const I=b&&a?i:s;return w&&d.add(x),I.has(x)||I.add(x),x},cancel:x=>{s.delete(x),d.delete(x)},process:x=>{if(m=x,a){u=!0;return}a=!0,[i,s]=[s,i],i.forEach(y),i.clear(),a=!1,u&&(u=!1,g.process(x))}};return g}const Ib=40;function fT(e,t){let i=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>i=!0,d=wc.reduce((z,$)=>(z[$]=Rb(u),z),{}),{setup:m,read:y,resolveKeyframes:g,preUpdate:x,update:w,preRender:b,render:M,postRender:I}=d,P=()=>{const z=so.useManualTiming?a.timestamp:performance.now();i=!1,so.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(z-a.timestamp,Ib),1)),a.timestamp=z,a.isProcessing=!0,m.process(a),y.process(a),g.process(a),x.process(a),w.process(a),b.process(a),M.process(a),I.process(a),a.isProcessing=!1,i&&t&&(s=!1,e(P))},k=()=>{i=!0,s=!0,a.isProcessing||e(P)};return{schedule:wc.reduce((z,$)=>{const Q=d[$];return z[$]=(V,nt=!1,rt=!1)=>(i||k(),Q.schedule(V,nt,rt)),z},{}),cancel:z=>{for(let $=0;$<wc.length;$++)d[wc[$]].cancel(z)},state:a,steps:d}}const{schedule:ue,cancel:$o,state:je,steps:Nh}=fT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0);let Lc;function Pb(){Lc=void 0}const an={now:()=>(Lc===void 0&&an.set(je.isProcessing||so.useManualTiming?je.timestamp:performance.now()),Lc),set:e=>{Lc=e,queueMicrotask(Pb)}},dT=e=>t=>typeof t=="string"&&t.startsWith(e),hT=dT("--"),kb=dT("var(--"),Qm=e=>kb(e)?Lb.test(e.split("/*")[0].trim()):!1,Lb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function H0(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const la={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ol={...la,transform:e=>Ii(0,1,e)},bc={...la,default:1},Pl=e=>Math.round(e*1e5)/1e5,$m=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Db(e){return e==null}const Ub=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tp=(e,t)=>i=>!!(typeof i=="string"&&Ub.test(i)&&i.startsWith(e)||t&&!Db(i)&&Object.prototype.hasOwnProperty.call(i,t)),mT=(e,t,i)=>s=>{if(typeof s!="string")return s;const[a,u,d,m]=s.match($m);return{[e]:parseFloat(a),[t]:parseFloat(u),[i]:parseFloat(d),alpha:m!==void 0?parseFloat(m):1}},Ob=e=>Ii(0,255,e),Rh={...la,transform:e=>Math.round(Ob(e))},Ks={test:tp("rgb","red"),parse:mT("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:s=1})=>"rgba("+Rh.transform(e)+", "+Rh.transform(t)+", "+Rh.transform(i)+", "+Pl(Ol.transform(s))+")"};function Vb(e){let t="",i="",s="",a="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),s=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),s=e.substring(3,4),a=e.substring(4,5),t+=t,i+=i,s+=s,a+=a),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const tm={test:tp("#"),parse:Vb,transform:Ks.transform},Jl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xo=Jl("deg"),Ri=Jl("%"),Ct=Jl("px"),Bb=Jl("vh"),zb=Jl("vw"),G0={...Ri,parse:e=>Ri.parse(e)/100,transform:e=>Ri.transform(e*100)},Xr={test:tp("hsl","hue"),parse:mT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ri.transform(Pl(t))+", "+Ri.transform(Pl(i))+", "+Pl(Ol.transform(s))+")"},Ie={test:e=>Ks.test(e)||tm.test(e)||Xr.test(e),parse:e=>Ks.test(e)?Ks.parse(e):Xr.test(e)?Xr.parse(e):tm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ks.transform(e):Xr.transform(e),getAnimatableNone:e=>{const t=Ie.parse(e);return t.alpha=0,Ie.transform(t)}},Hb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Gb(e){var t,i;return isNaN(e)&&typeof e=="string"&&(((t=e.match($m))==null?void 0:t.length)||0)+(((i=e.match(Hb))==null?void 0:i.length)||0)>0}const pT="number",gT="color",qb="var",Fb="var(",q0="${}",Zb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vl(e){const t=e.toString(),i=[],s={color:[],number:[],var:[]},a=[];let u=0;const m=t.replace(Zb,y=>(Ie.test(y)?(s.color.push(u),a.push(gT),i.push(Ie.parse(y))):y.startsWith(Fb)?(s.var.push(u),a.push(qb),i.push(y)):(s.number.push(u),a.push(pT),i.push(parseFloat(y))),++u,q0)).split(q0);return{values:i,split:m,indexes:s,types:a}}function yT(e){return Vl(e).values}function vT(e){const{split:t,types:i}=Vl(e),s=t.length;return a=>{let u="";for(let d=0;d<s;d++)if(u+=t[d],a[d]!==void 0){const m=i[d];m===pT?u+=Pl(a[d]):m===gT?u+=Ie.transform(a[d]):u+=a[d]}return u}}const Yb=e=>typeof e=="number"?0:Ie.test(e)?Ie.getAnimatableNone(e):e;function Jb(e){const t=yT(e);return vT(e)(t.map(Yb))}const ui={test:Gb,parse:yT,createTransformer:vT,getAnimatableNone:Jb};function Ih(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function Kb({hue:e,saturation:t,lightness:i,alpha:s}){e/=360,t/=100,i/=100;let a=0,u=0,d=0;if(!t)a=u=d=i;else{const m=i<.5?i*(1+t):i+t-i*t,y=2*i-m;a=Ih(y,m,e+1/3),u=Ih(y,m,e),d=Ih(y,m,e-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(d*255),alpha:s}}function Fc(e,t){return i=>i>0?t:e}const ye=(e,t,i)=>e+(t-e)*i,Ph=(e,t,i)=>{const s=e*e,a=i*(t*t-s)+s;return a<0?0:Math.sqrt(a)},jb=[tm,Ks,Xr],Xb=e=>jb.find(t=>t.test(e));function F0(e){const t=Xb(e);if(!t)return!1;let i=t.parse(e);return t===Xr&&(i=Kb(i)),i}const Z0=(e,t)=>{const i=F0(e),s=F0(t);if(!i||!s)return Fc(e,t);const a={...i};return u=>(a.red=Ph(i.red,s.red,u),a.green=Ph(i.green,s.green,u),a.blue=Ph(i.blue,s.blue,u),a.alpha=ye(i.alpha,s.alpha,u),Ks.transform(a))},em=new Set(["none","hidden"]);function Wb(e,t){return em.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function Qb(e,t){return i=>ye(e,t,i)}function ep(e){return typeof e=="number"?Qb:typeof e=="string"?Qm(e)?Fc:Ie.test(e)?Z0:eC:Array.isArray(e)?_T:typeof e=="object"?Ie.test(e)?Z0:$b:Fc}function _T(e,t){const i=[...e],s=i.length,a=e.map((u,d)=>ep(u)(u,t[d]));return u=>{for(let d=0;d<s;d++)i[d]=a[d](u);return i}}function $b(e,t){const i={...e,...t},s={};for(const a in i)e[a]!==void 0&&t[a]!==void 0&&(s[a]=ep(e[a])(e[a],t[a]));return a=>{for(const u in s)i[u]=s[u](a);return i}}function tC(e,t){const i=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const u=t.types[a],d=e.indexes[u][s[u]],m=e.values[d]??0;i[a]=m,s[u]++}return i}const eC=(e,t)=>{const i=ui.createTransformer(t),s=Vl(e),a=Vl(t);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?em.has(e)&&!a.values.length||em.has(t)&&!s.values.length?Wb(e,t):Zl(_T(tC(s,a),a.values),i):Fc(e,t)};function xT(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?ye(e,t,i):ep(e)(e,t)}const nC=e=>{const t=({timestamp:i})=>e(i);return{start:(i=!0)=>ue.update(t,i),stop:()=>$o(t),now:()=>je.isProcessing?je.timestamp:an.now()}},TT=(e,t,i=10)=>{let s="";const a=Math.max(Math.round(t/i),2);for(let u=0;u<a;u++)s+=Math.round(e(u/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Zc=2e4;function np(e){let t=0;const i=50;let s=e.next(t);for(;!s.done&&t<Zc;)t+=i,s=e.next(t);return t>=Zc?1/0:t}function iC(e,t=100,i){const s=i({...e,keyframes:[0,t]}),a=Math.min(np(s),Zc);return{type:"keyframes",ease:u=>s.next(a*u).value/t,duration:Yn(a)}}const oC=5;function ST(e,t,i){const s=Math.max(t-oC,0);return tT(i-e(s),t-s)}const Se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kh=.001;function sC({duration:e=Se.duration,bounce:t=Se.bounce,velocity:i=Se.velocity,mass:s=Se.mass}){let a,u,d=1-t;d=Ii(Se.minDamping,Se.maxDamping,d),e=Ii(Se.minDuration,Se.maxDuration,Yn(e)),d<1?(a=g=>{const x=g*d,w=x*e,b=x-i,M=nm(g,d),I=Math.exp(-w);return kh-b/M*I},u=g=>{const w=g*d*e,b=w*i+i,M=Math.pow(d,2)*Math.pow(g,2)*e,I=Math.exp(-w),P=nm(Math.pow(g,2),d);return(-a(g)+kh>0?-1:1)*((b-M)*I)/P}):(a=g=>{const x=Math.exp(-g*e),w=(g-i)*e+1;return-kh+x*w},u=g=>{const x=Math.exp(-g*e),w=(i-g)*(e*e);return x*w});const m=5/e,y=aC(a,u,m);if(e=li(e),isNaN(y))return{stiffness:Se.stiffness,damping:Se.damping,duration:e};{const g=Math.pow(y,2)*s;return{stiffness:g,damping:d*2*Math.sqrt(s*g),duration:e}}}const rC=12;function aC(e,t,i){let s=i;for(let a=1;a<rC;a++)s=s-e(s)/t(s);return s}function nm(e,t){return e*Math.sqrt(1-t*t)}const lC=["duration","bounce"],uC=["stiffness","damping","mass"];function Y0(e,t){return t.some(i=>e[i]!==void 0)}function cC(e){let t={velocity:Se.velocity,stiffness:Se.stiffness,damping:Se.damping,mass:Se.mass,isResolvedFromDuration:!1,...e};if(!Y0(e,uC)&&Y0(e,lC))if(t.velocity=0,e.visualDuration){const i=e.visualDuration,s=2*Math.PI/(i*1.2),a=s*s,u=2*Ii(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Se.mass,stiffness:a,damping:u}}else{const i=sC({...e,velocity:0});t={...t,...i,mass:Se.mass},t.isResolvedFromDuration=!0}return t}function Yc(e=Se.visualDuration,t=Se.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:a}=i;const u=i.keyframes[0],d=i.keyframes[i.keyframes.length-1],m={done:!1,value:u},{stiffness:y,damping:g,mass:x,duration:w,velocity:b,isResolvedFromDuration:M}=cC({...i,velocity:-Yn(i.velocity||0)}),I=b||0,P=g/(2*Math.sqrt(y*x)),k=d-u,B=Yn(Math.sqrt(y/x)),Y=Math.abs(k)<5;s||(s=Y?Se.restSpeed.granular:Se.restSpeed.default),a||(a=Y?Se.restDelta.granular:Se.restDelta.default);let z;if(P<1){const Q=nm(B,P);z=V=>{const nt=Math.exp(-P*B*V);return d-nt*((I+P*B*k)/Q*Math.sin(Q*V)+k*Math.cos(Q*V))}}else if(P===1)z=Q=>d-Math.exp(-B*Q)*(k+(I+B*k)*Q);else{const Q=B*Math.sqrt(P*P-1);z=V=>{const nt=Math.exp(-P*B*V),rt=Math.min(Q*V,300);return d-nt*((I+P*B*k)*Math.sinh(rt)+Q*k*Math.cosh(rt))/Q}}const $={calculatedDuration:M&&w||null,next:Q=>{const V=z(Q);if(M)m.done=Q>=w;else{let nt=Q===0?I:0;P<1&&(nt=Q===0?li(I):ST(z,Q,V));const rt=Math.abs(nt)<=s,ct=Math.abs(d-V)<=a;m.done=rt&&ct}return m.value=m.done?d:V,m},toString:()=>{const Q=Math.min(np($),Zc),V=TT(nt=>$.next(Q*nt).value,Q,30);return Q+"ms "+V},toTransition:()=>{}};return $}Yc.applyToOptions=e=>{const t=iC(e,100,Yc);return e.ease=t.ease,e.duration=li(t.duration),e.type="keyframes",e};function im({keyframes:e,velocity:t=0,power:i=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:d,min:m,max:y,restDelta:g=.5,restSpeed:x}){const w=e[0],b={done:!1,value:w},M=rt=>m!==void 0&&rt<m||y!==void 0&&rt>y,I=rt=>m===void 0?y:y===void 0||Math.abs(m-rt)<Math.abs(y-rt)?m:y;let P=i*t;const k=w+P,B=d===void 0?k:d(k);B!==k&&(P=B-w);const Y=rt=>-P*Math.exp(-rt/s),z=rt=>B+Y(rt),$=rt=>{const ct=Y(rt),Tt=z(rt);b.done=Math.abs(ct)<=g,b.value=b.done?B:Tt};let Q,V;const nt=rt=>{M(b.value)&&(Q=rt,V=Yc({keyframes:[b.value,I(b.value)],velocity:ST(z,rt,b.value),damping:a,stiffness:u,restDelta:g,restSpeed:x}))};return nt(0),{calculatedDuration:null,next:rt=>{let ct=!1;return!V&&Q===void 0&&(ct=!0,$(rt),nt(rt)),Q!==void 0&&rt>=Q?V.next(rt-Q):(!ct&&$(rt),b)}}}function fC(e,t,i){const s=[],a=i||so.mix||xT,u=e.length-1;for(let d=0;d<u;d++){let m=a(e[d],e[d+1]);if(t){const y=Array.isArray(t)?t[d]||Jn:t;m=Zl(y,m)}s.push(m)}return s}function dC(e,t,{clamp:i=!0,ease:s,mixer:a}={}){const u=e.length;if(Km(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const m=fC(t,s,a),y=m.length,g=x=>{if(d&&x<e[0])return t[0];let w=0;if(y>1)for(;w<e.length-2&&!(x<e[w+1]);w++);const b=Ul(e[w],e[w+1],x);return m[w](b)};return i?x=>g(Ii(e[0],e[u-1],x)):g}function hC(e,t){const i=e[e.length-1];for(let s=1;s<=t;s++){const a=Ul(0,t,s);e.push(ye(i,1,a))}}function mC(e){const t=[0];return hC(t,e.length-1),t}function pC(e,t){return e.map(i=>i*t)}function gC(e,t){return e.map(()=>t||uT).splice(0,e.length-1)}function kl({duration:e=300,keyframes:t,times:i,ease:s="easeInOut"}){const a=Ab(s)?s.map(z0):z0(s),u={done:!1,value:t[0]},d=pC(i&&i.length===t.length?i:mC(t),e),m=dC(d,t,{ease:Array.isArray(a)?a:gC(t,a)});return{calculatedDuration:e,next:y=>(u.value=m(y),u.done=y>=e,u)}}const yC=e=>e!==null;function ip(e,{repeat:t,repeatType:i="loop"},s,a=1){const u=e.filter(yC),m=a<0||t&&i!=="loop"&&t%2===1?0:u.length-1;return!m||s===void 0?u[m]:s}const vC={decay:im,inertia:im,tween:kl,keyframes:kl,spring:Yc};function ET(e){typeof e.type=="string"&&(e.type=vC[e.type])}class op{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const _C=e=>e/100;class sp extends op{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,a;const{motionValue:i}=this.options;i&&i.updatedAt!==an.now()&&this.tick(an.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(s=this.options).onStop)==null||a.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ET(t);const{type:i=kl,repeat:s=0,repeatDelay:a=0,repeatType:u,velocity:d=0}=t;let{keyframes:m}=t;const y=i||kl;y!==kl&&typeof m[0]!="number"&&(this.mixKeyframes=Zl(_C,xT(m[0],m[1])),m=[0,100]);const g=y({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=y({...t,keyframes:[...m].reverse(),velocity:-d})),g.calculatedDuration===null&&(g.calculatedDuration=np(g));const{calculatedDuration:x}=g;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=g}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:s,totalDuration:a,mixKeyframes:u,mirroredGenerator:d,resolvedDuration:m,calculatedDuration:y}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:x,repeat:w,repeatType:b,repeatDelay:M,type:I,onUpdate:P,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const B=this.currentTime-g*(this.playbackSpeed>=0?1:-1),Y=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let z=this.currentTime,$=s;if(w){const rt=Math.min(this.currentTime,a)/m;let ct=Math.floor(rt),Tt=rt%1;!Tt&&rt>=1&&(Tt=1),Tt===1&&ct--,ct=Math.min(ct,w+1),!!(ct%2)&&(b==="reverse"?(Tt=1-Tt,M&&(Tt-=M/m)):b==="mirror"&&($=d)),z=Ii(0,1,Tt)*m}const Q=Y?{done:!1,value:x[0]}:$.next(z);u&&(Q.value=u(Q.value));let{done:V}=Q;!Y&&y!==null&&(V=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const nt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return nt&&I!==im&&(Q.value=ip(x,this.options,k,this.speed)),P&&P(Q.value),nt&&this.finish(),Q}then(t,i){return this.finished.then(t,i)}get duration(){return Yn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(this.currentTime)}set time(t){var i;t=li(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(an.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=Yn(this.currentTime))}play(){var a,u;if(this.isStopped)return;const{driver:t=nC,startTime:i}=this.options;this.driver||(this.driver=t(d=>this.tick(d))),(u=(a=this.options).onPlay)==null||u.call(a);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=i??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(an.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function xC(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const js=e=>e*180/Math.PI,om=e=>{const t=js(Math.atan2(e[1],e[0]));return sm(t)},TC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:om,rotateZ:om,skewX:e=>js(Math.atan(e[1])),skewY:e=>js(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},sm=e=>(e=e%360,e<0&&(e+=360),e),J0=om,K0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),j0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),SC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:K0,scaleY:j0,scale:e=>(K0(e)+j0(e))/2,rotateX:e=>sm(js(Math.atan2(e[6],e[5]))),rotateY:e=>sm(js(Math.atan2(-e[2],e[0]))),rotateZ:J0,rotate:J0,skewX:e=>js(Math.atan(e[4])),skewY:e=>js(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function rm(e){return e.includes("scale")?1:0}function am(e,t){if(!e||e==="none")return rm(t);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(i)s=SC,a=i;else{const m=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=TC,a=m}if(!a)return rm(t);const u=s[t],d=a[1].split(",").map(wC);return typeof u=="function"?u(d):d[u]}const EC=(e,t)=>{const{transform:i="none"}=getComputedStyle(e);return am(i,t)};function wC(e){return parseFloat(e.trim())}const ua=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ca=new Set(ua),X0=e=>e===la||e===Ct,bC=new Set(["x","y","z"]),CC=ua.filter(e=>!bC.has(e));function AC(e){const t=[];return CC.forEach(i=>{const s=e.getValue(i);s!==void 0&&(t.push([i,s.get()]),s.set(i.startsWith("scale")?1:0))}),t}const Qo={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>am(t,"x"),y:(e,{transform:t})=>am(t,"y")};Qo.translateX=Qo.x;Qo.translateY=Qo.y;const Xs=new Set;let lm=!1,um=!1,cm=!1;function wT(){if(um){const e=Array.from(Xs).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),i=new Map;t.forEach(s=>{const a=AC(s);a.length&&(i.set(s,a),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const a=i.get(s);a&&a.forEach(([u,d])=>{var m;(m=s.getValue(u))==null||m.set(d)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}um=!1,lm=!1,Xs.forEach(e=>e.complete(cm)),Xs.clear()}function bT(){Xs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(um=!0)})}function MC(){cm=!0,bT(),wT(),cm=!1}class rp{constructor(t,i,s,a,u,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=s,this.motionValue=a,this.element=u,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(Xs.add(this),lm||(lm=!0,ue.read(bT),ue.resolveKeyframes(wT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:s,motionValue:a}=this;if(t[0]===null){const u=a==null?void 0:a.get(),d=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&i){const m=s.readValue(i,d);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=d),a&&u===void 0&&a.set(t[0])}xC(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Xs.delete(this)}cancel(){this.state==="scheduled"&&(Xs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const NC=e=>e.startsWith("--");function RC(e,t,i){NC(t)?e.style.setProperty(t,i):e.style[t]=i}const IC={};function CT(e,t){const i=$x(e);return()=>IC[t]??i()}const PC=CT(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),AT=CT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nl=([e,t,i,s])=>`cubic-bezier(${e}, ${t}, ${i}, ${s})`,W0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nl([0,.65,.55,1]),circOut:Nl([.55,0,1,.45]),backIn:Nl([.31,.01,.66,-.59]),backOut:Nl([.33,1.53,.69,.99])};function MT(e,t){if(e)return typeof e=="function"?AT()?TT(e,t):"ease-out":cT(e)?Nl(e):Array.isArray(e)?e.map(i=>MT(i,t)||W0.easeOut):W0[e]}function kC(e,t,i,{delay:s=0,duration:a=300,repeat:u=0,repeatType:d="loop",ease:m="easeOut",times:y}={},g=void 0){const x={[t]:i};y&&(x.offset=y);const w=MT(m,a);Array.isArray(w)&&(x.easing=w);const b={delay:s,duration:a,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:u+1,direction:d==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),e.animate(x,b)}function NT(e){return typeof e=="function"&&"applyToOptions"in e}function LC({type:e,...t}){return NT(e)&&AT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class RT extends op{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:i,name:s,keyframes:a,pseudoElement:u,allowFlatten:d=!1,finalKeyframe:m,onComplete:y}=t;this.isPseudoElement=!!u,this.allowFlatten=d,this.options=t,Km(typeof t.type!="string");const g=LC(t);this.animation=kC(i,s,a,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const x=ip(a,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(x):RC(i,s,x),this.animation.cancel()}y==null||y(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var i,s,a;const t=(i=this.options)==null?void 0:i.element;!this.isPseudoElement&&(t!=null&&t.isConnected)&&((a=(s=this.animation).commitStyles)==null||a.call(s))}get duration(){var i,s;const t=((s=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:s.call(i).duration)||0;return Yn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Yn(t)}get time(){return Yn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=li(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&PC()?(this.animation.timeline=t,Jn):i(this)}}const IT={anticipate:rT,backInOut:sT,circInOut:lT};function DC(e){return e in IT}function UC(e){typeof e.ease=="string"&&DC(e.ease)&&(e.ease=IT[e.ease])}const Lh=10;class OC extends RT{constructor(t){UC(t),ET(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:i,onUpdate:s,onComplete:a,element:u,...d}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const m=new sp({...d,autoplay:!1}),y=Math.max(Lh,an.now()-this.startTime),g=Ii(0,Lh,y-Lh);i.setWithVelocity(m.sample(Math.max(0,y-g)).value,m.sample(y).value,g),m.stop()}}const Q0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ui.test(e)||e==="0")&&!e.startsWith("url("));function VC(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function BC(e,t,i,s){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],d=Q0(a,t),m=Q0(u,t);return!d||!m?!1:VC(e)||(i==="spring"||NT(i))&&s}function fm(e){e.duration=0,e.type="keyframes"}const zC=new Set(["opacity","clipPath","filter","transform"]),HC=$x(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function GC(e){var x;const{motionValue:t,name:i,repeatDelay:s,repeatType:a,damping:u,type:d}=e;if(!(((x=t==null?void 0:t.owner)==null?void 0:x.current)instanceof HTMLElement))return!1;const{onUpdate:y,transformTemplate:g}=t.owner.getProps();return HC()&&i&&zC.has(i)&&(i!=="transform"||!g)&&!y&&!s&&a!=="mirror"&&u!==0&&d!=="inertia"}const qC=40;class FC extends op{constructor({autoplay:t=!0,delay:i=0,type:s="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:d="loop",keyframes:m,name:y,motionValue:g,element:x,...w}){var I;super(),this.stop=()=>{var P,k;this._animation&&(this._animation.stop(),(P=this.stopTimeline)==null||P.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=an.now();const b={autoplay:t,delay:i,type:s,repeat:a,repeatDelay:u,repeatType:d,name:y,motionValue:g,element:x,...w},M=(x==null?void 0:x.KeyframeResolver)||rp;this.keyframeResolver=new M(m,(P,k,B)=>this.onKeyframesResolved(P,k,b,!B),y,g,x),(I=this.keyframeResolver)==null||I.scheduleResolve()}onKeyframesResolved(t,i,s,a){var k,B;this.keyframeResolver=void 0;const{name:u,type:d,velocity:m,delay:y,isHandoff:g,onUpdate:x}=s;this.resolvedAt=an.now(),BC(t,u,d,m)||((so.instantAnimations||!y)&&(x==null||x(ip(t,s,i))),t[0]=t[t.length-1],fm(s),s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>qC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...s,keyframes:t},M=!g&&GC(b),I=(B=(k=b.motionValue)==null?void 0:k.owner)==null?void 0:B.current,P=M?new OC({...b,element:I}):new sp(b);P.finished.then(()=>{this.notifyFinished()}).catch(Jn),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),MC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function PT(e,t,i,s=0,a=1){const u=Array.from(e).sort((g,x)=>g.sortNodePosition(x)).indexOf(t),d=e.size,m=(d-1)*s;return typeof i=="function"?i(u,d):a===1?u*s:m-u*s}const ZC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function YC(e){const t=ZC.exec(e);if(!t)return[,];const[,i,s,a]=t;return[`--${i??s}`,a]}function kT(e,t,i=1){const[s,a]=YC(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const d=u.trim();return Xx(d)?parseFloat(d):d}return Qm(a)?kT(a,t,i+1):a}const JC={type:"spring",stiffness:500,damping:25,restSpeed:10},KC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jC={type:"keyframes",duration:.8},XC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WC=(e,{keyframes:t})=>t.length>2?jC:ca.has(e)?e.startsWith("scale")?KC(t[1]):JC:XC,QC=e=>e!==null;function $C(e,{repeat:t,repeatType:i="loop"},s){const a=e.filter(QC),u=t&&i!=="loop"&&t%2===1?0:a.length-1;return a[u]}function LT(e,t){if(e!=null&&e.inherit&&t){const{inherit:i,...s}=e;return{...t,...s}}return e}function ap(e,t){const i=(e==null?void 0:e[t])??(e==null?void 0:e.default)??e;return i!==e?LT(i,e):i}function tA({when:e,delay:t,delayChildren:i,staggerChildren:s,staggerDirection:a,repeat:u,repeatType:d,repeatDelay:m,from:y,elapsed:g,...x}){return!!Object.keys(x).length}const lp=(e,t,i,s={},a,u)=>d=>{const m=ap(s,e)||{},y=m.delay||s.delay||0;let{elapsed:g=0}=s;g=g-li(y);const x={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:b=>{t.set(b),m.onUpdate&&m.onUpdate(b)},onComplete:()=>{d(),m.onComplete&&m.onComplete()},name:e,motionValue:t,element:u?void 0:a};tA(m)||Object.assign(x,WC(e,x)),x.duration&&(x.duration=li(x.duration)),x.repeatDelay&&(x.repeatDelay=li(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let w=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(fm(x),x.delay===0&&(w=!0)),(so.instantAnimations||so.skipAnimations||a!=null&&a.shouldSkipAnimations)&&(w=!0,fm(x),x.delay=0),x.allowFlatten=!m.type&&!m.ease,w&&!u&&t.get()!==void 0){const b=$C(x.keyframes,m);if(b!==void 0){ue.update(()=>{x.onUpdate(b),x.onComplete()});return}}return m.isSync?new sp(x):new FC(x)};function $0(e){const t=[{},{}];return e==null||e.values.forEach((i,s)=>{t[0][s]=i.get(),t[1][s]=i.getVelocity()}),t}function up(e,t,i,s){if(typeof t=="function"){const[a,u]=$0(s);t=t(i!==void 0?i:e.custom,a,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,u]=$0(s);t=t(i!==void 0?i:e.custom,a,u)}return t}function ia(e,t,i){const s=e.getProps();return up(s,t,i!==void 0?i:s.custom,e)}const DT=new Set(["width","height","top","left","right","bottom",...ua]),tv=30,eA=e=>!isNaN(parseFloat(e));class nA{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var u;const a=an.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=an.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=eA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new jm);const s=this.events[t].add(i);return t==="change"?()=>{s(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,s){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=an.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tv)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,tv);return tT(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function aa(e,t){return new nA(e,t)}const dm=e=>Array.isArray(e);function iA(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,aa(i))}function oA(e){return dm(e)?e[e.length-1]||0:e}function sA(e,t){const i=ia(e,t);let{transitionEnd:s={},transition:a={},...u}=i||{};u={...u,...s};for(const d in u){const m=oA(u[d]);iA(e,d,m)}}const $e=e=>!!(e&&e.getVelocity);function rA(e){return!!($e(e)&&e.add)}function hm(e,t){const i=e.getValue("willChange");if(rA(i))return i.add(t);if(!i&&so.WillChange){const s=new so.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function cp(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const aA="framerAppearId",UT="data-"+cp(aA);function OT(e){return e.props[UT]}function lA({protectedKeys:e,needsAnimating:t},i){const s=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,s}function VT(e,t,{delay:i=0,transitionOverride:s,type:a}={}){let{transition:u,transitionEnd:d,...m}=t;const y=e.getDefaultTransition();u=u?LT(u,y):y;const g=u==null?void 0:u.reduceMotion;s&&(u=s);const x=[],w=a&&e.animationState&&e.animationState.getState()[a];for(const b in m){const M=e.getValue(b,e.latestValues[b]??null),I=m[b];if(I===void 0||w&&lA(w,b))continue;const P={delay:i,...ap(u||{},b)},k=M.get();if(k!==void 0&&!M.isAnimating&&!Array.isArray(I)&&I===k&&!P.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const $=OT(e);if($){const Q=window.MotionHandoffAnimation($,b,ue);Q!==null&&(P.startTime=Q,B=!0)}}hm(e,b);const Y=g??e.shouldReduceMotion;M.start(lp(b,M,I,Y&&DT.has(b)?{type:!1}:P,e,B));const z=M.animation;z&&x.push(z)}if(d){const b=()=>ue.update(()=>{d&&sA(e,d)});x.length?Promise.all(x).then(b):b()}return x}function mm(e,t,i={}){var y;const s=ia(e,t,i.type==="exit"?(y=e.presenceContext)==null?void 0:y.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};i.transitionOverride&&(a=i.transitionOverride);const u=s?()=>Promise.all(VT(e,s,i)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(g=0)=>{const{delayChildren:x=0,staggerChildren:w,staggerDirection:b}=a;return uA(e,t,g,x,w,b,i)}:()=>Promise.resolve(),{when:m}=a;if(m){const[g,x]=m==="beforeChildren"?[u,d]:[d,u];return g().then(()=>x())}else return Promise.all([u(),d(i.delay)])}function uA(e,t,i=0,s=0,a=0,u=1,d){const m=[];for(const y of e.variantChildren)y.notify("AnimationStart",t),m.push(mm(y,t,{...d,delay:i+(typeof s=="function"?0:s)+PT(e.variantChildren,y,s,a,u)}).then(()=>y.notify("AnimationComplete",t)));return Promise.all(m)}function cA(e,t,i={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const a=t.map(u=>mm(e,u,i));s=Promise.all(a)}else if(typeof t=="string")s=mm(e,t,i);else{const a=typeof t=="function"?ia(e,t,i.custom):t;s=Promise.all(VT(e,a,i))}return s.then(()=>{e.notify("AnimationComplete",t)})}const fA={test:e=>e==="auto",parse:e=>e},BT=e=>t=>t.test(e),zT=[la,Ct,Ri,Xo,zb,Bb,fA],ev=e=>zT.find(BT(e));function dA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Qx(e):!0}const hA=new Set(["brightness","contrast","saturate","opacity"]);function mA(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=i.match($m)||[];if(!s)return e;const a=i.replace(s,"");let u=hA.has(t)?1:0;return s!==i&&(u*=100),t+"("+u+a+")"}const pA=/\b([a-z-]*)\(.*?\)/gu,pm={...ui,getAnimatableNone:e=>{const t=e.match(pA);return t?t.map(mA).join(" "):e}},gm={...ui,getAnimatableNone:e=>{const t=ui.parse(e);return ui.createTransformer(e)(t.map(s=>typeof s=="number"?0:typeof s=="object"?{...s,alpha:1}:s))}},nv={...la,transform:Math.round},gA={rotate:Xo,rotateX:Xo,rotateY:Xo,rotateZ:Xo,scale:bc,scaleX:bc,scaleY:bc,scaleZ:bc,skew:Xo,skewX:Xo,skewY:Xo,distance:Ct,translateX:Ct,translateY:Ct,translateZ:Ct,x:Ct,y:Ct,z:Ct,perspective:Ct,transformPerspective:Ct,opacity:Ol,originX:G0,originY:G0,originZ:Ct},fp={borderWidth:Ct,borderTopWidth:Ct,borderRightWidth:Ct,borderBottomWidth:Ct,borderLeftWidth:Ct,borderRadius:Ct,borderTopLeftRadius:Ct,borderTopRightRadius:Ct,borderBottomRightRadius:Ct,borderBottomLeftRadius:Ct,width:Ct,maxWidth:Ct,height:Ct,maxHeight:Ct,top:Ct,right:Ct,bottom:Ct,left:Ct,inset:Ct,insetBlock:Ct,insetBlockStart:Ct,insetBlockEnd:Ct,insetInline:Ct,insetInlineStart:Ct,insetInlineEnd:Ct,padding:Ct,paddingTop:Ct,paddingRight:Ct,paddingBottom:Ct,paddingLeft:Ct,paddingBlock:Ct,paddingBlockStart:Ct,paddingBlockEnd:Ct,paddingInline:Ct,paddingInlineStart:Ct,paddingInlineEnd:Ct,margin:Ct,marginTop:Ct,marginRight:Ct,marginBottom:Ct,marginLeft:Ct,marginBlock:Ct,marginBlockStart:Ct,marginBlockEnd:Ct,marginInline:Ct,marginInlineStart:Ct,marginInlineEnd:Ct,fontSize:Ct,backgroundPositionX:Ct,backgroundPositionY:Ct,...gA,zIndex:nv,fillOpacity:Ol,strokeOpacity:Ol,numOctaves:nv},yA={...fp,color:Ie,backgroundColor:Ie,outlineColor:Ie,fill:Ie,stroke:Ie,borderColor:Ie,borderTopColor:Ie,borderRightColor:Ie,borderBottomColor:Ie,borderLeftColor:Ie,filter:pm,WebkitFilter:pm,mask:gm,WebkitMask:gm},HT=e=>yA[e],vA=new Set([pm,gm]);function GT(e,t){let i=HT(e);return vA.has(i)||(i=ui),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const _A=new Set(["auto","none","0"]);function xA(e,t,i){let s=0,a;for(;s<e.length&&!a;){const u=e[s];typeof u=="string"&&!_A.has(u)&&Vl(u).values.length&&(a=e[s]),s++}if(a&&i)for(const u of t)e[u]=GT(i,a)}class TA extends rp{constructor(t,i,s,a,u){super(t,i,s,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:s}=this;if(!i||!i.current)return;super.readKeyframes();for(let x=0;x<t.length;x++){let w=t[x];if(typeof w=="string"&&(w=w.trim(),Qm(w))){const b=kT(w,i.current);b!==void 0&&(t[x]=b),x===t.length-1&&(this.finalKeyframe=w)}}if(this.resolveNoneKeyframes(),!DT.has(s)||t.length!==2)return;const[a,u]=t,d=ev(a),m=ev(u),y=H0(a),g=H0(u);if(y!==g&&Qo[s]){this.needsMeasurement=!0;return}if(d!==m)if(X0(d)&&X0(m))for(let x=0;x<t.length;x++){const w=t[x];typeof w=="string"&&(t[x]=parseFloat(w))}else Qo[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,s=[];for(let a=0;a<t.length;a++)(t[a]===null||dA(t[a]))&&s.push(a);s.length&&xA(t,s,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qo[s](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const a=i[i.length-1];a!==void 0&&t.getValue(s,a).jump(a,!1)}measureEndState(){var m;const{element:t,name:i,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(i);a&&a.jump(this.measuredOrigin,!1);const u=s.length-1,d=s[u];s[u]=Qo[i](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),(m=this.removedTransforms)!=null&&m.length&&this.removedTransforms.forEach(([y,g])=>{t.getValue(y).set(g)}),this.resolveNoneKeyframes()}}const SA=new Set(["opacity","clipPath","filter","transform"]);function qT(e,t,i){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const a=(i==null?void 0:i[e])??s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(s=>s!=null)}const FT=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ym(e){return Wx(e)&&"offsetHeight"in e}const{schedule:dp}=fT(queueMicrotask,!1),ai={x:!1,y:!1};function ZT(){return ai.x||ai.y}function EA(e){return e==="x"||e==="y"?ai[e]?null:(ai[e]=!0,()=>{ai[e]=!1}):ai.x||ai.y?null:(ai.x=ai.y=!0,()=>{ai.x=ai.y=!1})}function YT(e,t){const i=qT(e),s=new AbortController,a={passive:!0,...t,signal:s.signal};return[i,a,()=>s.abort()]}function wA(e){return!(e.pointerType==="touch"||ZT())}function bA(e,t,i={}){const[s,a,u]=YT(e,i);return s.forEach(d=>{let m=!1,y=!1,g;const x=()=>{d.removeEventListener("pointerleave",I)},w=k=>{g&&(g(k),g=void 0),x()},b=k=>{m=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),y&&(y=!1,w(k))},M=()=>{m=!0,window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",b,a)},I=k=>{if(k.pointerType!=="touch"){if(m){y=!0;return}w(k)}},P=k=>{if(!wA(k))return;y=!1;const B=t(d,k);typeof B=="function"&&(g=B,d.addEventListener("pointerleave",I,a))};d.addEventListener("pointerenter",P,a),d.addEventListener("pointerdown",M,a)}),u}const JT=(e,t)=>t?e===t?!0:JT(e,t.parentElement):!1,hp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,CA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AA(e){return CA.has(e.tagName)||e.isContentEditable===!0}const MA=new Set(["INPUT","SELECT","TEXTAREA"]);function NA(e){return MA.has(e.tagName)||e.isContentEditable===!0}const Dc=new WeakSet;function iv(e){return t=>{t.key==="Enter"&&e(t)}}function Dh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const RA=(e,t)=>{const i=e.currentTarget;if(!i)return;const s=iv(()=>{if(Dc.has(i))return;Dh(i,"down");const a=iv(()=>{Dh(i,"up")}),u=()=>Dh(i,"cancel");i.addEventListener("keyup",a,t),i.addEventListener("blur",u,t)});i.addEventListener("keydown",s,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),t)};function ov(e){return hp(e)&&!ZT()}const sv=new WeakSet;function IA(e,t,i={}){const[s,a,u]=YT(e,i),d=m=>{const y=m.currentTarget;if(!ov(m)||sv.has(m))return;Dc.add(y),i.stopPropagation&&sv.add(m);const g=t(y,m),x=(M,I)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",b),Dc.has(y)&&Dc.delete(y),ov(M)&&typeof g=="function"&&g(M,{success:I})},w=M=>{x(M,y===window||y===document||i.useGlobalTarget||JT(y,M.target))},b=M=>{x(M,!1)};window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",b,a)};return s.forEach(m=>{(i.useGlobalTarget?window:m).addEventListener("pointerdown",d,a),ym(m)&&(m.addEventListener("focus",g=>RA(g,a)),!AA(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function mp(e){return Wx(e)&&"ownerSVGElement"in e}const Uc=new WeakMap;let Wo;const KT=(e,t,i)=>(s,a)=>a&&a[0]?a[0][e+"Size"]:mp(s)&&"getBBox"in s?s.getBBox()[t]:s[i],PA=KT("inline","width","offsetWidth"),kA=KT("block","height","offsetHeight");function LA({target:e,borderBoxSize:t}){var i;(i=Uc.get(e))==null||i.forEach(s=>{s(e,{get width(){return PA(e,t)},get height(){return kA(e,t)}})})}function DA(e){e.forEach(LA)}function UA(){typeof ResizeObserver>"u"||(Wo=new ResizeObserver(DA))}function OA(e,t){Wo||UA();const i=qT(e);return i.forEach(s=>{let a=Uc.get(s);a||(a=new Set,Uc.set(s,a)),a.add(t),Wo==null||Wo.observe(s)}),()=>{i.forEach(s=>{const a=Uc.get(s);a==null||a.delete(t),a!=null&&a.size||Wo==null||Wo.unobserve(s)})}}const Oc=new Set;let Wr;function VA(){Wr=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Oc.forEach(t=>t(e))},window.addEventListener("resize",Wr)}function BA(e){return Oc.add(e),Wr||VA(),()=>{Oc.delete(e),!Oc.size&&typeof Wr=="function"&&(window.removeEventListener("resize",Wr),Wr=void 0)}}function rv(e,t){return typeof e=="function"?BA(e):OA(e,t)}function zA(e){return mp(e)&&e.tagName==="svg"}const HA=[...zT,Ie,ui],GA=e=>HA.find(BT(e)),av=()=>({translate:0,scale:1,origin:0,originPoint:0}),Qr=()=>({x:av(),y:av()}),lv=()=>({min:0,max:0}),Ue=()=>({x:lv(),y:lv()}),qA=new WeakMap;function cf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Bl(e){return typeof e=="string"||Array.isArray(e)}const pp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gp=["initial",...pp];function ff(e){return cf(e.animate)||gp.some(t=>Bl(e[t]))}function jT(e){return!!(ff(e)||e.variants)}function FA(e,t,i){for(const s in t){const a=t[s],u=i[s];if($e(a))e.addValue(s,a);else if($e(u))e.addValue(s,aa(a,{owner:e}));else if(u!==a)if(e.hasValue(s)){const d=e.getValue(s);d.liveStyle===!0?d.jump(a):d.hasAnimated||d.set(a)}else{const d=e.getStaticValue(s);e.addValue(s,aa(d!==void 0?d:a,{owner:e}))}}for(const s in i)t[s]===void 0&&e.removeValue(s);return t}const vm={current:null},XT={current:!1},ZA=typeof window<"u";function YA(){if(XT.current=!0,!!ZA)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>vm.current=e.matches;e.addEventListener("change",t),t()}else vm.current=!1}const uv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Jc={};function WT(e){Jc=e}function JA(){return Jc}class KA{scrapeMotionValuesFromProps(t,i,s){return{}}constructor({parent:t,props:i,presenceContext:s,reducedMotionConfig:a,skipAnimations:u,blockInitialAnimation:d,visualState:m},y={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=rp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const M=an.now();this.renderScheduledAt<M&&(this.renderScheduledAt=M,ue.render(this.render,!1,!0))};const{latestValues:g,renderState:x}=m;this.latestValues=g,this.baseTarget={...g},this.initialValues=i.initial?{...g}:{},this.renderState=x,this.parent=t,this.props=i,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=u,this.options=y,this.blockInitialAnimation=!!d,this.isControllingVariants=ff(i),this.isVariantNode=jT(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:w,...b}=this.scrapeMotionValuesFromProps(i,{},this);for(const M in b){const I=b[M];g[M]!==void 0&&$e(I)&&I.set(g[M])}}mount(t){var i,s;if(this.hasBeenMounted)for(const a in this.initialValues)(i=this.values.get(a))==null||i.jump(this.initialValues[a]),this.latestValues[a]=this.initialValues[a];this.current=t,qA.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,u)=>this.bindToMotionValue(u,a)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(XT.current||YA(),this.shouldReduceMotion=vm.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var t;this.projection&&this.projection.unmount(),$o(this.notifyUpdate),$o(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const s=this.features[i];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),i.accelerate&&SA.has(t)&&this.current instanceof HTMLElement){const{factory:d,keyframes:m,times:y,ease:g,duration:x}=i.accelerate,w=new RT({element:this.current,name:t,keyframes:m,times:y,ease:g,duration:li(x)}),b=d(w);this.valueSubscriptions.set(t,()=>{b(),w.cancel()});return}const s=ca.has(t);s&&this.onBindTransform&&this.onBindTransform();const a=i.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&ue.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;typeof window<"u"&&window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{a(),u&&u(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Jc){const i=Jc[t];if(!i)continue;const{isEnabled:s,Feature:a}=i;if(!this.features[t]&&a&&s(this.props)&&(this.features[t]=new a(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let s=0;s<uv.length;s++){const a=uv[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,d=t[u];d&&(this.propEventSubscriptions[a]=this.on(a,d))}this.prevMotionValues=FA(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const s=this.values.get(t);i!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&i!==void 0&&(s=aa(i===null?void 0:i,{owner:this}),this.addValue(t,s)),s}readValue(t,i){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Xx(s)||Qx(s))?s=parseFloat(s):!GA(s)&&ui.test(i)&&(s=GT(t,i)),this.setBaseTarget(t,$e(s)?s.get():s)),$e(s)?s.get():s}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var u;const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const d=up(this.props,i,(u=this.presenceContext)==null?void 0:u.custom);d&&(s=d[t])}if(i&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!$e(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new jm),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){dp.render(this.render)}}class QT extends KA{constructor(){super(...arguments),this.KeyframeResolver=TA}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){const s=t.style;return s?s[i]:void 0}removeValueFromRenderState(t,{vars:i,style:s}){delete i[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$e(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}class ts{constructor(t){this.isMounted=!1,this.node=t}update(){}}function $T({top:e,left:t,right:i,bottom:s}){return{x:{min:t,max:i},y:{min:e,max:s}}}function jA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function XA(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}function Uh(e){return e===void 0||e===1}function _m({scale:e,scaleX:t,scaleY:i}){return!Uh(e)||!Uh(t)||!Uh(i)}function Ys(e){return _m(e)||tS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tS(e){return cv(e.x)||cv(e.y)}function cv(e){return e&&e!=="0%"}function Kc(e,t,i){const s=e-i,a=t*s;return i+a}function fv(e,t,i,s,a){return a!==void 0&&(e=Kc(e,a,s)),Kc(e,i,s)+t}function xm(e,t=0,i=1,s,a){e.min=fv(e.min,t,i,s,a),e.max=fv(e.max,t,i,s,a)}function eS(e,{x:t,y:i}){xm(e.x,t.translate,t.scale,t.originPoint),xm(e.y,i.translate,i.scale,i.originPoint)}const dv=.999999999999,hv=1.0000000000001;function WA(e,t,i,s=!1){const a=i.length;if(!a)return;t.x=t.y=1;let u,d;for(let m=0;m<a;m++){u=i[m],d=u.projectionDelta;const{visualElement:y}=u.options;y&&y.props.style&&y.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ta(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,eS(e,d)),s&&Ys(u.latestValues)&&ta(e,u.latestValues))}t.x<hv&&t.x>dv&&(t.x=1),t.y<hv&&t.y>dv&&(t.y=1)}function $r(e,t){e.min=e.min+t,e.max=e.max+t}function mv(e,t,i,s,a=.5){const u=ye(e.min,e.max,a);xm(e,t,i,u,s)}function ta(e,t){mv(e.x,t.x,t.scaleX,t.scale,t.originX),mv(e.y,t.y,t.scaleY,t.scale,t.originY)}function nS(e,t){return $T(XA(e.getBoundingClientRect(),t))}function QA(e,t,i){const s=nS(e,i),{scroll:a}=t;return a&&($r(s.x,a.offset.x),$r(s.y,a.offset.y)),s}const $A={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t1=ua.length;function e1(e,t,i){let s="",a=!0;for(let u=0;u<t1;u++){const d=ua[u],m=e[d];if(m===void 0)continue;let y=!0;if(typeof m=="number")y=m===(d.startsWith("scale")?1:0);else{const g=parseFloat(m);y=d.startsWith("scale")?g===1:g===0}if(!y||i){const g=FT(m,fp[d]);if(!y){a=!1;const x=$A[d]||d;s+=`${x}(${g}) `}i&&(t[d]=g)}}return s=s.trim(),i?s=i(t,a?"":s):a&&(s="none"),s}function yp(e,t,i){const{style:s,vars:a,transformOrigin:u}=e;let d=!1,m=!1;for(const y in t){const g=t[y];if(ca.has(y)){d=!0;continue}else if(hT(y)){a[y]=g;continue}else{const x=FT(g,fp[y]);y.startsWith("origin")?(m=!0,u[y]=x):s[y]=x}}if(t.transform||(d||i?s.transform=e1(t,e.transform,i):s.transform&&(s.transform="none")),m){const{originX:y="50%",originY:g="50%",originZ:x=0}=u;s.transformOrigin=`${y} ${g} ${x}`}}function iS(e,{style:t,vars:i},s,a){const u=e.style;let d;for(d in t)u[d]=t[d];a==null||a.applyProjectionStyles(u,s);for(d in i)u.setProperty(d,i[d])}function pv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ct.test(e))e=parseFloat(e);else return e;const i=pv(e,t.target.x),s=pv(e,t.target.y);return`${i}% ${s}%`}},n1={correct:(e,{treeScale:t,projectionDelta:i})=>{const s=e,a=ui.parse(e);if(a.length>5)return s;const u=ui.createTransformer(e),d=typeof a[0]!="number"?1:0,m=i.x.scale*t.x,y=i.y.scale*t.y;a[0+d]/=m,a[1+d]/=y;const g=ye(m,y,.5);return typeof a[2+d]=="number"&&(a[2+d]/=g),typeof a[3+d]=="number"&&(a[3+d]/=g),u(a)}},Tm={borderRadius:{...bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bl,borderTopRightRadius:bl,borderBottomLeftRadius:bl,borderBottomRightRadius:bl,boxShadow:n1};function oS(e,{layout:t,layoutId:i}){return ca.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!Tm[e]||e==="opacity")}function vp(e,t,i){var d;const s=e.style,a=t==null?void 0:t.style,u={};if(!s)return u;for(const m in s)($e(s[m])||a&&$e(a[m])||oS(m,e)||((d=i==null?void 0:i.getValue(m))==null?void 0:d.liveStyle)!==void 0)&&(u[m]=s[m]);return u}function i1(e){return window.getComputedStyle(e)}class o1 extends QT{constructor(){super(...arguments),this.type="html",this.renderInstance=iS}readValueFromInstance(t,i){var s;if(ca.has(i))return(s=this.projection)!=null&&s.isProjecting?rm(i):EC(t,i);{const a=i1(t),u=(hT(i)?a.getPropertyValue(i):a[i])||0;return typeof u=="string"?u.trim():u}}measureInstanceViewportBox(t,{transformPagePoint:i}){return nS(t,i)}build(t,i,s){yp(t,i,s.transformTemplate)}scrapeMotionValuesFromProps(t,i,s){return vp(t,i,s)}}const s1={offset:"stroke-dashoffset",array:"stroke-dasharray"},r1={offset:"strokeDashoffset",array:"strokeDasharray"};function a1(e,t,i=1,s=0,a=!0){e.pathLength=1;const u=a?s1:r1;e[u.offset]=`${-s}`,e[u.array]=`${t} ${i}`}const l1=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function sS(e,{attrX:t,attrY:i,attrScale:s,pathLength:a,pathSpacing:u=1,pathOffset:d=0,...m},y,g,x){if(yp(e,m,g),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:w,style:b}=e;w.transform&&(b.transform=w.transform,delete w.transform),(b.transform||w.transformOrigin)&&(b.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),b.transform&&(b.transformBox=(x==null?void 0:x.transformBox)??"fill-box",delete w.transformBox);for(const M of l1)w[M]!==void 0&&(b[M]=w[M],delete w[M]);t!==void 0&&(w.x=t),i!==void 0&&(w.y=i),s!==void 0&&(w.scale=s),a!==void 0&&a1(w,a,u,d,!1)}const rS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),aS=e=>typeof e=="string"&&e.toLowerCase()==="svg";function u1(e,t,i,s){iS(e,t,void 0,s);for(const a in t.attrs)e.setAttribute(rS.has(a)?a:cp(a),t.attrs[a])}function lS(e,t,i){const s=vp(e,t,i);for(const a in e)if($e(e[a])||$e(t[a])){const u=ua.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[u]=e[a]}return s}class c1 extends QT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(ca.has(i)){const s=HT(i);return s&&s.default||0}return i=rS.has(i)?i:cp(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,s){return lS(t,i,s)}build(t,i,s){sS(t,i,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,i,s,a){u1(t,i,s,a)}mount(t){this.isSVGTag=aS(t.tagName),super.mount(t)}}const f1=gp.length;function uS(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?uS(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<f1;i++){const s=gp[i],a=e.props[s];(Bl(a)||a===!1)&&(t[s]=a)}return t}function cS(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s++)if(t[s]!==e[s])return!1;return!0}const d1=[...pp].reverse(),h1=pp.length;function m1(e){return t=>Promise.all(t.map(({animation:i,options:s})=>cA(e,i,s)))}function p1(e){let t=m1(e),i=gv(),s=!0;const a=y=>(g,x)=>{var b;const w=ia(e,x,y==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(w){const{transition:M,transitionEnd:I,...P}=w;g={...g,...P,...I}}return g};function u(y){t=y(e)}function d(y){const{props:g}=e,x=uS(e.parent)||{},w=[],b=new Set;let M={},I=1/0;for(let k=0;k<h1;k++){const B=d1[k],Y=i[B],z=g[B]!==void 0?g[B]:x[B],$=Bl(z),Q=B===y?Y.isActive:null;Q===!1&&(I=k);let V=z===x[B]&&z!==g[B]&&$;if(V&&s&&e.manuallyAnimateOnMount&&(V=!1),Y.protectedKeys={...M},!Y.isActive&&Q===null||!z&&!Y.prevProp||cf(z)||typeof z=="boolean")continue;if(B==="exit"&&Y.isActive&&Q!==!0){Y.prevResolvedValues&&(M={...M,...Y.prevResolvedValues});continue}const nt=g1(Y.prevProp,z);let rt=nt||B===y&&Y.isActive&&!V&&$||k>I&&$,ct=!1;const Tt=Array.isArray(z)?z:[z];let dt=Tt.reduce(a(B),{});Q===!1&&(dt={});const{prevResolvedValues:_t={}}=Y,ht={..._t,...dt},K=J=>{rt=!0,b.has(J)&&(ct=!0,b.delete(J)),Y.needsAnimating[J]=!0;const W=e.getValue(J);W&&(W.liveStyle=!1)};for(const J in ht){const W=dt[J],yt=_t[J];if(M.hasOwnProperty(J))continue;let mt=!1;dm(W)&&dm(yt)?mt=!cS(W,yt):mt=W!==yt,mt?W!=null?K(J):b.add(J):W!==void 0&&b.has(J)?K(J):Y.protectedKeys[J]=!0}Y.prevProp=z,Y.prevResolvedValues=dt,Y.isActive&&(M={...M,...dt}),s&&e.blockInitialAnimation&&(rt=!1);const ft=V&&nt;rt&&(!ft||ct)&&w.push(...Tt.map(J=>{const W={type:B};if(typeof J=="string"&&s&&!ft&&e.manuallyAnimateOnMount&&e.parent){const{parent:yt}=e,mt=ia(yt,J);if(yt.enteringChildren&&mt){const{delayChildren:U}=mt.transition||{};W.delay=PT(yt.enteringChildren,e,U)}}return{animation:J,options:W}}))}if(b.size){const k={};if(typeof g.initial!="boolean"){const B=ia(e,Array.isArray(g.initial)?g.initial[0]:g.initial);B&&B.transition&&(k.transition=B.transition)}b.forEach(B=>{const Y=e.getBaseTarget(B),z=e.getValue(B);z&&(z.liveStyle=!0),k[B]=Y??null}),w.push({animation:k})}let P=!!w.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(P=!1),s=!1,P?t(w):Promise.resolve()}function m(y,g){var w;if(i[y].isActive===g)return Promise.resolve();(w=e.variantChildren)==null||w.forEach(b=>{var M;return(M=b.animationState)==null?void 0:M.setActive(y,g)}),i[y].isActive=g;const x=d(y);for(const b in i)i[b].protectedKeys={};return x}return{animateChanges:d,setActive:m,setAnimateFunction:u,getState:()=>i,reset:()=>{i=gv()}}}function g1(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!cS(t,e):!1}function Zs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gv(){return{animate:Zs(!0),whileInView:Zs(),whileHover:Zs(),whileTap:Zs(),whileDrag:Zs(),whileFocus:Zs(),exit:Zs()}}function yv(e,t){e.min=t.min,e.max=t.max}function ri(e,t){yv(e.x,t.x),yv(e.y,t.y)}function vv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const fS=1e-4,y1=1-fS,v1=1+fS,dS=.01,_1=0-dS,x1=0+dS;function ln(e){return e.max-e.min}function T1(e,t,i){return Math.abs(e-t)<=i}function _v(e,t,i,s=.5){e.origin=s,e.originPoint=ye(t.min,t.max,e.origin),e.scale=ln(i)/ln(t),e.translate=ye(i.min,i.max,e.origin)-e.originPoint,(e.scale>=y1&&e.scale<=v1||isNaN(e.scale))&&(e.scale=1),(e.translate>=_1&&e.translate<=x1||isNaN(e.translate))&&(e.translate=0)}function Ll(e,t,i,s){_v(e.x,t.x,i.x,s?s.originX:void 0),_v(e.y,t.y,i.y,s?s.originY:void 0)}function xv(e,t,i){e.min=i.min+t.min,e.max=e.min+ln(t)}function S1(e,t,i){xv(e.x,t.x,i.x),xv(e.y,t.y,i.y)}function Tv(e,t,i){e.min=t.min-i.min,e.max=e.min+ln(t)}function jc(e,t,i){Tv(e.x,t.x,i.x),Tv(e.y,t.y,i.y)}function Sv(e,t,i,s,a){return e-=t,e=Kc(e,1/i,s),a!==void 0&&(e=Kc(e,1/a,s)),e}function E1(e,t=0,i=1,s=.5,a,u=e,d=e){if(Ri.test(t)&&(t=parseFloat(t),t=ye(d.min,d.max,t/100)-d.min),typeof t!="number")return;let m=ye(u.min,u.max,s);e===u&&(m-=t),e.min=Sv(e.min,t,i,m,a),e.max=Sv(e.max,t,i,m,a)}function Ev(e,t,[i,s,a],u,d){E1(e,t[i],t[s],t[a],t.scale,u,d)}const w1=["x","scaleX","originX"],b1=["y","scaleY","originY"];function wv(e,t,i,s){Ev(e.x,t,w1,i?i.x:void 0,s?s.x:void 0),Ev(e.y,t,b1,i?i.y:void 0,s?s.y:void 0)}function bv(e){return e.translate===0&&e.scale===1}function hS(e){return bv(e.x)&&bv(e.y)}function Cv(e,t){return e.min===t.min&&e.max===t.max}function C1(e,t){return Cv(e.x,t.x)&&Cv(e.y,t.y)}function Av(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function mS(e,t){return Av(e.x,t.x)&&Av(e.y,t.y)}function Mv(e){return ln(e.x)/ln(e.y)}function Nv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Ni(e){return[e("x"),e("y")]}function A1(e,t,i){let s="";const a=e.x.translate/t.x,u=e.y.translate/t.y,d=(i==null?void 0:i.z)||0;if((a||u||d)&&(s=`translate3d(${a}px, ${u}px, ${d}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:g,rotate:x,rotateX:w,rotateY:b,skewX:M,skewY:I}=i;g&&(s=`perspective(${g}px) ${s}`),x&&(s+=`rotate(${x}deg) `),w&&(s+=`rotateX(${w}deg) `),b&&(s+=`rotateY(${b}deg) `),M&&(s+=`skewX(${M}deg) `),I&&(s+=`skewY(${I}deg) `)}const m=e.x.scale*t.x,y=e.y.scale*t.y;return(m!==1||y!==1)&&(s+=`scale(${m}, ${y})`),s||"none"}const pS=["TopLeft","TopRight","BottomLeft","BottomRight"],M1=pS.length,Rv=e=>typeof e=="string"?parseFloat(e):e,Iv=e=>typeof e=="number"||Ct.test(e);function N1(e,t,i,s,a,u){a?(e.opacity=ye(0,i.opacity??1,R1(s)),e.opacityExit=ye(t.opacity??1,0,I1(s))):u&&(e.opacity=ye(t.opacity??1,i.opacity??1,s));for(let d=0;d<M1;d++){const m=`border${pS[d]}Radius`;let y=Pv(t,m),g=Pv(i,m);if(y===void 0&&g===void 0)continue;y||(y=0),g||(g=0),y===0||g===0||Iv(y)===Iv(g)?(e[m]=Math.max(ye(Rv(y),Rv(g),s),0),(Ri.test(g)||Ri.test(y))&&(e[m]+="%")):e[m]=g}(t.rotate||i.rotate)&&(e.rotate=ye(t.rotate||0,i.rotate||0,s))}function Pv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const R1=gS(0,.5,aT),I1=gS(.5,.95,Jn);function gS(e,t,i){return s=>s<e?0:s>t?1:i(Ul(e,t,s))}function P1(e,t,i){const s=$e(e)?e:aa(e);return s.start(lp("",s,t,i)),s.animation}function zl(e,t,i,s={passive:!0}){return e.addEventListener(t,i,s),()=>e.removeEventListener(t,i)}const k1=(e,t)=>e.depth-t.depth;class L1{constructor(){this.children=[],this.isDirty=!1}add(t){Jm(this.children,t),this.isDirty=!0}remove(t){qc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(k1),this.isDirty=!1,this.children.forEach(t)}}function D1(e,t){const i=an.now(),s=({timestamp:a})=>{const u=a-i;u>=t&&($o(s),e(u-t))};return ue.setup(s,!0),()=>$o(s)}function Vc(e){return $e(e)?e.get():e}class U1{constructor(){this.members=[]}add(t){Jm(this.members,t);for(let i=this.members.length-1;i>=0;i--){const s=this.members[i];if(s===t||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&qc(this.members,s)}t.scheduleRender()}remove(t){if(qc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(a=>t===a);if(i===0)return!1;let s;for(let a=i;a>=0;a--){const u=this.members[a],d=u.instance;if(u.isPresent!==!1&&(!d||d.isConnected!==!1)){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,i){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const a=s.options.layoutDependency,u=t.options.layoutDependency;if(!(a!==void 0&&u!==void 0&&a===u)){const y=s.instance;y&&y.isConnected===!1&&!s.snapshot||(t.resumeFrom=s,i&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:m}=t.options;m===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:s}=t;i.onExitComplete&&i.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Bc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Oh=["","X","Y","Z"],O1=1e3;let V1=0;function Vh(e,t,i,s){const{latestValues:a}=t;a[e]&&(i[e]=a[e],t.setStaticValue(e,0),s&&(s[e]=0))}function yS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=OT(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:a,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",ue,!(a||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&yS(s)}function vS({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(d={},m=t==null?void 0:t()){this.id=V1++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(H1),this.nodes.forEach(Z1),this.nodes.forEach(Y1),this.nodes.forEach(G1)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let y=0;y<this.path.length;y++)this.path[y].shouldResetTransform=!0;this.root===this&&(this.nodes=new L1)}addEventListener(d,m){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new jm),this.eventHandlers.get(d).add(m)}notifyListeners(d,...m){const y=this.eventHandlers.get(d);y&&y.notify(...m)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=mp(d)&&!zA(d),this.instance=d;const{layoutId:m,layout:y,visualElement:g}=this.options;if(g&&!g.current&&g.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(y||m)&&(this.isLayoutDirty=!0),e){let x,w=0;const b=()=>this.root.updateBlockedByResize=!1;ue.read(()=>{w=window.innerWidth}),e(d,()=>{const M=window.innerWidth;M!==w&&(w=M,this.root.updateBlockedByResize=!0,x&&x(),x=D1(b,250),Bc.hasAnimatedSinceResize&&(Bc.hasAnimatedSinceResize=!1,this.nodes.forEach(Dv)))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&g&&(m||y)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:w,hasRelativeLayoutChanged:b,layout:M})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||g.getDefaultTransition()||W1,{onLayoutAnimationStart:P,onLayoutAnimationComplete:k}=g.getProps(),B=!this.targetLayout||!mS(this.targetLayout,M),Y=!w&&b;if(this.options.layoutRoot||this.resumeFrom||Y||w&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...ap(I,"layout"),onPlay:P,onComplete:k};(g.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(x,Y)}else w||Dv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=M})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$o(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(J1),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const w=this.path[x];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:m,layout:y}=this.options;if(m===void 0&&!y)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kv);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lv);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(F1),this.nodes.forEach(B1),this.nodes.forEach(z1)):this.nodes.forEach(Lv),this.clearAllSnapshots();const m=an.now();je.delta=Ii(0,1e3/60,m-je.timestamp),je.timestamp=m,je.isProcessing=!0,Nh.update.process(je),Nh.preRender.process(je),Nh.render.process(je),je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(q1),this.sharedNodes.forEach(K1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let y=0;y<this.path.length;y++)this.path[y].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(m=!1),m&&this.instance){const y=s(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:y,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:y}}}resetTransform(){if(!a)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!hS(this.projectionDelta),y=this.getTransformTemplate(),g=y?y(this.latestValues,""):void 0,x=g!==this.prevTransformTemplateValue;d&&this.instance&&(m||Ys(this.latestValues)||x)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const m=this.measurePageBox();let y=this.removeElementScroll(m);return d&&(y=this.removeTransform(y)),Q1(y),{animationId:this.root.animationId,measuredBox:m,layoutBox:y,latestValues:{},source:this.id}}measurePageBox(){var g;const{visualElement:d}=this.options;if(!d)return Ue();const m=d.measureViewportBox();if(!(((g=this.scroll)==null?void 0:g.wasRoot)||this.path.some($1))){const{scroll:x}=this.root;x&&($r(m.x,x.offset.x),$r(m.y,x.offset.y))}return m}removeElementScroll(d){var y;const m=Ue();if(ri(m,d),(y=this.scroll)!=null&&y.wasRoot)return m;for(let g=0;g<this.path.length;g++){const x=this.path[g],{scroll:w,options:b}=x;x!==this.root&&w&&b.layoutScroll&&(w.wasRoot&&ri(m,d),$r(m.x,w.offset.x),$r(m.y,w.offset.y))}return m}applyTransform(d,m=!1){const y=Ue();ri(y,d);for(let g=0;g<this.path.length;g++){const x=this.path[g];!m&&x.options.layoutScroll&&x.scroll&&x!==x.root&&ta(y,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Ys(x.latestValues)&&ta(y,x.latestValues)}return Ys(this.latestValues)&&ta(y,this.latestValues),y}removeTransform(d){const m=Ue();ri(m,d);for(let y=0;y<this.path.length;y++){const g=this.path[y];if(!g.instance||!Ys(g.latestValues))continue;_m(g.latestValues)&&g.updateSnapshot();const x=Ue(),w=g.measurePageBox();ri(x,w),wv(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,x)}return Ys(this.latestValues)&&wv(m,this.latestValues),m}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var M;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(d||y&&this.isSharedProjectionDirty||this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:w}=this.options;if(!this.layout||!(x||w))return;this.resolvedRelativeTargetAt=je.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),S1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ri(this.target,this.layout.layoutBox),eS(this.target,this.targetDelta)):ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||_m(this.parent.latestValues)||tS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(d,m,y){this.relativeParent=d,this.linkedParentVersion=d.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),jc(this.relativeTargetOrigin,m,y),ri(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var I;const d=this.getLead(),m=!!this.resumingFrom||this!==d;let y=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===je.timestamp&&(y=!1),y)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;ri(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,b=this.treeScale.y;WA(this.layoutCorrected,this.treeScale,this.path,m),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Ue());const{target:M}=d;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vv(this.prevProjectionDelta.x,this.projectionDelta.x),vv(this.prevProjectionDelta.y,this.projectionDelta.y)),Ll(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==b||!Nv(this.projectionDelta.x,this.prevProjectionDelta.x)||!Nv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var m;if((m=this.options.visualElement)==null||m.scheduleRender(),d){const y=this.getStack();y&&y.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Qr(),this.projectionDelta=Qr(),this.projectionDeltaWithTransform=Qr()}setAnimationOrigin(d,m=!1){const y=this.snapshot,g=y?y.latestValues:{},x={...this.latestValues},w=Qr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const b=Ue(),M=y?y.source:void 0,I=this.layout?this.layout.source:void 0,P=M!==I,k=this.getStack(),B=!k||k.members.length<=1,Y=!!(P&&!B&&this.options.crossfade===!0&&!this.path.some(X1));this.animationProgress=0;let z;this.mixTargetDelta=$=>{const Q=$/1e3;Uv(w.x,d.x,Q),Uv(w.y,d.y,Q),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j1(this.relativeTarget,this.relativeTargetOrigin,b,Q),z&&C1(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Ue()),ri(z,this.relativeTarget)),P&&(this.animationValues=x,N1(x,g,this.latestValues,Q,Y,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){var m,y,g;this.notifyListeners("animationStart"),(m=this.currentAnimation)==null||m.stop(),(g=(y=this.resumingFrom)==null?void 0:y.currentAnimation)==null||g.stop(),this.pendingAnimation&&($o(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{Bc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=aa(0)),this.motionValue.jump(0,!1),this.currentAnimation=P1(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:x=>{this.mixTargetDelta(x),d.onUpdate&&d.onUpdate(x)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(O1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:m,target:y,layout:g,latestValues:x}=d;if(!(!m||!y||!g)){if(this!==d&&this.layout&&g&&_S(this.options.animationType,this.layout.layoutBox,g.layoutBox)){y=this.target||Ue();const w=ln(this.layout.layoutBox.x);y.x.min=d.target.x.min,y.x.max=y.x.min+w;const b=ln(this.layout.layoutBox.y);y.y.min=d.target.y.min,y.y.max=y.y.min+b}ri(m,y),ta(m,x),Ll(this.projectionDeltaWithTransform,this.layoutCorrected,m,x)}}registerSharedNode(d,m){this.sharedNodes.has(d)||this.sharedNodes.set(d,new U1),this.sharedNodes.get(d).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var m;const{layoutId:d}=this.options;return d?((m=this.getStack())==null?void 0:m.lead)||this:this}getPrevLead(){var m;const{layoutId:d}=this.options;return d?(m=this.getStack())==null?void 0:m.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:m,preserveFollowOpacity:y}={}){const g=this.getStack();g&&g.promote(this,y),d&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let m=!1;const{latestValues:y}=d;if((y.z||y.rotate||y.rotateX||y.rotateY||y.rotateZ||y.skewX||y.skewY)&&(m=!0),!m)return;const g={};y.z&&Vh("z",d,g,this.animationValues);for(let x=0;x<Oh.length;x++)Vh(`rotate${Oh[x]}`,d,g,this.animationValues),Vh(`skew${Oh[x]}`,d,g,this.animationValues);d.render();for(const x in g)d.setStaticValue(x,g[x]),this.animationValues&&(this.animationValues[x]=g[x]);d.scheduleRender()}applyProjectionStyles(d,m){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const y=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Vc(m==null?void 0:m.pointerEvents)||"",d.transform=y?y(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Vc(m==null?void 0:m.pointerEvents)||""),this.hasProjected&&!Ys(this.latestValues)&&(d.transform=y?y({},""):"none",this.hasProjected=!1);return}d.visibility="";const x=g.animationValues||g.latestValues;this.applyTransformsToTarget();let w=A1(this.projectionDeltaWithTransform,this.treeScale,x);y&&(w=y(x,w)),d.transform=w;const{x:b,y:M}=this.projectionDelta;d.transformOrigin=`${b.origin*100}% ${M.origin*100}% 0`,g.animationValues?d.opacity=g===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:d.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const I in Tm){if(x[I]===void 0)continue;const{correct:P,applyTo:k,isCSSVariable:B}=Tm[I],Y=w==="none"?x[I]:P(x[I],g);if(k){const z=k.length;for(let $=0;$<z;$++)d[k[$]]=Y}else B?this.options.visualElement.renderState.vars[I]=Y:d[I]=Y}this.options.layoutId&&(d.pointerEvents=g===this?Vc(m==null?void 0:m.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var m;return(m=d.currentAnimation)==null?void 0:m.stop()}),this.root.nodes.forEach(kv),this.root.sharedNodes.clear()}}}function B1(e){e.updateLayout()}function z1(e){var i;const t=((i=e.resumeFrom)==null?void 0:i.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=e.layout,{animationType:u}=e.options,d=t.source!==e.layout.source;u==="size"?Ni(w=>{const b=d?t.measuredBox[w]:t.layoutBox[w],M=ln(b);b.min=s[w].min,b.max=b.min+M}):_S(u,t.layoutBox,s)&&Ni(w=>{const b=d?t.measuredBox[w]:t.layoutBox[w],M=ln(s[w]);b.max=b.min+M,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[w].max=e.relativeTarget[w].min+M)});const m=Qr();Ll(m,s,t.layoutBox);const y=Qr();d?Ll(y,e.applyTransform(a,!0),t.measuredBox):Ll(y,s,t.layoutBox);const g=!hS(m);let x=!1;if(!e.resumeFrom){const w=e.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:b,layout:M}=w;if(b&&M){const I=Ue();jc(I,t.layoutBox,b.layoutBox);const P=Ue();jc(P,s,M.layoutBox),mS(I,P)||(x=!0),w.options.layoutRoot&&(e.relativeTarget=P,e.relativeTargetOrigin=I,e.relativeParent=w)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:y,layoutDelta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:x})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function H1(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function G1(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function q1(e){e.clearSnapshot()}function kv(e){e.clearMeasurements()}function Lv(e){e.isLayoutDirty=!1}function F1(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Dv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Z1(e){e.resolveTargetDelta()}function Y1(e){e.calcProjection()}function J1(e){e.resetSkewAndRotation()}function K1(e){e.removeLeadSnapshot()}function Uv(e,t,i){e.translate=ye(t.translate,0,i),e.scale=ye(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function Ov(e,t,i,s){e.min=ye(t.min,i.min,s),e.max=ye(t.max,i.max,s)}function j1(e,t,i,s){Ov(e.x,t.x,i.x,s),Ov(e.y,t.y,i.y,s)}function X1(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const W1={duration:.45,ease:[.4,0,.1,1]},Vv=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Bv=Vv("applewebkit/")&&!Vv("chrome/")?Math.round:Jn;function zv(e){e.min=Bv(e.min),e.max=Bv(e.max)}function Q1(e){zv(e.x),zv(e.y)}function _S(e,t,i){return e==="position"||e==="preserve-aspect"&&!T1(Mv(t),Mv(i),.2)}function $1(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const tM=vS({attachResizeListener:(e,t)=>zl(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Bh={current:void 0},xS=vS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bh.current){const e=new tM({});e.mount(window),e.setOptions({layoutScroll:!0}),Bh.current=e}return Bh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),_p=q.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Hv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function eM(...e){return t=>{let i=!1;const s=e.map(a=>{const u=Hv(a,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let a=0;a<s.length;a++){const u=s[a];typeof u=="function"?u():Hv(e[a],null)}}}}function nM(...e){return q.useCallback(eM(...e),e)}class iM extends q.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=i.offsetParent,a=ym(s)&&s.offsetWidth||0,u=ym(s)&&s.offsetHeight||0,d=this.props.sizeRef.current;d.height=i.offsetHeight||0,d.width=i.offsetWidth||0,d.top=i.offsetTop,d.left=i.offsetLeft,d.right=a-d.width-d.left,d.bottom=u-d.height-d.top}return null}componentDidUpdate(){}render(){return this.props.children}}function oM({children:e,isPresent:t,anchorX:i,anchorY:s,root:a,pop:u}){var b;const d=q.useId(),m=q.useRef(null),y=q.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=q.useContext(_p),x=((b=e.props)==null?void 0:b.ref)??(e==null?void 0:e.ref),w=nM(m,x);return q.useInsertionEffect(()=>{const{width:M,height:I,top:P,left:k,right:B,bottom:Y}=y.current;if(t||u===!1||!m.current||!M||!I)return;const z=i==="left"?`left: ${k}`:`right: ${B}`,$=s==="bottom"?`bottom: ${Y}`:`top: ${P}`;m.current.dataset.motionPopId=d;const Q=document.createElement("style");g&&(Q.nonce=g);const V=a??document.head;return V.appendChild(Q),Q.sheet&&Q.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${M}px !important;
            height: ${I}px !important;
            ${z}px !important;
            ${$}px !important;
          }
        `),()=>{V.contains(Q)&&V.removeChild(Q)}},[t]),E.jsx(iM,{isPresent:t,childRef:m,sizeRef:y,pop:u,children:u===!1?e:q.cloneElement(e,{ref:w})})}const sM=({children:e,initial:t,isPresent:i,onExitComplete:s,custom:a,presenceAffectsLayout:u,mode:d,anchorX:m,anchorY:y,root:g})=>{const x=Ym(rM),w=q.useId();let b=!0,M=q.useMemo(()=>(b=!1,{id:w,initial:t,isPresent:i,custom:a,onExitComplete:I=>{x.set(I,!0);for(const P of x.values())if(!P)return;s&&s()},register:I=>(x.set(I,!1),()=>x.delete(I))}),[i,x,s]);return u&&b&&(M={...M}),q.useMemo(()=>{x.forEach((I,P)=>x.set(P,!1))},[i]),q.useEffect(()=>{!i&&!x.size&&s&&s()},[i]),e=E.jsx(oM,{pop:d==="popLayout",isPresent:i,anchorX:m,anchorY:y,root:g,children:e}),E.jsx(uf.Provider,{value:M,children:e})};function rM(){return new Map}function TS(e=!0){const t=q.useContext(uf);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:s,register:a}=t,u=q.useId();q.useEffect(()=>{if(e)return a(u)},[e]);const d=q.useCallback(()=>e&&s&&s(u),[u,s,e]);return!i&&s?[!1,d]:[!0]}const Cc=e=>e.key||"";function Gv(e){const t=[];return q.Children.forEach(e,i=>{q.isValidElement(i)&&t.push(i)}),t}const Hl=({children:e,custom:t,initial:i=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:u="sync",propagate:d=!1,anchorX:m="left",anchorY:y="top",root:g})=>{const[x,w]=TS(d),b=q.useMemo(()=>Gv(e),[e]),M=d&&!x?[]:b.map(Cc),I=q.useRef(!0),P=q.useRef(b),k=Ym(()=>new Map),B=q.useRef(new Set),[Y,z]=q.useState(b),[$,Q]=q.useState(b);jx(()=>{I.current=!1,P.current=b;for(let rt=0;rt<$.length;rt++){const ct=Cc($[rt]);M.includes(ct)?(k.delete(ct),B.current.delete(ct)):k.get(ct)!==!0&&k.set(ct,!1)}},[$,M.length,M.join("-")]);const V=[];if(b!==Y){let rt=[...b];for(let ct=0;ct<$.length;ct++){const Tt=$[ct],dt=Cc(Tt);M.includes(dt)||(rt.splice(ct,0,Tt),V.push(Tt))}return u==="wait"&&V.length&&(rt=V),Q(Gv(rt)),z(b),null}const{forceRender:nt}=q.useContext(Zm);return E.jsx(E.Fragment,{children:$.map(rt=>{const ct=Cc(rt),Tt=d&&!x?!1:b===$||M.includes(ct),dt=()=>{if(B.current.has(ct))return;if(B.current.add(ct),k.has(ct))k.set(ct,!0);else return;let _t=!0;k.forEach(ht=>{ht||(_t=!1)}),_t&&(nt==null||nt(),Q(P.current),d&&(w==null||w()),s&&s())};return E.jsx(sM,{isPresent:Tt,initial:!I.current||i?void 0:!1,custom:t,presenceAffectsLayout:a,mode:u,root:g,onExitComplete:Tt?void 0:dt,anchorX:m,anchorY:y,children:rt},ct)})})},SS=q.createContext({strict:!1}),qv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Fv=!1;function aM(){if(Fv)return;const e={};for(const t in qv)e[t]={isEnabled:i=>qv[t].some(s=>!!i[s])};WT(e),Fv=!0}function ES(){return aM(),JA()}function lM(e){const t=ES();for(const i in e)t[i]={...t[i],...e[i]};WT(t)}const uM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Xc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uM.has(e)}let wS=e=>!Xc(e);function cM(e){typeof e=="function"&&(wS=t=>t.startsWith("on")?!Xc(t):e(t))}try{cM(require("@emotion/is-prop-valid").default)}catch{}function fM(e,t,i){const s={};for(const a in e)a==="values"&&typeof e.values=="object"||(wS(a)||i===!0&&Xc(a)||!t&&!Xc(a)||e.draggable&&a.startsWith("onDrag"))&&(s[a]=e[a]);return s}const df=q.createContext({});function dM(e,t){if(ff(e)){const{initial:i,animate:s}=e;return{initial:i===!1||Bl(i)?i:void 0,animate:Bl(s)?s:void 0}}return e.inherit!==!1?t:{}}function hM(e){const{initial:t,animate:i}=dM(e,q.useContext(df));return q.useMemo(()=>({initial:t,animate:i}),[Zv(t),Zv(i)])}function Zv(e){return Array.isArray(e)?e.join(" "):e}const xp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bS(e,t,i){for(const s in t)!$e(t[s])&&!oS(s,i)&&(e[s]=t[s])}function mM({transformTemplate:e},t){return q.useMemo(()=>{const i=xp();return yp(i,t,e),Object.assign({},i.vars,i.style)},[t])}function pM(e,t){const i=e.style||{},s={};return bS(s,i,e),Object.assign(s,mM(e,t)),s}function gM(e,t){const i={},s=pM(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=s,i}const CS=()=>({...xp(),attrs:{}});function yM(e,t,i,s){const a=q.useMemo(()=>{const u=CS();return sS(u,t,aS(s),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};bS(u,e.style,e),a.style={...u,...a.style}}return a}const vM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tp(e){return typeof e!="string"||e.includes("-")?!1:!!(vM.indexOf(e)>-1||/[A-Z]/u.test(e))}function _M(e,t,i,{latestValues:s},a,u=!1,d){const y=(d??Tp(e)?yM:gM)(t,s,a,e),g=fM(t,typeof e=="string",u),x=e!==q.Fragment?{...g,...y,ref:i}:{},{children:w}=t,b=q.useMemo(()=>$e(w)?w.get():w,[w]);return q.createElement(e,{...x,children:b})}function xM({scrapeMotionValuesFromProps:e,createRenderState:t},i,s,a){return{latestValues:TM(i,s,a,e),renderState:t()}}function TM(e,t,i,s){const a={},u=s(e,{});for(const b in u)a[b]=Vc(u[b]);let{initial:d,animate:m}=e;const y=ff(e),g=jT(e);t&&g&&!y&&e.inherit!==!1&&(d===void 0&&(d=t.initial),m===void 0&&(m=t.animate));let x=i?i.initial===!1:!1;x=x||d===!1;const w=x?m:d;if(w&&typeof w!="boolean"&&!cf(w)){const b=Array.isArray(w)?w:[w];for(let M=0;M<b.length;M++){const I=up(e,b[M]);if(I){const{transitionEnd:P,transition:k,...B}=I;for(const Y in B){let z=B[Y];if(Array.isArray(z)){const $=x?z.length-1:0;z=z[$]}z!==null&&(a[Y]=z)}for(const Y in P)a[Y]=P[Y]}}}return a}const AS=e=>(t,i)=>{const s=q.useContext(df),a=q.useContext(uf),u=()=>xM(e,t,s,a);return i?u():Ym(u)},SM=AS({scrapeMotionValuesFromProps:vp,createRenderState:xp}),EM=AS({scrapeMotionValuesFromProps:lS,createRenderState:CS}),wM=Symbol.for("motionComponentSymbol");function bM(e,t,i){const s=q.useRef(i);q.useInsertionEffect(()=>{s.current=i});const a=q.useRef(null);return q.useCallback(u=>{var m;u&&((m=e.onMount)==null||m.call(e,u)),t&&(u?t.mount(u):t.unmount());const d=s.current;if(typeof d=="function")if(u){const y=d(u);typeof y=="function"&&(a.current=y)}else a.current?(a.current(),a.current=null):d(u);else d&&(d.current=u)},[t])}const MS=q.createContext({});function Kr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function CM(e,t,i,s,a,u){var z,$;const{visualElement:d}=q.useContext(df),m=q.useContext(SS),y=q.useContext(uf),g=q.useContext(_p),x=g.reducedMotion,w=g.skipAnimations,b=q.useRef(null),M=q.useRef(!1);s=s||m.renderer,!b.current&&s&&(b.current=s(e,{visualState:t,parent:d,props:i,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:x,skipAnimations:w,isSVG:u}),M.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const I=b.current,P=q.useContext(MS);I&&!I.projection&&a&&(I.type==="html"||I.type==="svg")&&AM(b.current,i,a,P);const k=q.useRef(!1);q.useInsertionEffect(()=>{I&&k.current&&I.update(i,y)});const B=i[UT],Y=q.useRef(!!B&&!((z=window.MotionHandoffIsComplete)!=null&&z.call(window,B))&&(($=window.MotionHasOptimisedAnimation)==null?void 0:$.call(window,B)));return jx(()=>{M.current=!0,I&&(k.current=!0,window.MotionIsMounted=!0,I.updateFeatures(),I.scheduleRenderMicrotask(),Y.current&&I.animationState&&I.animationState.animateChanges())}),q.useEffect(()=>{I&&(!Y.current&&I.animationState&&I.animationState.animateChanges(),Y.current&&(queueMicrotask(()=>{var Q;(Q=window.MotionHandoffMarkAsComplete)==null||Q.call(window,B)}),Y.current=!1),I.enteringChildren=void 0)}),I}function AM(e,t,i,s){const{layoutId:a,layout:u,drag:d,dragConstraints:m,layoutScroll:y,layoutRoot:g,layoutCrossfade:x}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:NS(e.parent)),e.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!d||m&&Kr(m),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:x,layoutScroll:y,layoutRoot:g})}function NS(e){if(e)return e.options.allowProjection!==!1?e.projection:NS(e.parent)}function zh(e,{forwardMotionProps:t=!1,type:i}={},s,a){s&&lM(s);const u=i?i==="svg":Tp(e),d=u?EM:SM;function m(g,x){let w;const b={...q.useContext(_p),...g,layoutId:MM(g)},{isStatic:M}=b,I=hM(g),P=d(g,M);if(!M&&Kx){NM();const k=RM(b);w=k.MeasureLayout,I.visualElement=CM(e,P,b,a,k.ProjectionNode,u)}return E.jsxs(df.Provider,{value:I,children:[w&&I.visualElement?E.jsx(w,{visualElement:I.visualElement,...b}):null,_M(e,g,bM(P,I.visualElement,x),P,M,t,u)]})}m.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const y=q.forwardRef(m);return y[wM]=e,y}function MM({layoutId:e}){const t=q.useContext(Zm).id;return t&&e!==void 0?t+"-"+e:e}function NM(e,t){q.useContext(SS).strict}function RM(e){const t=ES(),{drag:i,layout:s}=t;if(!i&&!s)return{};const a={...i,...s};return{MeasureLayout:i!=null&&i.isEnabled(e)||s!=null&&s.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function IM(e,t){if(typeof Proxy>"u")return zh;const i=new Map,s=(u,d)=>zh(u,d,e,t),a=(u,d)=>s(u,d);return new Proxy(a,{get:(u,d)=>d==="create"?s:(i.has(d)||i.set(d,zh(d,void 0,e,t)),i.get(d))})}const PM=(e,t)=>t.isSVG??Tp(e)?new c1(t):new o1(t,{allowProjection:e!==q.Fragment});class kM extends ts{constructor(t){super(t),t.animationState||(t.animationState=p1(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();cf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let LM=0;class DM extends ts{constructor(){super(...arguments),this.id=LM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const a=this.node.animationState.setActive("exit",!t);i&&!t&&a.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const UM={animation:{Feature:kM},exit:{Feature:DM}};function Kl(e){return{point:{x:e.pageX,y:e.pageY}}}const OM=e=>t=>hp(t)&&e(t,Kl(t));function Dl(e,t,i,s){return zl(e,t,OM(i),s)}const RS=({current:e})=>e?e.ownerDocument.defaultView:null,Yv=(e,t)=>Math.abs(e-t);function VM(e,t){const i=Yv(e.x,t.x),s=Yv(e.y,t.y);return Math.sqrt(i**2+s**2)}const Jv=new Set(["auto","scroll"]);class IS{constructor(t,i,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:u=!1,distanceThreshold:d=3,element:m}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=M=>{this.handleScroll(M.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=Gh(this.lastMoveEventInfo,this.history),I=this.startEvent!==null,P=VM(M.offset,{x:0,y:0})>=this.distanceThreshold;if(!I&&!P)return;const{point:k}=M,{timestamp:B}=je;this.history.push({...k,timestamp:B});const{onStart:Y,onMove:z}=this.handlers;I||(Y&&Y(this.lastMoveEvent,M),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,M)},this.handlePointerMove=(M,I)=>{this.lastMoveEvent=M,this.lastMoveEventInfo=Hh(I,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(M,I)=>{this.end();const{onEnd:P,onSessionEnd:k,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Y=Gh(M.type==="pointercancel"?this.lastMoveEventInfo:Hh(I,this.transformPagePoint),this.history);this.startEvent&&P&&P(M,Y),k&&k(M,Y)},!hp(t))return;this.dragSnapToOrigin=u,this.handlers=i,this.transformPagePoint=s,this.distanceThreshold=d,this.contextWindow=a||window;const y=Kl(t),g=Hh(y,this.transformPagePoint),{point:x}=g,{timestamp:w}=je;this.history=[{...x,timestamp:w}];const{onSessionStart:b}=i;b&&b(t,Gh(g,this.history)),this.removeListeners=Zl(Dl(this.contextWindow,"pointermove",this.handlePointerMove),Dl(this.contextWindow,"pointerup",this.handlePointerUp),Dl(this.contextWindow,"pointercancel",this.handlePointerUp)),m&&this.startScrollTracking(m)}startScrollTracking(t){let i=t.parentElement;for(;i;){const s=getComputedStyle(i);(Jv.has(s.overflowX)||Jv.has(s.overflowY))&&this.scrollPositions.set(i,{x:i.scrollLeft,y:i.scrollTop}),i=i.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const i=this.scrollPositions.get(t);if(!i)return;const s=t===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},u={x:a.x-i.x,y:a.y-i.y};u.x===0&&u.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=u.x,this.lastMoveEventInfo.point.y+=u.y):this.history.length>0&&(this.history[0].x-=u.x,this.history[0].y-=u.y),this.scrollPositions.set(t,a),ue.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),$o(this.updatePoint)}}function Hh(e,t){return t?{point:t(e.point)}:e}function Kv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gh({point:e},t){return{point:e,delta:Kv(e,PS(t)),offset:Kv(e,BM(t)),velocity:zM(t,.1)}}function BM(e){return e[0]}function PS(e){return e[e.length-1]}function zM(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,s=null;const a=PS(e);for(;i>=0&&(s=e[i],!(a.timestamp-s.timestamp>li(t)));)i--;if(!s)return{x:0,y:0};s===e[0]&&e.length>2&&a.timestamp-s.timestamp>li(t)*2&&(s=e[1]);const u=Yn(a.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const d={x:(a.x-s.x)/u,y:(a.y-s.y)/u};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function HM(e,{min:t,max:i},s){return t!==void 0&&e<t?e=s?ye(t,e,s.min):Math.max(e,t):i!==void 0&&e>i&&(e=s?ye(i,e,s.max):Math.min(e,i)),e}function jv(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function GM(e,{top:t,left:i,bottom:s,right:a}){return{x:jv(e.x,i,a),y:jv(e.y,t,s)}}function Xv(e,t){let i=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,s]=[s,i]),{min:i,max:s}}function qM(e,t){return{x:Xv(e.x,t.x),y:Xv(e.y,t.y)}}function FM(e,t){let i=.5;const s=ln(e),a=ln(t);return a>s?i=Ul(t.min,t.max-s,e.min):s>a&&(i=Ul(e.min,e.max-a,t.min)),Ii(0,1,i)}function ZM(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const Sm=.35;function YM(e=Sm){return e===!1?e=0:e===!0&&(e=Sm),{x:Wv(e,"left","right"),y:Wv(e,"top","bottom")}}function Wv(e,t,i){return{min:Qv(e,t),max:Qv(e,i)}}function Qv(e,t){return typeof e=="number"?e:e[t]||0}const JM=new WeakMap;class KM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const u=w=>{i&&this.snapToCursor(Kl(w).point),this.stopAnimation()},d=(w,b)=>{const{drag:M,dragPropagation:I,onDragStart:P}=this.getProps();if(M&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EA(M),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ni(B=>{let Y=this.getAxisMotionValue(B).get()||0;if(Ri.test(Y)){const{projection:z}=this.visualElement;if(z&&z.layout){const $=z.layout.layoutBox[B];$&&(Y=ln($)*(parseFloat(Y)/100))}}this.originPoint[B]=Y}),P&&ue.update(()=>P(w,b),!1,!0),hm(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},m=(w,b)=>{this.latestPointerEvent=w,this.latestPanInfo=b;const{dragPropagation:M,dragDirectionLock:I,onDirectionLock:P,onDrag:k}=this.getProps();if(!M&&!this.openDragLock)return;const{offset:B}=b;if(I&&this.currentDirection===null){this.currentDirection=XM(B),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",b.point,B),this.updateAxis("y",b.point,B),this.visualElement.render(),k&&ue.update(()=>k(w,b),!1,!0)},y=(w,b)=>{this.latestPointerEvent=w,this.latestPanInfo=b,this.stop(w,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:w}=this.getProps();(w||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:x}=this.getProps();this.panSession=new IS(t,{onSessionStart:u,onStart:d,onMove:m,onSessionEnd:y,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:s,contextWindow:RS(this.visualElement),element:this.visualElement.current})}stop(t,i){const s=t||this.latestPointerEvent,a=i||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!a||!s)return;const{velocity:d}=a;this.startAnimation(d);const{onDragEnd:m}=this.getProps();m&&ue.postRender(()=>m(s,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,i,s){const{drag:a}=this.getProps();if(!s||!Ac(t,a,this.currentDirection))return;const u=this.getAxisMotionValue(t);let d=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(d=HM(d,this.constraints[t],this.elastic[t])),u.set(d)}resolveConstraints(){var u;const{dragConstraints:t,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(u=this.visualElement.projection)==null?void 0:u.layout,a=this.constraints;t&&Kr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=GM(s.layoutBox,t):this.constraints=!1,this.elastic=YM(i),a!==this.constraints&&!Kr(t)&&s&&this.constraints&&!this.hasMutatedConstraints&&Ni(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=ZM(s.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Kr(t))return!1;const s=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=QA(s,a.root,this.visualElement.getTransformPagePoint());let d=qM(a.layout.layoutBox,u);if(i){const m=i(jA(d));this.hasMutatedConstraints=!!m,m&&(d=$T(m))}return d}startAnimation(t){const{drag:i,dragMomentum:s,dragElastic:a,dragTransition:u,dragSnapToOrigin:d,onDragTransitionEnd:m}=this.getProps(),y=this.constraints||{},g=Ni(x=>{if(!Ac(x,i,this.currentDirection))return;let w=y&&y[x]||{};d&&(w={min:0,max:0});const b=a?200:1e6,M=a?40:1e7,I={type:"inertia",velocity:s?t[x]:0,bounceStiffness:b,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...u,...w};return this.startAxisValueAnimation(x,I)});return Promise.all(g).then(m)}startAxisValueAnimation(t,i){const s=this.getAxisMotionValue(t);return hm(this.visualElement,t),s.start(lp(t,s,0,i,this.visualElement,!1))}stopAnimation(){Ni(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),a=s[i];return a||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Ni(i=>{const{drag:s}=this.getProps();if(!Ac(i,s,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(i);if(a&&a.layout){const{min:d,max:m}=a.layout.layoutBox[i],y=u.get()||0;u.set(t[i]-ye(d,m,.5)+y)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:s}=this.visualElement;if(!Kr(i)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ni(d=>{const m=this.getAxisMotionValue(d);if(m&&this.constraints!==!1){const y=m.get();a[d]=FM({min:y,max:y},this.constraints[d])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ni(d=>{if(!Ac(d,t,null))return;const m=this.getAxisMotionValue(d),{min:y,max:g}=this.constraints[d];m.set(ye(y,g,a[d]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;JM.set(this.visualElement,this);const t=this.visualElement.current,i=Dl(t,"pointerdown",g=>{const{drag:x,dragListener:w=!0}=this.getProps(),b=g.target,M=b!==t&&NA(b);x&&w&&!M&&this.start(g)});let s;const a=()=>{const{dragConstraints:g}=this.getProps();Kr(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),s||(s=jM(t,g.current,()=>this.scalePositionWithinConstraints())))},{projection:u}=this.visualElement,d=u.addEventListener("measure",a);u&&!u.layout&&(u.root&&u.root.updateScroll(),u.updateLayout()),ue.read(a);const m=zl(window,"resize",()=>this.scalePositionWithinConstraints()),y=u.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:x})=>{this.isDragging&&x&&(Ni(w=>{const b=this.getAxisMotionValue(w);b&&(this.originPoint[w]+=g[w].translate,b.set(b.get()+g[w].translate))}),this.visualElement.render())}));return()=>{m(),i(),d(),y&&y(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:d=Sm,dragMomentum:m=!0}=t;return{...t,drag:i,dragDirectionLock:s,dragPropagation:a,dragConstraints:u,dragElastic:d,dragMomentum:m}}}function $v(e){let t=!0;return()=>{if(t){t=!1;return}e()}}function jM(e,t,i){const s=rv(e,$v(i)),a=rv(t,$v(i));return()=>{s(),a()}}function Ac(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function XM(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class WM extends ts{constructor(t){super(t),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new KM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:i}=this.node.prevProps||{};t!==i&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const qh=e=>(t,i)=>{e&&ue.update(()=>e(t,i),!1,!0)};class QM extends ts{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(t){this.session=new IS(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:qh(t),onStart:qh(i),onMove:qh(s),onEnd:(u,d)=>{delete this.session,a&&ue.postRender(()=>a(u,d))}}}mount(){this.removePointerDownListener=Dl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Fh=!1;class $M extends q.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:s,layoutId:a}=this.props,{projection:u}=t;u&&(i.group&&i.group.add(u),s&&s.register&&a&&s.register(u),Fh&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Bc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:s,drag:a,isPresent:u}=this.props,{projection:d}=s;return d&&(d.isPresent=u,t.layoutDependency!==i&&d.setOptions({...d.options,layoutDependency:i}),Fh=!0,a||t.layoutDependency!==i||i===void 0||t.isPresent!==u?d.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?d.promote():d.relegate()||ue.postRender(()=>{const m=d.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),dp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:s}=this.props,{projection:a}=t;Fh=!0,a&&(a.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function kS(e){const[t,i]=TS(),s=q.useContext(Zm);return E.jsx($M,{...e,layoutGroup:s,switchLayoutGroup:q.useContext(MS),isPresent:t,safeToRemove:i})}const tN={pan:{Feature:QM},drag:{Feature:WM,ProjectionNode:xS,MeasureLayout:kS}};function t_(e,t,i){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",i==="Start");const a="onHover"+i,u=s[a];u&&ue.postRender(()=>u(t,Kl(t)))}class eN extends ts{mount(){const{current:t}=this.node;t&&(this.unmount=bA(t,(i,s)=>(t_(this.node,s,"Start"),a=>t_(this.node,a,"End"))))}unmount(){}}class nN extends ts{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zl(zl(this.node.current,"focus",()=>this.onFocus()),zl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function e_(e,t,i){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",i==="Start");const a="onTap"+(i==="End"?"":i),u=s[a];u&&ue.postRender(()=>u(t,Kl(t)))}class iN extends ts{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:i,propagate:s}=this.node.props;this.unmount=IA(t,(a,u)=>(e_(this.node,u,"Start"),(d,{success:m})=>e_(this.node,d,m?"End":"Cancel")),{useGlobalTarget:i,stopPropagation:(s==null?void 0:s.tap)===!1})}unmount(){}}const Em=new WeakMap,Zh=new WeakMap,oN=e=>{const t=Em.get(e.target);t&&t(e)},sN=e=>{e.forEach(oN)};function rN({root:e,...t}){const i=e||document;Zh.has(i)||Zh.set(i,{});const s=Zh.get(i),a=JSON.stringify(t);return s[a]||(s[a]=new IntersectionObserver(sN,{root:e,...t})),s[a]}function aN(e,t,i){const s=rN(t);return Em.set(e,i),s.observe(e),()=>{Em.delete(e),s.unobserve(e)}}const lN={some:0,all:1};class uN extends ts{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:s,amount:a="some",once:u}=t,d={root:i?i.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:lN[a]},m=y=>{const{isIntersecting:g}=y;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:x,onViewportLeave:w}=this.node.getProps(),b=g?x:w;b&&b(y)};return aN(this.node.current,d,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(cN(t,i))&&this.startObserver()}unmount(){}}function cN({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const fN={inView:{Feature:uN},tap:{Feature:iN},focus:{Feature:nN},hover:{Feature:eN}},dN={layout:{ProjectionNode:xS,MeasureLayout:kS}},hN={...UM,...fN,...tN,...dN},gt=IM(hN,PM),LS="http://localhost:4000/api";async function De(e,t={}){const i=`${LS}${e}`,s={"Content-Type":"application/json"};try{const a=await fetch(i,{...t,headers:{...s,...t.headers}}),u=await a.json();if(!a.ok)throw new Error(u.message||`Request failed with status ${a.status}`);return u}catch(a){throw a instanceof TypeError&&a.message.includes("fetch")?new Error("Cannot connect to JAAGRUK server. Please ensure the backend is running."):a}}const oa={async submitReport(e){return De("/reports",{method:"POST",body:JSON.stringify(e)})},async getReports(e){const t=new URLSearchParams;return e!=null&&e.status&&t.append("status",e.status),e!=null&&e.urgency&&t.append("urgency",e.urgency),e!=null&&e.limit&&t.append("limit",String(e.limit)),e!=null&&e.offset&&t.append("offset",String(e.offset)),De(`/reports?${t.toString()}`)},async getReport(e){return De(`/reports/${e}`)},async verifyReport(e){return De(`/reports/${e}/verify`)},async updateReportStatus(e,t){return De(`/reports/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})})},async getBlockchainHealth(){return De("/reports/blockchain/health")},async healthCheck(){return De("/health")},async login(e,t){return De("/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})})},async signup(e){return De("/auth/signup",{method:"POST",body:JSON.stringify(e)})},async getProfile(e){return De("/auth/profile",{headers:{Authorization:`Bearer ${e}`}})},async updateProfile(e,t){return De("/auth/profile",{method:"PATCH",headers:{Authorization:`Bearer ${e}`},body:JSON.stringify(t)})},async uploadFile(e,t){const i=new FormData;i.append("file",e);const s={};t&&(s.Authorization=`Bearer ${t}`);const a=await fetch(`${LS}/files/upload`,{method:"POST",headers:s,body:i}),u=await a.json();if(!a.ok)throw new Error(u.message||"File upload failed");return u},async uploadFiles(e,t){const i=e.map(s=>this.uploadFile(s,t));return Promise.all(i)},async getNearbyStations(e,t,i){const s=new URLSearchParams({lat:e.toString(),lng:t.toString()});return i!=null&&i.limit&&s.append("limit",i.limit.toString()),i!=null&&i.radius&&s.append("radius",i.radius.toString()),De(`/location/stations?${s}`)},async getNearbyHospitals(e,t,i){const s=new URLSearchParams({lat:e.toString(),lng:t.toString()});return i!=null&&i.limit&&s.append("limit",i.limit.toString()),i!=null&&i.radius&&s.append("radius",i.radius.toString()),De(`/location/hospitals?${s}`)},async getNearbyFireStations(e,t,i){const s=new URLSearchParams({lat:e.toString(),lng:t.toString()});return i!=null&&i.limit&&s.append("limit",i.limit.toString()),i!=null&&i.radius&&s.append("radius",i.radius.toString()),De(`/location/fire-stations?${s}`)},async getNearbyCivicOffices(e,t,i){const s=new URLSearchParams({lat:e.toString(),lng:t.toString()});return i!=null&&i.limit&&s.append("limit",i.limit.toString()),i!=null&&i.radius&&s.append("radius",i.radius.toString()),De(`/location/civic-offices?${s}`)},async getNearbyAll(e,t,i){const s=new URLSearchParams({lat:e.toString(),lng:t.toString()});return i&&s.append("radius",i.toString()),De(`/location/nearby?${s}`)},async geocodeAddress(e,t){const i=new URLSearchParams({address:e});return t&&i.append("country",t),De(`/location/geocode?${i}`)},async reverseGeocode(e,t,i){const s=new URLSearchParams({lat:e.toString(),lng:t.toString()});return i&&s.append("zoom",i.toString()),De(`/location/reverse?${s}`)},async searchPlaces(e,t){const i=new URLSearchParams({q:e});return t!=null&&t.limit&&i.append("limit",t.limit.toString()),t!=null&&t.viewbox&&i.append("viewbox",t.viewbox),De(`/location/search?${i}`)}},n_={en:{"nav.home":"Home","nav.reports":"Reports","nav.nearby":"Nearby","nav.profile":"Profile","home.tagline":"Secure. Trusted. Anonymous.","home.description":"Your report is securely saved and forwarded to authorities.","home.reportIssue":"Report an Issue","home.emergencySOS":"Emergency SOS","home.officialPlatform":"Official Platform","home.officialDesc":"End-to-end encrypted reporting system directly linked with local law enforcement and civic bodies.","home.yourReports":"Your Reports","home.resolved":"Resolved","auth.login":"Login","auth.signup":"Sign Up","auth.email":"Email Address","auth.password":"Password","auth.confirmPassword":"Confirm Password","auth.name":"Full Name","auth.phone":"Phone Number","auth.forgotPassword":"Forgot Password?","auth.noAccount":"Don't have an account?","auth.hasAccount":"Already have an account?","auth.loginSuccess":"Logged in successfully!","auth.signupSuccess":"Account created successfully!","auth.logout":"Logout","auth.or":"or","auth.continueAsGuest":"Continue as Guest","identity.title":"How would you like to report?","identity.subtitle":"Choose how you want to be identified in the JAAGRUK - Your Voice system.","identity.withName":"Report with Name","identity.withNameBadge":"Recommended for official action","identity.withNameDesc":"Providing your identity helps authorities validate and process your report faster. Your data is encrypted and legally protected.","identity.anonymous":"Report Anonymously","identity.anonymousBadge":"Complete Privacy","identity.anonymousDesc":"Your personal details will not be stored or visible to anyone. Perfect for sensitive civic issues where you wish to remain unknown.","chat.greeting":"Namaste. Welcome to JAAGRUK - Your Voice. I am here to listen and guide you through this process with care. Your safety and privacy are our top priorities.","chat.prompt":"Please describe what happened in your own words. I'm here for as long as you need.","chat.placeholder":"Tell us more details...","chat.analyzing":"Analyzing incident...","chat.secure":"Secure & Confidential  JAAGRUK Trust","chat.attachFile":"Attach file","location.search":"Search area...","location.confirm":"Confirm Location","location.nearestHub":"Nearest Reporting Hub","location.selectPoliceStation":"Select Police Station","location.confirmStation":"Confirm this police station?","evidence.title":"Add Evidence","evidence.subtitle":"Adding visuals helps authorities understand the situation faster.","evidence.takePhoto":"Take Photo or Video","evidence.takePhotoDesc":"Use your camera directly","evidence.uploadGallery":"Upload from Gallery","evidence.uploadGalleryDesc":"Select from your phone","evidence.continue":"Continue to Details","evidence.skip":"Skip for now","evidence.uploading":"Uploading...","analysis.title":"Issue Analyzed","analysis.subtitle":"JAAGRUK Smart Classification","analysis.category":"Detected Category","analysis.urgency":"Urgency Level","analysis.routing":"Your report is being routed to the Priority Emergency Desk.","analysis.confirm":"Confirm & Alert Authorities","review.title":"Check details","review.subtitle":"Review your report before final submission to the JAAGRUK blockchain.","review.issueType":"Issue Type","review.description":"Description","review.commitment":"JAAGRUK Commitment","review.commitmentDesc":"By submitting, you acknowledge this report will be officially recorded on the blockchain. False reporting is a punishable offense.","review.submit":"Submit to JAAGRUK","review.submitting":"Recording on Blockchain...","confirmation.title":"Report Confirmed","confirmation.subtitle":"Your report has been permanently recorded on the blockchain  it cannot be deleted or altered.","confirmation.referenceId":"Reference ID","confirmation.verify":"Verify on Blockchain","confirmation.timeline":"Status Timeline","confirmation.submitted":"Report Submitted","confirmation.submittedDesc":"Blockchain recorded  Tamper-proof","confirmation.underReview":"Under Review","confirmation.underReviewDesc":"Officers verifying details.","confirmation.returnHome":"Return to Home","emergency.title":"Emergency SOS","emergency.subtitle":"Help is on the way.","emergency.distance":"Distance","emergency.eta":"ETA","emergency.callPolice":"CALL POLICE (100)","emergency.directions":"GET DIRECTIONS","emergency.dispatching":"Dispatching your current coordinates to the station. Please stay in a safe location until help arrives.","profile.title":"My Profile","profile.editProfile":"Edit Profile","profile.settings":"Settings","profile.myReports":"My Reports","profile.pending":"Pending","profile.inProgress":"In Progress","profile.resolved":"Resolved","profile.helpSupport":"Help & Support","profile.privacyPolicy":"Privacy Policy","profile.termsOfService":"Terms of Service","profile.logout":"Logout","reports.title":"My Reports","reports.empty":"No reports yet","reports.emptyDesc":"Your submitted reports will appear here.","reports.viewDetails":"View Details","reports.status":"Status","nearby.title":"Nearby Stations","nearby.searchArea":"Search area...","nearby.policeStations":"Police Stations","nearby.civicOffices":"Civic Offices","nearby.hospitals":"Hospitals","common.loading":"Loading...","common.error":"Something went wrong","common.retry":"Retry","common.cancel":"Cancel","common.save":"Save","common.delete":"Delete","common.edit":"Edit","common.back":"Back","common.next":"Next","common.done":"Done","common.close":"Close","common.copy":"Copy","common.copied":"Copied!"},hi:{"nav.home":"","nav.reports":"","nav.nearby":" ","nav.profile":"","home.tagline":"  ","home.description":"           ","home.reportIssue":"  ","home.emergencySOS":" SOS","home.officialPlatform":" ","home.officialDesc":"         --   ","home.yourReports":" ","home.resolved":"  ","auth.login":" ","auth.signup":" ","auth.email":" ","auth.password":"","auth.confirmPassword":"   ","auth.name":" ","auth.phone":" ","auth.forgotPassword":"  ?","auth.noAccount":"  ?","auth.hasAccount":"   ?","auth.loginSuccess":"   !","auth.signupSuccess":"   !","auth.logout":" ","auth.or":"","auth.continueAsGuest":"     ","identity.title":"    ?","identity.subtitle":"JAAGRUK - Your Voice        ","identity.withName":"    ","identity.withNameBadge":"    ","identity.withNameDesc":"                  ","identity.anonymous":"    ","identity.anonymousBadge":" ","identity.anonymousDesc":"          ","chat.greeting":" JAAGRUK                  ","chat.prompt":"          ","chat.placeholder":"  ...","chat.analyzing":"  ...","chat.secure":"    JAAGRUK ","chat.attachFile":" ","location.search":" ...","location.confirm":"   ","location.nearestHub":"  ","location.selectPoliceStation":"  ","location.confirmStation":"     ?","evidence.title":" ","evidence.subtitle":"             ","evidence.takePhoto":"   ","evidence.takePhotoDesc":"     ","evidence.uploadGallery":"   ","evidence.uploadGalleryDesc":"   ","evidence.continue":"   ","evidence.skip":"   ","evidence.uploading":"   ...","analysis.title":"  ","analysis.subtitle":"JAAGRUK  ","analysis.category":"   ","analysis.urgency":" ","analysis.routing":"         ","analysis.confirm":"      ","review.title":" ","review.subtitle":"JAAGRUK           ","review.issueType":"  ","review.description":"","review.commitment":"JAAGRUK ","review.commitmentDesc":" ,               ","review.submit":"JAAGRUK   ","review.submitting":"     ...","confirmation.title":" ","confirmation.subtitle":"                  ","confirmation.referenceId":" ","confirmation.verify":"   ","confirmation.timeline":" ","confirmation.submitted":" ","confirmation.submittedDesc":"    -","confirmation.underReview":"","confirmation.underReviewDesc":"     ","confirmation.returnHome":"  ","emergency.title":" SOS","emergency.subtitle":"   ","emergency.distance":"","emergency.eta":" ","emergency.callPolice":"    (100)","emergency.directions":"  ","emergency.dispatching":"        ","profile.title":" ","profile.editProfile":"  ","profile.settings":"","profile.myReports":" ","profile.pending":"","profile.inProgress":" ","profile.resolved":"  ","profile.helpSupport":"  ","profile.privacyPolicy":" ","profile.termsOfService":"  ","profile.logout":" ","reports.title":" ","reports.empty":"    ","reports.emptyDesc":"       ","reports.viewDetails":" ","reports.status":"","nearby.title":"  ","nearby.searchArea":" ...","nearby.policeStations":" ","nearby.civicOffices":" ","nearby.hospitals":"","common.loading":"   ...","common.error":"   ","common.retry":" ","common.cancel":" ","common.save":" ","common.delete":"","common.edit":" ","common.back":"","common.next":"","common.done":" ","common.close":" ","common.copy":"","common.copied":"  !"},bn:{"nav.home":"","nav.reports":"","nav.nearby":"","nav.profile":"","home.tagline":"  ","home.description":"        ","home.reportIssue":"  ","home.emergencySOS":" SOS","home.officialPlatform":" ","home.officialDesc":"         --   ","home.yourReports":" ","home.resolved":" ","auth.login":"","auth.signup":" ","auth.email":" ","auth.password":"","auth.confirmPassword":"  ","auth.name":" ","auth.phone":" ","auth.forgotPassword":"  ?","auth.noAccount":" ?","auth.hasAccount":"  ?","auth.loginSuccess":"  !","auth.signupSuccess":"   !","auth.logout":"","auth.or":"","auth.continueAsGuest":"   ","identity.title":"    ?","identity.subtitle":"JAAGRUK - Your Voice         ","identity.withName":"   ","identity.withNameBadge":"   ","identity.withNameDesc":"           ","identity.anonymous":"  ","identity.anonymousBadge":" ","identity.anonymousDesc":"        ","chat.greeting":" JAAGRUK             ","chat.prompt":"          ","chat.placeholder":"  ...","chat.analyzing":"   ...","chat.secure":"    JAAGRUK ","chat.attachFile":"  ","location.search":" ...","location.confirm":"  ","location.nearestHub":"  ","location.selectPoliceStation":"  ","location.confirmStation":"   ?","evidence.title":"  ","evidence.subtitle":"       ","evidence.takePhoto":"   ","evidence.takePhotoDesc":"    ","evidence.uploadGallery":"   ","evidence.uploadGalleryDesc":"    ","evidence.continue":" ","evidence.skip":"  ","evidence.uploading":" ...","analysis.title":" ","analysis.subtitle":"JAAGRUK  ","analysis.category":" ","analysis.urgency":" ","analysis.routing":"      ","analysis.confirm":"     ","common.loading":" ...","common.error":"  ","common.retry":"  ","common.cancel":"","common.save":"","common.delete":"","common.edit":"","common.back":" ","common.next":"","common.done":"","common.close":" ","common.copy":"","common.copied":" !","review.title":"  ","review.subtitle":"JAAGRUK         ","review.issueType":" ","review.description":"","review.commitment":"JAAGRUK ","review.commitmentDesc":" ,          ","review.submit":"JAAGRUK   ","review.submitting":"  ...","confirmation.title":" ","confirmation.subtitle":"              ","confirmation.referenceId":" ","confirmation.verify":"  ","confirmation.timeline":" ","confirmation.submitted":"  ","confirmation.submittedDesc":"   -","confirmation.underReview":"","confirmation.underReviewDesc":"   ","confirmation.returnHome":"  ","emergency.title":" SOS","emergency.subtitle":" ","emergency.distance":"","emergency.eta":" ","emergency.callPolice":"   (100)","emergency.directions":" ","emergency.dispatching":"     ","profile.title":" ","profile.editProfile":" ","profile.settings":"","profile.myReports":" ","profile.pending":"","profile.inProgress":"","profile.resolved":" ","profile.helpSupport":"  ","profile.privacyPolicy":" ","profile.termsOfService":" ","profile.logout":"","reports.title":" ","reports.empty":"   ","reports.emptyDesc":"      ","reports.viewDetails":" ","reports.status":"","nearby.title":" ","nearby.searchArea":" ...","nearby.policeStations":"","nearby.civicOffices":" ","nearby.hospitals":""},ta:{"nav.home":"","nav.reports":"","nav.nearby":"","nav.profile":"","home.tagline":". . .","home.description":"     .","home.reportIssue":" ","home.emergencySOS":" SOS","auth.login":"","auth.signup":" ","common.loading":"..."},te:{"nav.home":"","nav.reports":"","nav.nearby":"","nav.profile":"","home.tagline":". . .","home.description":"      .","home.reportIssue":" ","home.emergencySOS":" SOS","auth.login":"","auth.signup":" ","common.loading":" ..."},mr:{"nav.home":"","nav.reports":"","nav.nearby":"","nav.profile":"","home.tagline":". . .","home.description":"         .","home.reportIssue":" ","home.emergencySOS":" SOS","auth.login":"","auth.signup":" ","common.loading":"  ..."}},Yh={en:"English",hi:"",bn:"",ta:"",te:"",mr:""},DS=q.createContext(void 0);function mN({children:e}){const[t,i]=q.useState(()=>localStorage.getItem("jaagruk-theme")||"dark"),[s,a]=q.useState(()=>localStorage.getItem("jaagruk-language")||"en"),[u,d]=q.useState("home"),[m,y]=q.useState(()=>{const V=localStorage.getItem("jaagruk-auth");if(V)try{return JSON.parse(V)}catch{return{isAuthenticated:!1,user:null,token:null}}return{isAuthenticated:!1,user:null,token:null}}),[g,x]=q.useState(!1),[w,b]=q.useState([]);q.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark"),localStorage.setItem("jaagruk-theme",t)},[t]),q.useEffect(()=>{localStorage.setItem("jaagruk-language",s),document.documentElement.lang=s},[s]),q.useEffect(()=>{localStorage.setItem("jaagruk-auth",JSON.stringify(m))},[m]);const M=V=>{var nt;return((nt=n_[s])==null?void 0:nt[V])||n_.en[V]||V},I=()=>{i(V=>V==="light"?"dark":"light")},P=V=>{i(V)},k=V=>{a(V)},B=async(V,nt)=>{x(!0);try{const rt=await oa.login(V,nt);return rt.success?(y({isAuthenticated:!0,user:rt.data.user,token:rt.data.token}),{success:!0,message:M("auth.loginSuccess")}):{success:!1,message:rt.message}}catch(rt){return{success:!1,message:rt.message||"Login failed"}}finally{x(!1)}},Y=async V=>{x(!0);try{const nt=await oa.signup(V);return nt.success?(y({isAuthenticated:!0,user:nt.data.user,token:nt.data.token}),{success:!0,message:M("auth.signupSuccess")}):{success:!1,message:nt.message}}catch(nt){return{success:!1,message:nt.message||"Signup failed"}}finally{x(!1)}},z=async(V,nt,rt)=>{x(!0);try{if(!(nt.length===6&&/^\d{6}$/.test(nt)))return{success:!1,message:"Invalid OTP format"};const Tt=`user_${V}_${Date.now()}`,dt={id:Tt,name:rt||`User ${V.slice(-4)}`,email:`${V}@jaagruk.app`,phone:V,verified:!0,createdAt:new Date().toISOString()};return y({isAuthenticated:!0,user:dt,token:`demo_token_${Tt}`}),{success:!0,message:M("auth.loginSuccess")}}catch(ct){return{success:!1,message:ct.message||"OTP verification failed"}}finally{x(!1)}},$=()=>{y({isAuthenticated:!1,user:null,token:null}),b([]),localStorage.removeItem("jaagruk-auth")},Q=async()=>{if(m.isAuthenticated)try{const V=await oa.getReports();V.success&&b(V.data)}catch(V){console.error("Failed to fetch reports:",V)}};return E.jsx(DS.Provider,{value:{theme:t,toggleTheme:I,setTheme:P,language:s,setLanguage:k,t:M,activeTab:u,setActiveTab:d,auth:m,login:B,signup:Y,loginWithOtp:z,logout:$,isLoading:g,userReports:w,fetchUserReports:Q},children:e})}function Ge(){const e=q.useContext(DS);if(e===void 0)throw new Error("useApp must be used within an AppProvider");return e}var Cl={exports:{}},Jh={},Kh,i_;function pN(){if(i_)return Kh;i_=1;function e(t,i){typeof i=="boolean"&&(i={forever:i}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=i||{},this._maxRetryTime=i&&i.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return Kh=e,e.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},e.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},e.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var i=new Date().getTime();if(t&&i-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var s=this._timeouts.shift();if(s===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1);else return!1;var a=this;return this._timer=setTimeout(function(){a._attempts++,a._operationTimeoutCb&&(a._timeout=setTimeout(function(){a._operationTimeoutCb(a._attempts)},a._operationTimeout),a._options.unref&&a._timeout.unref()),a._fn(a._attempts)},s),this._options.unref&&this._timer.unref(),!0},e.prototype.attempt=function(t,i){this._fn=t,i&&(i.timeout&&(this._operationTimeout=i.timeout),i.cb&&(this._operationTimeoutCb=i.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},e.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},e.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},e.prototype.start=e.prototype.try,e.prototype.errors=function(){return this._errors},e.prototype.attempts=function(){return this._attempts},e.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},i=null,s=0,a=0;a<this._errors.length;a++){var u=this._errors[a],d=u.message,m=(t[d]||0)+1;t[d]=m,m>=s&&(i=u,s=m)}return i},Kh}var o_;function gN(){return o_||(o_=1,(function(e){var t=pN();e.operation=function(i){var s=e.timeouts(i);return new t(s,{forever:i&&(i.forever||i.retries===1/0),unref:i&&i.unref,maxRetryTime:i&&i.maxRetryTime})},e.timeouts=function(i){if(i instanceof Array)return[].concat(i);var s={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var a in i)s[a]=i[a];if(s.minTimeout>s.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var u=[],d=0;d<s.retries;d++)u.push(this.createTimeout(d,s));return i&&i.forever&&!u.length&&u.push(this.createTimeout(d,s)),u.sort(function(m,y){return m-y}),u},e.createTimeout=function(i,s){var a=s.randomize?Math.random()+1:1,u=Math.round(a*Math.max(s.minTimeout,1)*Math.pow(s.factor,i));return u=Math.min(u,s.maxTimeout),u},e.wrap=function(i,s,a){if(s instanceof Array&&(a=s,s=null),!a){a=[];for(var u in i)typeof i[u]=="function"&&a.push(u)}for(var d=0;d<a.length;d++){var m=a[d],y=i[m];i[m]=(function(x){var w=e.operation(s),b=Array.prototype.slice.call(arguments,1),M=b.pop();b.push(function(I){w.retry(I)||(I&&(arguments[0]=w.mainError()),M.apply(this,arguments))}),w.attempt(function(){x.apply(i,b)})}).bind(i,y),i[m].options=s}}})(Jh)),Jh}var jh,s_;function yN(){return s_||(s_=1,jh=gN()),jh}var r_;function vN(){if(r_)return Cl.exports;r_=1;const e=yN(),t=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class i extends Error{constructor(m){super(),m instanceof Error?(this.originalError=m,{message:m}=m):(this.originalError=new Error(m),this.originalError.stack=this.stack),this.name="AbortError",this.message=m}}const s=(d,m,y)=>{const g=y.retries-(m-1);return d.attemptNumber=m,d.retriesLeft=g,d},a=d=>t.includes(d),u=(d,m)=>new Promise((y,g)=>{m={onFailedAttempt:()=>{},retries:10,...m};const x=e.operation(m);x.attempt(async w=>{try{y(await d(w))}catch(b){if(!(b instanceof Error)){g(new TypeError(`Non-error was thrown: "${b}". You should only throw errors.`));return}if(b instanceof i)x.stop(),g(b.originalError);else if(b instanceof TypeError&&!a(b.message))x.stop(),g(b);else{s(b,w,m);try{await m.onFailedAttempt(b)}catch(M){g(M);return}x.retry(b)||g(x.mainError())}}})});return Cl.exports=u,Cl.exports.default=u,Cl.exports.AbortError=i,Cl.exports}var US=vN();const _N=lf(US);var xN={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let TN,SN;function EN(){return{geminiUrl:TN,vertexUrl:SN}}function wN(e,t,i,s){var a,u;if(!(e!=null&&e.baseUrl)){const d=EN();return t?(a=d.vertexUrl)!==null&&a!==void 0?a:i:(u=d.geminiUrl)!==null&&u!==void 0?u:s}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ao{}function St(e,t){const i=/\{([^}]+)\}/g;return e.replace(i,(s,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const u=t[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function p(e,t,i){for(let u=0;u<t.length-1;u++){const d=t[u];if(d.endsWith("[]")){const m=d.slice(0,-2);if(!(m in e))if(Array.isArray(i))e[m]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(e[m])){const y=e[m];if(Array.isArray(i))for(let g=0;g<y.length;g++){const x=y[g];p(x,t.slice(u+1),i[g])}else for(const g of y)p(g,t.slice(u+1),i)}return}else if(d.endsWith("[0]")){const m=d.slice(0,-3);m in e||(e[m]=[{}]);const y=e[m];p(y[0],t.slice(u+1),i);return}(!e[d]||typeof e[d]!="object")&&(e[d]={}),e=e[d]}const s=t[t.length-1],a=e[s];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(e,i):e[s]=i}function h(e,t,i=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let s=0;s<t.length;s++){if(typeof e!="object"||e===null)return i;const a=t[s];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in e){const d=e[u];return Array.isArray(d)?d.map(m=>h(m,t.slice(s+1),i)):i}else return i}else e=e[a]}return e}catch(s){if(s instanceof TypeError)return i;throw s}}function bN(e,t){for(const[i,s]of Object.entries(t)){const a=i.split("."),u=s.split("."),d=new Set;let m=-1;for(let y=0;y<a.length;y++)if(a[y]==="*"){m=y;break}if(m!==-1&&u.length>m)for(let y=m;y<u.length;y++){const g=u[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&d.add(g)}wm(e,a,u,0,d)}}function wm(e,t,i,s,a){if(s>=t.length||typeof e!="object"||e===null)return;const u=t[s];if(u.endsWith("[]")){const d=u.slice(0,-2),m=e;if(d in m&&Array.isArray(m[d]))for(const y of m[d])wm(y,t,i,s+1,a)}else if(u==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const d=e,m=Object.keys(d).filter(g=>!g.startsWith("_")&&!a.has(g)),y={};for(const g of m)y[g]=d[g];for(const[g,x]of Object.entries(y)){const w=[];for(const b of i.slice(s))b==="*"?w.push(g):w.push(b);p(d,w,x)}for(const g of m)delete d[g]}}else{const d=e;u in d&&wm(d[u],t,i,s+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sp(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CN(e){const t={},i=h(e,["operationName"]);i!=null&&p(t,["operationName"],i);const s=h(e,["resourceName"]);return s!=null&&p(t,["_url","resourceName"],s),t}function AN(e){const t={},i=h(e,["name"]);i!=null&&p(t,["name"],i);const s=h(e,["metadata"]);s!=null&&p(t,["metadata"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const u=h(e,["error"]);u!=null&&p(t,["error"],u);const d=h(e,["response","generateVideoResponse"]);return d!=null&&p(t,["response"],NN(d)),t}function MN(e){const t={},i=h(e,["name"]);i!=null&&p(t,["name"],i);const s=h(e,["metadata"]);s!=null&&p(t,["metadata"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const u=h(e,["error"]);u!=null&&p(t,["error"],u);const d=h(e,["response"]);return d!=null&&p(t,["response"],RN(d)),t}function NN(e){const t={},i=h(e,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>IN(d))),p(t,["generatedVideos"],u)}const s=h(e,["raiMediaFilteredCount"]);s!=null&&p(t,["raiMediaFilteredCount"],s);const a=h(e,["raiMediaFilteredReasons"]);return a!=null&&p(t,["raiMediaFilteredReasons"],a),t}function RN(e){const t={},i=h(e,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>PN(d))),p(t,["generatedVideos"],u)}const s=h(e,["raiMediaFilteredCount"]);s!=null&&p(t,["raiMediaFilteredCount"],s);const a=h(e,["raiMediaFilteredReasons"]);return a!=null&&p(t,["raiMediaFilteredReasons"],a),t}function IN(e){const t={},i=h(e,["video"]);return i!=null&&p(t,["video"],VN(i)),t}function PN(e){const t={},i=h(e,["_self"]);return i!=null&&p(t,["video"],BN(i)),t}function kN(e){const t={},i=h(e,["operationName"]);return i!=null&&p(t,["_url","operationName"],i),t}function LN(e){const t={},i=h(e,["operationName"]);return i!=null&&p(t,["_url","operationName"],i),t}function DN(e){const t={},i=h(e,["name"]);i!=null&&p(t,["name"],i);const s=h(e,["metadata"]);s!=null&&p(t,["metadata"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const u=h(e,["error"]);u!=null&&p(t,["error"],u);const d=h(e,["response"]);return d!=null&&p(t,["response"],UN(d)),t}function UN(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["parent"]);s!=null&&p(t,["parent"],s);const a=h(e,["documentName"]);return a!=null&&p(t,["documentName"],a),t}function OS(e){const t={},i=h(e,["name"]);i!=null&&p(t,["name"],i);const s=h(e,["metadata"]);s!=null&&p(t,["metadata"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const u=h(e,["error"]);u!=null&&p(t,["error"],u);const d=h(e,["response"]);return d!=null&&p(t,["response"],ON(d)),t}function ON(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["parent"]);s!=null&&p(t,["parent"],s);const a=h(e,["documentName"]);return a!=null&&p(t,["documentName"],a),t}function VN(e){const t={},i=h(e,["uri"]);i!=null&&p(t,["uri"],i);const s=h(e,["encodedVideo"]);s!=null&&p(t,["videoBytes"],Sp(s));const a=h(e,["encoding"]);return a!=null&&p(t,["mimeType"],a),t}function BN(e){const t={},i=h(e,["gcsUri"]);i!=null&&p(t,["uri"],i);const s=h(e,["bytesBase64Encoded"]);s!=null&&p(t,["videoBytes"],Sp(s));const a=h(e,["mimeType"]);return a!=null&&p(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var a_;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(a_||(a_={}));var l_;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(l_||(l_={}));var u_;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(u_||(u_={}));var Sn;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Sn||(Sn={}));var c_;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(c_||(c_={}));var f_;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(f_||(f_={}));var d_;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(d_||(d_={}));var h_;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(h_||(h_={}));var m_;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(m_||(m_={}));var p_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(p_||(p_={}));var g_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(g_||(g_={}));var y_;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(y_||(y_={}));var v_;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(v_||(v_={}));var __;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(__||(__={}));var x_;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(x_||(x_={}));var T_;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(T_||(T_={}));var S_;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(S_||(S_={}));var E_;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(E_||(E_={}));var w_;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(w_||(w_={}));var b_;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(b_||(b_={}));var C_;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(C_||(C_={}));var Wc;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Wc||(Wc={}));var A_;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(A_||(A_={}));var M_;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(M_||(M_={}));var N_;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(N_||(N_={}));var bm;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(bm||(bm={}));var R_;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(R_||(R_={}));var I_;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(I_||(I_={}));var Cm;(function(e){e.COLLECTION="COLLECTION"})(Cm||(Cm={}));var P_;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(P_||(P_={}));var k_;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(k_||(k_={}));var Qc;(function(e){e.PREDICT="PREDICT",e.EMBED_CONTENT="EMBED_CONTENT"})(Qc||(Qc={}));var L_;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(L_||(L_={}));var D_;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(D_||(D_={}));var U_;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(U_||(U_={}));var O_;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(O_||(O_={}));var V_;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(V_||(V_={}));var B_;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(B_||(B_={}));var z_;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(z_||(z_={}));var H_;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(H_||(H_={}));var G_;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(G_||(G_={}));var q_;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(q_||(q_={}));var F_;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(F_||(F_={}));var Z_;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(Z_||(Z_={}));var Y_;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Y_||(Y_={}));var J_;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(J_||(J_={}));var K_;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(K_||(K_={}));var j_;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(j_||(j_={}));var X_;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(X_||(X_={}));var W_;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(W_||(W_={}));var Q_;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(Q_||(Q_={}));var $_;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})($_||($_={}));var tx;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(tx||(tx={}));var ex;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(ex||(ex={}));var nx;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nx||(nx={}));var ix;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ix||(ix={}));var ox;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(ox||(ox={}));var ea;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(ea||(ea={}));class Am{constructor(t){const i={};for(const s of t.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=t}json(){return this.responseInternal.json()}}class Al{get text(){var t,i,s,a,u,d,m,y;if(((a=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",x=!1;const w=[];for(const b of(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[M,I]of Object.entries(b))M!=="text"&&M!=="thought"&&M!=="thoughtSignature"&&(I!==null||I!==void 0)&&w.push(M);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;x=!0,g+=b.text}}return w.length>0&&console.warn(`there are non-text parts ${w} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?g:void 0}get data(){var t,i,s,a,u,d,m,y;if(((a=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const x=[];for(const w of(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)!==null&&y!==void 0?y:[]){for(const[b,M]of Object.entries(w))b!=="inlineData"&&(M!==null||M!==void 0)&&x.push(b);w.inlineData&&typeof w.inlineData.data=="string"&&(g+=atob(w.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,i,s,a,u,d,m,y;if(((a=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var t,i,s,a,u,d,m,y,g;if(((a=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(w=>w.executableCode).map(w=>w.executableCode).filter(w=>w!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,i,s,a,u,d,m,y,g;if(((a=(s=(i=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(m=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||m===void 0?void 0:m.parts)===null||y===void 0?void 0:y.filter(w=>w.codeExecutionResult).map(w=>w.codeExecutionResult).filter(w=>w!==void 0);if((x==null?void 0:x.length)!==0)return(g=x==null?void 0:x[0])===null||g===void 0?void 0:g.output}}class sx{}class rx{}class zN{}class HN{}class GN{}class qN{}class ax{}class lx{}class ux{}class FN{}class $c{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const s=new $c;let a;const u=t;return i?a=MN(u):a=AN(u),Object.assign(s,a),s}}class cx{}class fx{}class dx{}class hx{}class ZN{}class YN{}class JN{}class Ep{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const s=new Ep,u=DN(t);return Object.assign(s,u),s}}class KN{}class jN{}class XN{}class WN{}class mx{}class QN{get text(){var t,i,s;let a="",u=!1;const d=[];for(const m of(s=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[y,g]of Object.entries(m))y!=="text"&&y!=="thought"&&g!==null&&d.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;u=!0,a+=m.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var t,i,s;let a="";const u=[];for(const d of(s=(i=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[m,y]of Object.entries(d))m!=="inlineData"&&y!==null&&u.push(m);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class $N{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class wp{_fromAPIResponse({apiResponse:t,_isVertexAI:i}){const s=new wp,u=OS(t);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const i=t.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function VS(e,t){const i=Qt(e,t);return i?i.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${i}`:i.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${i}`:i:""}function BS(e){return Array.isArray(e)?e.map(t=>tf(t)):[tf(e)]}function tf(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function zS(e){const t=tf(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function HS(e){const t=tf(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function px(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function GS(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>px(t)):[px(e)]}function Mm(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function gx(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function yx(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function He(e){if(e==null)throw new Error("ContentUnion is required");return Mm(e)?e:{role:"user",parts:GS(e)}}function bp(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(i=>{const s=He(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(e.isVertexAI()){const i=He(t);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(t)?t.map(i=>He(i)):[He(t)]}function Ln(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(gx(e)||yx(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[He(e)]}const t=[],i=[],s=Mm(e[0]);for(const a of e){const u=Mm(a);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)t.push(a);else{if(gx(a)||yx(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return s||t.push({role:"user",parts:GS(i)}),t}function tR(e,t){e.includes("null")&&(t.nullable=!0);const i=e.filter(s=>s!=="null");if(i.length===1)t.type=Object.values(Sn).includes(i[0].toUpperCase())?i[0].toUpperCase():Sn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of i)t.anyOf.push({type:Object.values(Sn).includes(s.toUpperCase())?s.toUpperCase():Sn.TYPE_UNSPECIFIED})}}function sa(e){const t={},i=["items"],s=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=e.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(t.nullable=!0,e=u[1]):u[1].type==="null"&&(t.nullable=!0,e=u[0])),e.type instanceof Array&&tR(e.type,t);for(const[d,m]of Object.entries(e))if(m!=null)if(d=="type"){if(m==="null")throw new Error("type: null can not be the only possible type for the field.");if(m instanceof Array)continue;t.type=Object.values(Sn).includes(m.toUpperCase())?m.toUpperCase():Sn.TYPE_UNSPECIFIED}else if(i.includes(d))t[d]=sa(m);else if(s.includes(d)){const y=[];for(const g of m){if(g.type=="null"){t.nullable=!0;continue}y.push(sa(g))}t[d]=y}else if(a.includes(d)){const y={};for(const[g,x]of Object.entries(m))y[g]=sa(x);t[d]=y}else{if(d==="additionalProperties")continue;t[d]=m}return t}function Cp(e){return sa(e)}function Ap(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Mp(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function fa(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=sa(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=sa(t.response));return e}function da(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const i of e)t.push(i);return t}function eR(e,t,i,s=1){const a=!t.startsWith(`${i}/`)&&t.split("/").length===s;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${i}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${i}/${t}`:t:a?`${i}/${t}`:t}function lo(e,t){if(typeof t!="string")throw new Error("name must be a string");return eR(e,t,"cachedContents")}function qS(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function es(e){return Sp(e)}function nR(e){return e!=null&&typeof e=="object"&&"name"in e}function iR(e){return e!=null&&typeof e=="object"&&"video"in e}function oR(e){return e!=null&&typeof e=="object"&&"uri"in e}function FS(e){var t;let i;if(nR(e)&&(i=e.name),!(oR(e)&&(i=e.uri,i===void 0))&&!(iR(e)&&(i=(t=e.video)===null||t===void 0?void 0:t.uri,i===void 0))){if(typeof e=="string"&&(i=e),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function ZS(e,t){let i;return e.isVertexAI()?i=t?"publishers/google/models":"models":i=t?"models":"tunedModels",i}function YS(e){for(const t of["models","tunedModels","publisherModels"])if(sR(e,t))return e[t];return[]}function sR(e,t){return e!==null&&typeof e=="object"&&t in e}function rR(e,t={}){const i=e,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(s.responseJsonSchema=i.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function aR(e,t={}){const i=[],s=new Set;for(const a of e){const u=a.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const d=rR(a,t);d.functionDeclarations&&i.push(...d.functionDeclarations)}return{functionDeclarations:i}}function JS(e,t){let i;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))i={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))i={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))i={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:t}}else i=t;const s=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function lR(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function KS(e){if(typeof e!="object"||e===null)return{};const t=e,i=t.inlinedResponses;if(typeof i!="object"||i===null)return e;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let u=!1;for(const d of a){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function ha(e,t){const i=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function jS(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function uR(e){return e.includes("gemini")&&e!=="gemini-embedding-001"||e.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cR(e){const t={},i=h(e,["responsesFile"]);i!=null&&p(t,["fileName"],i);const s=h(e,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>FR(d))),p(t,["inlinedResponses"],u)}const a=h(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),p(t,["inlinedEmbedContentResponses"],u)}return t}function fR(e){const t={},i=h(e,["predictionsFormat"]);i!=null&&p(t,["format"],i);const s=h(e,["gcsDestination","outputUriPrefix"]);s!=null&&p(t,["gcsUri"],s);const a=h(e,["bigqueryDestination","outputUri"]);return a!=null&&p(t,["bigqueryUri"],a),t}function dR(e){const t={},i=h(e,["format"]);i!=null&&p(t,["predictionsFormat"],i);const s=h(e,["gcsUri"]);s!=null&&p(t,["gcsDestination","outputUriPrefix"],s);const a=h(e,["bigqueryUri"]);if(a!=null&&p(t,["bigqueryDestination","outputUri"],a),h(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function zc(e){const t={},i=h(e,["name"]);i!=null&&p(t,["name"],i);const s=h(e,["metadata","displayName"]);s!=null&&p(t,["displayName"],s);const a=h(e,["metadata","state"]);a!=null&&p(t,["state"],jS(a));const u=h(e,["metadata","createTime"]);u!=null&&p(t,["createTime"],u);const d=h(e,["metadata","endTime"]);d!=null&&p(t,["endTime"],d);const m=h(e,["metadata","updateTime"]);m!=null&&p(t,["updateTime"],m);const y=h(e,["metadata","model"]);y!=null&&p(t,["model"],y);const g=h(e,["metadata","output"]);return g!=null&&p(t,["dest"],cR(KS(g))),t}function Nm(e){const t={},i=h(e,["name"]);i!=null&&p(t,["name"],i);const s=h(e,["displayName"]);s!=null&&p(t,["displayName"],s);const a=h(e,["state"]);a!=null&&p(t,["state"],jS(a));const u=h(e,["error"]);u!=null&&p(t,["error"],u);const d=h(e,["createTime"]);d!=null&&p(t,["createTime"],d);const m=h(e,["startTime"]);m!=null&&p(t,["startTime"],m);const y=h(e,["endTime"]);y!=null&&p(t,["endTime"],y);const g=h(e,["updateTime"]);g!=null&&p(t,["updateTime"],g);const x=h(e,["model"]);x!=null&&p(t,["model"],x);const w=h(e,["inputConfig"]);w!=null&&p(t,["src"],hR(w));const b=h(e,["outputConfig"]);b!=null&&p(t,["dest"],fR(KS(b)));const M=h(e,["completionStats"]);return M!=null&&p(t,["completionStats"],M),t}function hR(e){const t={},i=h(e,["instancesFormat"]);i!=null&&p(t,["format"],i);const s=h(e,["gcsSource","uris"]);s!=null&&p(t,["gcsUri"],s);const a=h(e,["bigquerySource","inputUri"]);return a!=null&&p(t,["bigqueryUri"],a),t}function mR(e,t){const i={};if(h(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=h(t,["fileName"]);s!=null&&p(i,["fileName"],s);const a=h(t,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>qR(e,d))),p(i,["requests","requests"],u)}return i}function pR(e){const t={},i=h(e,["format"]);i!=null&&p(t,["instancesFormat"],i);const s=h(e,["gcsUri"]);s!=null&&p(t,["gcsSource","uris"],s);const a=h(e,["bigqueryUri"]);if(a!=null&&p(t,["bigquerySource","inputUri"],a),h(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function gR(e){const t={},i=h(e,["data"]);if(i!=null&&p(t,["data"],i),h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function yR(e,t){const i={},s=h(t,["name"]);return s!=null&&p(i,["_url","name"],ha(e,s)),i}function vR(e,t){const i={},s=h(t,["name"]);return s!=null&&p(i,["_url","name"],ha(e,s)),i}function _R(e){const t={},i=h(e,["content"]);i!=null&&p(t,["content"],i);const s=h(e,["citationMetadata"]);s!=null&&p(t,["citationMetadata"],xR(s));const a=h(e,["tokenCount"]);a!=null&&p(t,["tokenCount"],a);const u=h(e,["finishReason"]);u!=null&&p(t,["finishReason"],u);const d=h(e,["avgLogprobs"]);d!=null&&p(t,["avgLogprobs"],d);const m=h(e,["groundingMetadata"]);m!=null&&p(t,["groundingMetadata"],m);const y=h(e,["index"]);y!=null&&p(t,["index"],y);const g=h(e,["logprobsResult"]);g!=null&&p(t,["logprobsResult"],g);const x=h(e,["safetyRatings"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(M=>M)),p(t,["safetyRatings"],b)}const w=h(e,["urlContextMetadata"]);return w!=null&&p(t,["urlContextMetadata"],w),t}function xR(e){const t={},i=h(e,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),p(t,["citations"],s)}return t}function XS(e){const t={},i=h(e,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>WR(u))),p(t,["parts"],a)}const s=h(e,["role"]);return s!=null&&p(t,["role"],s),t}function TR(e,t){const i={},s=h(e,["displayName"]);if(t!==void 0&&s!=null&&p(t,["batch","displayName"],s),h(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function SR(e,t){const i={},s=h(e,["displayName"]);t!==void 0&&s!=null&&p(t,["displayName"],s);const a=h(e,["dest"]);return t!==void 0&&a!=null&&p(t,["outputConfig"],dR(lR(a))),i}function vx(e,t){const i={},s=h(t,["model"]);s!=null&&p(i,["_url","model"],Qt(e,s));const a=h(t,["src"]);a!=null&&p(i,["batch","inputConfig"],mR(e,JS(e,a)));const u=h(t,["config"]);return u!=null&&TR(u,i),i}function ER(e,t){const i={},s=h(t,["model"]);s!=null&&p(i,["model"],Qt(e,s));const a=h(t,["src"]);a!=null&&p(i,["inputConfig"],pR(JS(e,a)));const u=h(t,["config"]);return u!=null&&SR(u,i),i}function wR(e,t){const i={},s=h(e,["displayName"]);return t!==void 0&&s!=null&&p(t,["batch","displayName"],s),i}function bR(e,t){const i={},s=h(t,["model"]);s!=null&&p(i,["_url","model"],Qt(e,s));const a=h(t,["src"]);a!=null&&p(i,["batch","inputConfig"],PR(e,a));const u=h(t,["config"]);return u!=null&&wR(u,i),i}function CR(e,t){const i={},s=h(t,["name"]);return s!=null&&p(i,["_url","name"],ha(e,s)),i}function AR(e,t){const i={},s=h(t,["name"]);return s!=null&&p(i,["_url","name"],ha(e,s)),i}function MR(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["name"]);s!=null&&p(t,["name"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const u=h(e,["error"]);return u!=null&&p(t,["error"],u),t}function NR(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["name"]);s!=null&&p(t,["name"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const u=h(e,["error"]);return u!=null&&p(t,["error"],u),t}function RR(e,t){const i={},s=h(t,["contents"]);if(s!=null){let u=bp(e,s);Array.isArray(u)&&(u=u.map(d=>d)),p(i,["requests[]","request","content"],u)}const a=h(t,["config"]);return a!=null&&(p(i,["_self"],IR(a,i)),bN(i,{"requests[].*":"requests[].request.*"})),i}function IR(e,t){const i={},s=h(e,["taskType"]);t!==void 0&&s!=null&&p(t,["requests[]","taskType"],s);const a=h(e,["title"]);t!==void 0&&a!=null&&p(t,["requests[]","title"],a);const u=h(e,["outputDimensionality"]);if(t!==void 0&&u!=null&&p(t,["requests[]","outputDimensionality"],u),h(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function PR(e,t){const i={},s=h(t,["fileName"]);s!=null&&p(i,["file_name"],s);const a=h(t,["inlinedRequests"]);return a!=null&&p(i,["requests"],RR(e,a)),i}function kR(e){const t={};if(h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(e,["fileUri"]);i!=null&&p(t,["fileUri"],i);const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function LR(e){const t={},i=h(e,["id"]);i!=null&&p(t,["id"],i);const s=h(e,["args"]);s!=null&&p(t,["args"],s);const a=h(e,["name"]);if(a!=null&&p(t,["name"],a),h(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function DR(e){const t={},i=h(e,["allowedFunctionNames"]);i!=null&&p(t,["allowedFunctionNames"],i);const s=h(e,["mode"]);if(s!=null&&p(t,["mode"],s),h(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function UR(e,t,i){const s={},a=h(t,["systemInstruction"]);i!==void 0&&a!=null&&p(i,["systemInstruction"],XS(He(a)));const u=h(t,["temperature"]);u!=null&&p(s,["temperature"],u);const d=h(t,["topP"]);d!=null&&p(s,["topP"],d);const m=h(t,["topK"]);m!=null&&p(s,["topK"],m);const y=h(t,["candidateCount"]);y!=null&&p(s,["candidateCount"],y);const g=h(t,["maxOutputTokens"]);g!=null&&p(s,["maxOutputTokens"],g);const x=h(t,["stopSequences"]);x!=null&&p(s,["stopSequences"],x);const w=h(t,["responseLogprobs"]);w!=null&&p(s,["responseLogprobs"],w);const b=h(t,["logprobs"]);b!=null&&p(s,["logprobs"],b);const M=h(t,["presencePenalty"]);M!=null&&p(s,["presencePenalty"],M);const I=h(t,["frequencyPenalty"]);I!=null&&p(s,["frequencyPenalty"],I);const P=h(t,["seed"]);P!=null&&p(s,["seed"],P);const k=h(t,["responseMimeType"]);k!=null&&p(s,["responseMimeType"],k);const B=h(t,["responseSchema"]);B!=null&&p(s,["responseSchema"],Cp(B));const Y=h(t,["responseJsonSchema"]);if(Y!=null&&p(s,["responseJsonSchema"],Y),h(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=h(t,["safetySettings"]);if(i!==void 0&&z!=null){let ht=z;Array.isArray(ht)&&(ht=ht.map(K=>QR(K))),p(i,["safetySettings"],ht)}const $=h(t,["tools"]);if(i!==void 0&&$!=null){let ht=da($);Array.isArray(ht)&&(ht=ht.map(K=>t2(fa(K)))),p(i,["tools"],ht)}const Q=h(t,["toolConfig"]);if(i!==void 0&&Q!=null&&p(i,["toolConfig"],$R(Q)),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=h(t,["cachedContent"]);i!==void 0&&V!=null&&p(i,["cachedContent"],lo(e,V));const nt=h(t,["responseModalities"]);nt!=null&&p(s,["responseModalities"],nt);const rt=h(t,["mediaResolution"]);rt!=null&&p(s,["mediaResolution"],rt);const ct=h(t,["speechConfig"]);if(ct!=null&&p(s,["speechConfig"],Ap(ct)),h(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Tt=h(t,["thinkingConfig"]);Tt!=null&&p(s,["thinkingConfig"],Tt);const dt=h(t,["imageConfig"]);dt!=null&&p(s,["imageConfig"],GR(dt));const _t=h(t,["enableEnhancedCivicAnswers"]);if(_t!=null&&p(s,["enableEnhancedCivicAnswers"],_t),h(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function OR(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>_R(g))),p(t,["candidates"],y)}const a=h(e,["modelVersion"]);a!=null&&p(t,["modelVersion"],a);const u=h(e,["promptFeedback"]);u!=null&&p(t,["promptFeedback"],u);const d=h(e,["responseId"]);d!=null&&p(t,["responseId"],d);const m=h(e,["usageMetadata"]);return m!=null&&p(t,["usageMetadata"],m),t}function VR(e,t){const i={},s=h(t,["name"]);return s!=null&&p(i,["_url","name"],ha(e,s)),i}function BR(e,t){const i={},s=h(t,["name"]);return s!=null&&p(i,["_url","name"],ha(e,s)),i}function zR(e){const t={};if(h(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=h(e,["enableWidget"]);return i!=null&&p(t,["enableWidget"],i),t}function HR(e){const t={};if(h(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=h(e,["timeRangeFilter"]);return i!=null&&p(t,["timeRangeFilter"],i),t}function GR(e){const t={},i=h(e,["aspectRatio"]);i!=null&&p(t,["aspectRatio"],i);const s=h(e,["imageSize"]);if(s!=null&&p(t,["imageSize"],s),h(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(h(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function qR(e,t){const i={},s=h(t,["model"]);s!=null&&p(i,["request","model"],Qt(e,s));const a=h(t,["contents"]);if(a!=null){let m=Ln(a);Array.isArray(m)&&(m=m.map(y=>XS(y))),p(i,["request","contents"],m)}const u=h(t,["metadata"]);u!=null&&p(i,["metadata"],u);const d=h(t,["config"]);return d!=null&&p(i,["request","generationConfig"],UR(e,d,h(i,["request"],{}))),i}function FR(e){const t={},i=h(e,["response"]);i!=null&&p(t,["response"],OR(i));const s=h(e,["metadata"]);s!=null&&p(t,["metadata"],s);const a=h(e,["error"]);return a!=null&&p(t,["error"],a),t}function ZR(e,t){const i={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);if(t!==void 0&&a!=null&&p(t,["_query","pageToken"],a),h(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function YR(e,t){const i={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);t!==void 0&&a!=null&&p(t,["_query","pageToken"],a);const u=h(e,["filter"]);return t!==void 0&&u!=null&&p(t,["_query","filter"],u),i}function JR(e){const t={},i=h(e,["config"]);return i!=null&&ZR(i,t),t}function KR(e){const t={},i=h(e,["config"]);return i!=null&&YR(i,t),t}function jR(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>zc(d))),p(t,["batchJobs"],u)}return t}function XR(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Nm(d))),p(t,["batchJobs"],u)}return t}function WR(e){const t={},i=h(e,["mediaResolution"]);i!=null&&p(t,["mediaResolution"],i);const s=h(e,["codeExecutionResult"]);s!=null&&p(t,["codeExecutionResult"],s);const a=h(e,["executableCode"]);a!=null&&p(t,["executableCode"],a);const u=h(e,["fileData"]);u!=null&&p(t,["fileData"],kR(u));const d=h(e,["functionCall"]);d!=null&&p(t,["functionCall"],LR(d));const m=h(e,["functionResponse"]);m!=null&&p(t,["functionResponse"],m);const y=h(e,["inlineData"]);y!=null&&p(t,["inlineData"],gR(y));const g=h(e,["text"]);g!=null&&p(t,["text"],g);const x=h(e,["thought"]);x!=null&&p(t,["thought"],x);const w=h(e,["thoughtSignature"]);w!=null&&p(t,["thoughtSignature"],w);const b=h(e,["videoMetadata"]);return b!=null&&p(t,["videoMetadata"],b),t}function QR(e){const t={},i=h(e,["category"]);if(i!=null&&p(t,["category"],i),h(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=h(e,["threshold"]);return s!=null&&p(t,["threshold"],s),t}function $R(e){const t={},i=h(e,["retrievalConfig"]);i!=null&&p(t,["retrievalConfig"],i);const s=h(e,["functionCallingConfig"]);return s!=null&&p(t,["functionCallingConfig"],DR(s)),t}function t2(e){const t={};if(h(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(e,["computerUse"]);i!=null&&p(t,["computerUse"],i);const s=h(e,["fileSearch"]);s!=null&&p(t,["fileSearch"],s);const a=h(e,["codeExecution"]);if(a!=null&&p(t,["codeExecution"],a),h(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(e,["functionDeclarations"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(w=>w)),p(t,["functionDeclarations"],x)}const d=h(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],zR(d));const m=h(e,["googleSearch"]);m!=null&&p(t,["googleSearch"],HR(m));const y=h(e,["googleSearchRetrieval"]);y!=null&&p(t,["googleSearchRetrieval"],y);const g=h(e,["urlContext"]);return g!=null&&p(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ro;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(ro||(ro={}));class er{constructor(t,i,s,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(t,s,a)}init(t,i,s){var a,u;this.nameInternal=t,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=i.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e2 extends ao{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new er(ro.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(t){const i=vx(this.apiClient,t),s=i._url,a=St("{model}:batchGenerateContent",s),m=i.batch.inputConfig.requests,y=m.requests,g=[];for(const x of y){const w=Object.assign({},x);if(w.systemInstruction){const b=w.systemInstruction;delete w.systemInstruction;const M=w.request;M.systemInstruction=b,w.request=M}g.push(w)}return m.requests=g,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,i){const s=i?Object.assign({},i):{},a=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${a}`),s.dest===void 0){const u=this.getGcsUri(t),d=this.getBigqueryUri(t);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${a}`;else if(d)s.dest=`${d}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=ER(this.apiClient,t);return m=St("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),d.then(x=>Nm(x))}else{const g=vx(this.apiClient,t);return m=St("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>zc(x))}}async createEmbeddingsInternal(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=bR(this.apiClient,t);return u=St("{model}:asyncBatchEmbedContent",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>zc(y))}}async get(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=BR(this.apiClient,t);return m=St("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),d.then(x=>Nm(x))}else{const g=VR(this.apiClient,t);return m=St("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>zc(x))}}async cancel(t){var i,s,a,u;let d="",m={};if(this.apiClient.isVertexAI()){const y=vR(this.apiClient,t);d=St("batchPredictionJobs/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=yR(this.apiClient,t);d=St("batches/{name}:cancel",y._url),m=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=KR(t);return m=St("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=XR(x),b=new mx;return Object.assign(b,w),b})}else{const g=JR(t);return m=St("batches",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=jR(x),b=new mx;return Object.assign(b,w),b})}}async delete(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=AR(this.apiClient,t);return m=St("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>NR(x))}else{const g=CR(this.apiClient,t);return m=St("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>MR(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function n2(e){const t={},i=h(e,["data"]);if(i!=null&&p(t,["data"],i),h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function _x(e){const t={},i=h(e,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>b2(u))),p(t,["parts"],a)}const s=h(e,["role"]);return s!=null&&p(t,["role"],s),t}function i2(e,t){const i={},s=h(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const a=h(e,["expireTime"]);t!==void 0&&a!=null&&p(t,["expireTime"],a);const u=h(e,["displayName"]);t!==void 0&&u!=null&&p(t,["displayName"],u);const d=h(e,["contents"]);if(t!==void 0&&d!=null){let x=Ln(d);Array.isArray(x)&&(x=x.map(w=>_x(w))),p(t,["contents"],x)}const m=h(e,["systemInstruction"]);t!==void 0&&m!=null&&p(t,["systemInstruction"],_x(He(m)));const y=h(e,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(w=>A2(w))),p(t,["tools"],x)}const g=h(e,["toolConfig"]);if(t!==void 0&&g!=null&&p(t,["toolConfig"],C2(g)),h(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function o2(e,t){const i={},s=h(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const a=h(e,["expireTime"]);t!==void 0&&a!=null&&p(t,["expireTime"],a);const u=h(e,["displayName"]);t!==void 0&&u!=null&&p(t,["displayName"],u);const d=h(e,["contents"]);if(t!==void 0&&d!=null){let w=Ln(d);Array.isArray(w)&&(w=w.map(b=>b)),p(t,["contents"],w)}const m=h(e,["systemInstruction"]);t!==void 0&&m!=null&&p(t,["systemInstruction"],He(m));const y=h(e,["tools"]);if(t!==void 0&&y!=null){let w=y;Array.isArray(w)&&(w=w.map(b=>M2(b))),p(t,["tools"],w)}const g=h(e,["toolConfig"]);t!==void 0&&g!=null&&p(t,["toolConfig"],g);const x=h(e,["kmsKeyName"]);return t!==void 0&&x!=null&&p(t,["encryption_spec","kmsKeyName"],x),i}function s2(e,t){const i={},s=h(t,["model"]);s!=null&&p(i,["model"],VS(e,s));const a=h(t,["config"]);return a!=null&&i2(a,i),i}function r2(e,t){const i={},s=h(t,["model"]);s!=null&&p(i,["model"],VS(e,s));const a=h(t,["config"]);return a!=null&&o2(a,i),i}function a2(e,t){const i={},s=h(t,["name"]);return s!=null&&p(i,["_url","name"],lo(e,s)),i}function l2(e,t){const i={},s=h(t,["name"]);return s!=null&&p(i,["_url","name"],lo(e,s)),i}function u2(e){const t={},i=h(e,["sdkHttpResponse"]);return i!=null&&p(t,["sdkHttpResponse"],i),t}function c2(e){const t={},i=h(e,["sdkHttpResponse"]);return i!=null&&p(t,["sdkHttpResponse"],i),t}function f2(e){const t={};if(h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(e,["fileUri"]);i!=null&&p(t,["fileUri"],i);const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function d2(e){const t={},i=h(e,["id"]);i!=null&&p(t,["id"],i);const s=h(e,["args"]);s!=null&&p(t,["args"],s);const a=h(e,["name"]);if(a!=null&&p(t,["name"],a),h(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function h2(e){const t={},i=h(e,["allowedFunctionNames"]);i!=null&&p(t,["allowedFunctionNames"],i);const s=h(e,["mode"]);if(s!=null&&p(t,["mode"],s),h(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function m2(e){const t={},i=h(e,["description"]);i!=null&&p(t,["description"],i);const s=h(e,["name"]);s!=null&&p(t,["name"],s);const a=h(e,["parameters"]);a!=null&&p(t,["parameters"],a);const u=h(e,["parametersJsonSchema"]);u!=null&&p(t,["parametersJsonSchema"],u);const d=h(e,["response"]);d!=null&&p(t,["response"],d);const m=h(e,["responseJsonSchema"]);if(m!=null&&p(t,["responseJsonSchema"],m),h(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function p2(e,t){const i={},s=h(t,["name"]);return s!=null&&p(i,["_url","name"],lo(e,s)),i}function g2(e,t){const i={},s=h(t,["name"]);return s!=null&&p(i,["_url","name"],lo(e,s)),i}function y2(e){const t={};if(h(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=h(e,["enableWidget"]);return i!=null&&p(t,["enableWidget"],i),t}function v2(e){const t={};if(h(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=h(e,["timeRangeFilter"]);return i!=null&&p(t,["timeRangeFilter"],i),t}function _2(e,t){const i={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);return t!==void 0&&a!=null&&p(t,["_query","pageToken"],a),i}function x2(e,t){const i={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);return t!==void 0&&a!=null&&p(t,["_query","pageToken"],a),i}function T2(e){const t={},i=h(e,["config"]);return i!=null&&_2(i,t),t}function S2(e){const t={},i=h(e,["config"]);return i!=null&&x2(i,t),t}function E2(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),p(t,["cachedContents"],u)}return t}function w2(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),p(t,["cachedContents"],u)}return t}function b2(e){const t={},i=h(e,["mediaResolution"]);i!=null&&p(t,["mediaResolution"],i);const s=h(e,["codeExecutionResult"]);s!=null&&p(t,["codeExecutionResult"],s);const a=h(e,["executableCode"]);a!=null&&p(t,["executableCode"],a);const u=h(e,["fileData"]);u!=null&&p(t,["fileData"],f2(u));const d=h(e,["functionCall"]);d!=null&&p(t,["functionCall"],d2(d));const m=h(e,["functionResponse"]);m!=null&&p(t,["functionResponse"],m);const y=h(e,["inlineData"]);y!=null&&p(t,["inlineData"],n2(y));const g=h(e,["text"]);g!=null&&p(t,["text"],g);const x=h(e,["thought"]);x!=null&&p(t,["thought"],x);const w=h(e,["thoughtSignature"]);w!=null&&p(t,["thoughtSignature"],w);const b=h(e,["videoMetadata"]);return b!=null&&p(t,["videoMetadata"],b),t}function C2(e){const t={},i=h(e,["retrievalConfig"]);i!=null&&p(t,["retrievalConfig"],i);const s=h(e,["functionCallingConfig"]);return s!=null&&p(t,["functionCallingConfig"],h2(s)),t}function A2(e){const t={};if(h(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(e,["computerUse"]);i!=null&&p(t,["computerUse"],i);const s=h(e,["fileSearch"]);s!=null&&p(t,["fileSearch"],s);const a=h(e,["codeExecution"]);if(a!=null&&p(t,["codeExecution"],a),h(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(e,["functionDeclarations"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(w=>w)),p(t,["functionDeclarations"],x)}const d=h(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],y2(d));const m=h(e,["googleSearch"]);m!=null&&p(t,["googleSearch"],v2(m));const y=h(e,["googleSearchRetrieval"]);y!=null&&p(t,["googleSearchRetrieval"],y);const g=h(e,["urlContext"]);return g!=null&&p(t,["urlContext"],g),t}function M2(e){const t={},i=h(e,["retrieval"]);i!=null&&p(t,["retrieval"],i);const s=h(e,["computerUse"]);if(s!=null&&p(t,["computerUse"],s),h(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=h(e,["codeExecution"]);a!=null&&p(t,["codeExecution"],a);const u=h(e,["enterpriseWebSearch"]);u!=null&&p(t,["enterpriseWebSearch"],u);const d=h(e,["functionDeclarations"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(b=>m2(b))),p(t,["functionDeclarations"],w)}const m=h(e,["googleMaps"]);m!=null&&p(t,["googleMaps"],m);const y=h(e,["googleSearch"]);y!=null&&p(t,["googleSearch"],y);const g=h(e,["googleSearchRetrieval"]);g!=null&&p(t,["googleSearchRetrieval"],g);const x=h(e,["urlContext"]);return x!=null&&p(t,["urlContext"],x),t}function N2(e,t){const i={},s=h(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const a=h(e,["expireTime"]);return t!==void 0&&a!=null&&p(t,["expireTime"],a),i}function R2(e,t){const i={},s=h(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const a=h(e,["expireTime"]);return t!==void 0&&a!=null&&p(t,["expireTime"],a),i}function I2(e,t){const i={},s=h(t,["name"]);s!=null&&p(i,["_url","name"],lo(e,s));const a=h(t,["config"]);return a!=null&&N2(a,i),i}function P2(e,t){const i={},s=h(t,["name"]);s!=null&&p(i,["_url","name"],lo(e,s));const a=h(t,["config"]);return a!=null&&R2(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k2 extends ao{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new er(ro.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=r2(this.apiClient,t);return m=St("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),d.then(x=>x)}else{const g=s2(this.apiClient,t);return m=St("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>x)}}async get(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=g2(this.apiClient,t);return m=St("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),d.then(x=>x)}else{const g=p2(this.apiClient,t);return m=St("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>x)}}async delete(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=l2(this.apiClient,t);return m=St("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=c2(x),b=new dx;return Object.assign(b,w),b})}else{const g=a2(this.apiClient,t);return m=St("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=u2(x),b=new dx;return Object.assign(b,w),b})}}async update(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=P2(this.apiClient,t);return m=St("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),d.then(x=>x)}else{const g=I2(this.apiClient,t);return m=St("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>x)}}async listInternal(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=S2(t);return m=St("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=w2(x),b=new hx;return Object.assign(b,w),b})}else{const g=T2(t);return m=St("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=E2(x),b=new hx;return Object.assign(b,w),b})}}}function ef(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(i[s[a]]=e[s[a]]);return i}function xx(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],s=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lt(e){return this instanceof Lt?(this.v=e,this):new Lt(e)}function ci(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(e,t||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(M){return function(I){return Promise.resolve(I).then(M,w)}}function m(M,I){s[M]&&(a[M]=function(P){return new Promise(function(k,B){u.push([M,P,k,B])>1||y(M,P)})},I&&(a[M]=I(a[M])))}function y(M,I){try{g(s[M](I))}catch(P){b(u[0][3],P)}}function g(M){M.value instanceof Lt?Promise.resolve(M.value.v).then(x,w):b(u[0][2],M)}function x(M){y("next",M)}function w(M){y("throw",M)}function b(M,I){M(I),u.shift(),u.length&&y(u[0][0],u[0][1])}}function fi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof xx=="function"?xx(e):e[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=e[u]&&function(d){return new Promise(function(m,y){d=e[u](d),a(m,y,d.done,d.value)})}}function a(u,d,m,y){Promise.resolve(y).then(function(g){u({value:g,done:m})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L2(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const i=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return i===void 0?!1:WS(i)}function WS(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function D2(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Tx(e){if(e===void 0||e.length===0)return[];const t=[],i=e.length;let s=0;for(;s<i;)if(e[s].role==="user")t.push(e[s]),s++;else{const a=[];let u=!0;for(;s<i&&e[s].role==="model";)a.push(e[s]),u&&!WS(e[s])&&(u=!1),s++;u?t.push(...a):t.pop()}return t}class U2{constructor(t,i){this.modelsModule=t,this.apiClient=i}create(t){return new O2(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class O2{constructor(t,i,s,a={},u=[]){this.apiClient=t,this.modelsModule=i,this.model=s,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),D2(u)}async sendMessage(t){var i;await this.sendPromise;const s=He(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=t.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var u,d,m;const y=await a,g=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,x=y.automaticFunctionCallingHistory,w=this.getHistory(!0).length;let b=[];x!=null&&(b=(m=x.slice(w))!==null&&m!==void 0?m:[]);const M=g?[g]:[];this.recordHistory(s,M,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var i;await this.sendPromise;const s=He(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=t.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,s)}getHistory(t=!1){const i=t?Tx(this.history):this.history;return structuredClone(i)}processStreamResponse(t,i){return ci(this,arguments,function*(){var a,u,d,m,y,g;const x=[];try{for(var w=!0,b=fi(t),M;M=yield Lt(b.next()),a=M.done,!a;w=!0){m=M.value,w=!1;const I=m;if(L2(I)){const P=(g=(y=I.candidates)===null||y===void 0?void 0:y[0])===null||g===void 0?void 0:g.content;P!==void 0&&x.push(P)}yield yield Lt(I)}}catch(I){u={error:I}}finally{try{!w&&!a&&(d=b.return)&&(yield Lt(d.call(b)))}finally{if(u)throw u.error}}this.recordHistory(i,x)})}recordHistory(t,i,s){let a=[];i.length>0&&i.every(u=>u.role!==void 0)?a=i:a.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Tx(s)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Gl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V2(e){const t={},i=h(e,["file"]);return i!=null&&p(t,["file"],i),t}function B2(e){const t={},i=h(e,["sdkHttpResponse"]);return i!=null&&p(t,["sdkHttpResponse"],i),t}function z2(e){const t={},i=h(e,["name"]);return i!=null&&p(t,["_url","file"],FS(i)),t}function H2(e){const t={},i=h(e,["sdkHttpResponse"]);return i!=null&&p(t,["sdkHttpResponse"],i),t}function G2(e){const t={},i=h(e,["name"]);return i!=null&&p(t,["_url","file"],FS(i)),t}function q2(e){const t={},i=h(e,["uris"]);return i!=null&&p(t,["uris"],i),t}function F2(e,t){const i={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);return t!==void 0&&a!=null&&p(t,["_query","pageToken"],a),i}function Z2(e){const t={},i=h(e,["config"]);return i!=null&&F2(i,t),t}function Y2(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),p(t,["files"],u)}return t}function J2(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),p(t,["files"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class K2 extends ao{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new er(ro.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(i=>i)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Z2(t);return u=St("files",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const g=Y2(y),x=new KN;return Object.assign(x,g),x})}}async createInternal(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=V2(t);return u=St("upload/v1beta/files",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=B2(y),x=new jN;return Object.assign(x,g),x})}}async get(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=G2(t);return u=St("files/{file}",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=z2(t);return u=St("files/{file}",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const g=H2(y),x=new XN;return Object.assign(x,g),x})}}async registerFilesInternal(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=q2(t);return u=St("files:register",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=J2(y),x=new WN;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hc(e){const t={},i=h(e,["data"]);if(i!=null&&p(t,["data"],i),h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function j2(e){const t={},i=h(e,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>fI(u))),p(t,["parts"],a)}const s=h(e,["role"]);return s!=null&&p(t,["role"],s),t}function X2(e){const t={};if(h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(e,["fileUri"]);i!=null&&p(t,["fileUri"],i);const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function W2(e){const t={},i=h(e,["id"]);i!=null&&p(t,["id"],i);const s=h(e,["args"]);s!=null&&p(t,["args"],s);const a=h(e,["name"]);if(a!=null&&p(t,["name"],a),h(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Q2(e){const t={},i=h(e,["description"]);i!=null&&p(t,["description"],i);const s=h(e,["name"]);s!=null&&p(t,["name"],s);const a=h(e,["parameters"]);a!=null&&p(t,["parameters"],a);const u=h(e,["parametersJsonSchema"]);u!=null&&p(t,["parametersJsonSchema"],u);const d=h(e,["response"]);d!=null&&p(t,["response"],d);const m=h(e,["responseJsonSchema"]);if(m!=null&&p(t,["responseJsonSchema"],m),h(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function $2(e){const t={},i=h(e,["modelSelectionConfig"]);i!=null&&p(t,["modelConfig"],i);const s=h(e,["responseJsonSchema"]);s!=null&&p(t,["responseJsonSchema"],s);const a=h(e,["audioTimestamp"]);a!=null&&p(t,["audioTimestamp"],a);const u=h(e,["candidateCount"]);u!=null&&p(t,["candidateCount"],u);const d=h(e,["enableAffectiveDialog"]);d!=null&&p(t,["enableAffectiveDialog"],d);const m=h(e,["frequencyPenalty"]);m!=null&&p(t,["frequencyPenalty"],m);const y=h(e,["logprobs"]);y!=null&&p(t,["logprobs"],y);const g=h(e,["maxOutputTokens"]);g!=null&&p(t,["maxOutputTokens"],g);const x=h(e,["mediaResolution"]);x!=null&&p(t,["mediaResolution"],x);const w=h(e,["presencePenalty"]);w!=null&&p(t,["presencePenalty"],w);const b=h(e,["responseLogprobs"]);b!=null&&p(t,["responseLogprobs"],b);const M=h(e,["responseMimeType"]);M!=null&&p(t,["responseMimeType"],M);const I=h(e,["responseModalities"]);I!=null&&p(t,["responseModalities"],I);const P=h(e,["responseSchema"]);P!=null&&p(t,["responseSchema"],P);const k=h(e,["routingConfig"]);k!=null&&p(t,["routingConfig"],k);const B=h(e,["seed"]);B!=null&&p(t,["seed"],B);const Y=h(e,["speechConfig"]);Y!=null&&p(t,["speechConfig"],Y);const z=h(e,["stopSequences"]);z!=null&&p(t,["stopSequences"],z);const $=h(e,["temperature"]);$!=null&&p(t,["temperature"],$);const Q=h(e,["thinkingConfig"]);Q!=null&&p(t,["thinkingConfig"],Q);const V=h(e,["topK"]);V!=null&&p(t,["topK"],V);const nt=h(e,["topP"]);if(nt!=null&&p(t,["topP"],nt),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function tI(e){const t={};if(h(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=h(e,["enableWidget"]);return i!=null&&p(t,["enableWidget"],i),t}function eI(e){const t={};if(h(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=h(e,["timeRangeFilter"]);return i!=null&&p(t,["timeRangeFilter"],i),t}function nI(e,t){const i={},s=h(e,["generationConfig"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig"],s);const a=h(e,["responseModalities"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","responseModalities"],a);const u=h(e,["temperature"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","temperature"],u);const d=h(e,["topP"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topP"],d);const m=h(e,["topK"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","topK"],m);const y=h(e,["maxOutputTokens"]);t!==void 0&&y!=null&&p(t,["setup","generationConfig","maxOutputTokens"],y);const g=h(e,["mediaResolution"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","mediaResolution"],g);const x=h(e,["seed"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","seed"],x);const w=h(e,["speechConfig"]);t!==void 0&&w!=null&&p(t,["setup","generationConfig","speechConfig"],Mp(w));const b=h(e,["thinkingConfig"]);t!==void 0&&b!=null&&p(t,["setup","generationConfig","thinkingConfig"],b);const M=h(e,["enableAffectiveDialog"]);t!==void 0&&M!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],M);const I=h(e,["systemInstruction"]);t!==void 0&&I!=null&&p(t,["setup","systemInstruction"],j2(He(I)));const P=h(e,["tools"]);if(t!==void 0&&P!=null){let V=da(P);Array.isArray(V)&&(V=V.map(nt=>hI(fa(nt)))),p(t,["setup","tools"],V)}const k=h(e,["sessionResumption"]);t!==void 0&&k!=null&&p(t,["setup","sessionResumption"],dI(k));const B=h(e,["inputAudioTranscription"]);t!==void 0&&B!=null&&p(t,["setup","inputAudioTranscription"],B);const Y=h(e,["outputAudioTranscription"]);t!==void 0&&Y!=null&&p(t,["setup","outputAudioTranscription"],Y);const z=h(e,["realtimeInputConfig"]);t!==void 0&&z!=null&&p(t,["setup","realtimeInputConfig"],z);const $=h(e,["contextWindowCompression"]);t!==void 0&&$!=null&&p(t,["setup","contextWindowCompression"],$);const Q=h(e,["proactivity"]);if(t!==void 0&&Q!=null&&p(t,["setup","proactivity"],Q),h(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function iI(e,t){const i={},s=h(e,["generationConfig"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig"],$2(s));const a=h(e,["responseModalities"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","responseModalities"],a);const u=h(e,["temperature"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","temperature"],u);const d=h(e,["topP"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topP"],d);const m=h(e,["topK"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","topK"],m);const y=h(e,["maxOutputTokens"]);t!==void 0&&y!=null&&p(t,["setup","generationConfig","maxOutputTokens"],y);const g=h(e,["mediaResolution"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","mediaResolution"],g);const x=h(e,["seed"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","seed"],x);const w=h(e,["speechConfig"]);t!==void 0&&w!=null&&p(t,["setup","generationConfig","speechConfig"],Mp(w));const b=h(e,["thinkingConfig"]);t!==void 0&&b!=null&&p(t,["setup","generationConfig","thinkingConfig"],b);const M=h(e,["enableAffectiveDialog"]);t!==void 0&&M!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],M);const I=h(e,["systemInstruction"]);t!==void 0&&I!=null&&p(t,["setup","systemInstruction"],He(I));const P=h(e,["tools"]);if(t!==void 0&&P!=null){let nt=da(P);Array.isArray(nt)&&(nt=nt.map(rt=>mI(fa(rt)))),p(t,["setup","tools"],nt)}const k=h(e,["sessionResumption"]);t!==void 0&&k!=null&&p(t,["setup","sessionResumption"],k);const B=h(e,["inputAudioTranscription"]);t!==void 0&&B!=null&&p(t,["setup","inputAudioTranscription"],B);const Y=h(e,["outputAudioTranscription"]);t!==void 0&&Y!=null&&p(t,["setup","outputAudioTranscription"],Y);const z=h(e,["realtimeInputConfig"]);t!==void 0&&z!=null&&p(t,["setup","realtimeInputConfig"],z);const $=h(e,["contextWindowCompression"]);t!==void 0&&$!=null&&p(t,["setup","contextWindowCompression"],$);const Q=h(e,["proactivity"]);t!==void 0&&Q!=null&&p(t,["setup","proactivity"],Q);const V=h(e,["explicitVadSignal"]);return t!==void 0&&V!=null&&p(t,["setup","explicitVadSignal"],V),i}function oI(e,t){const i={},s=h(t,["model"]);s!=null&&p(i,["setup","model"],Qt(e,s));const a=h(t,["config"]);return a!=null&&p(i,["config"],nI(a,i)),i}function sI(e,t){const i={},s=h(t,["model"]);s!=null&&p(i,["setup","model"],Qt(e,s));const a=h(t,["config"]);return a!=null&&p(i,["config"],iI(a,i)),i}function rI(e){const t={},i=h(e,["musicGenerationConfig"]);return i!=null&&p(t,["musicGenerationConfig"],i),t}function aI(e){const t={},i=h(e,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),p(t,["weightedPrompts"],s)}return t}function lI(e){const t={},i=h(e,["media"]);if(i!=null){let g=BS(i);Array.isArray(g)&&(g=g.map(x=>Hc(x))),p(t,["mediaChunks"],g)}const s=h(e,["audio"]);s!=null&&p(t,["audio"],Hc(HS(s)));const a=h(e,["audioStreamEnd"]);a!=null&&p(t,["audioStreamEnd"],a);const u=h(e,["video"]);u!=null&&p(t,["video"],Hc(zS(u)));const d=h(e,["text"]);d!=null&&p(t,["text"],d);const m=h(e,["activityStart"]);m!=null&&p(t,["activityStart"],m);const y=h(e,["activityEnd"]);return y!=null&&p(t,["activityEnd"],y),t}function uI(e){const t={},i=h(e,["media"]);if(i!=null){let g=BS(i);Array.isArray(g)&&(g=g.map(x=>x)),p(t,["mediaChunks"],g)}const s=h(e,["audio"]);s!=null&&p(t,["audio"],HS(s));const a=h(e,["audioStreamEnd"]);a!=null&&p(t,["audioStreamEnd"],a);const u=h(e,["video"]);u!=null&&p(t,["video"],zS(u));const d=h(e,["text"]);d!=null&&p(t,["text"],d);const m=h(e,["activityStart"]);m!=null&&p(t,["activityStart"],m);const y=h(e,["activityEnd"]);return y!=null&&p(t,["activityEnd"],y),t}function cI(e){const t={},i=h(e,["setupComplete"]);i!=null&&p(t,["setupComplete"],i);const s=h(e,["serverContent"]);s!=null&&p(t,["serverContent"],s);const a=h(e,["toolCall"]);a!=null&&p(t,["toolCall"],a);const u=h(e,["toolCallCancellation"]);u!=null&&p(t,["toolCallCancellation"],u);const d=h(e,["usageMetadata"]);d!=null&&p(t,["usageMetadata"],pI(d));const m=h(e,["goAway"]);m!=null&&p(t,["goAway"],m);const y=h(e,["sessionResumptionUpdate"]);y!=null&&p(t,["sessionResumptionUpdate"],y);const g=h(e,["voiceActivityDetectionSignal"]);g!=null&&p(t,["voiceActivityDetectionSignal"],g);const x=h(e,["voiceActivity"]);return x!=null&&p(t,["voiceActivity"],gI(x)),t}function fI(e){const t={},i=h(e,["mediaResolution"]);i!=null&&p(t,["mediaResolution"],i);const s=h(e,["codeExecutionResult"]);s!=null&&p(t,["codeExecutionResult"],s);const a=h(e,["executableCode"]);a!=null&&p(t,["executableCode"],a);const u=h(e,["fileData"]);u!=null&&p(t,["fileData"],X2(u));const d=h(e,["functionCall"]);d!=null&&p(t,["functionCall"],W2(d));const m=h(e,["functionResponse"]);m!=null&&p(t,["functionResponse"],m);const y=h(e,["inlineData"]);y!=null&&p(t,["inlineData"],Hc(y));const g=h(e,["text"]);g!=null&&p(t,["text"],g);const x=h(e,["thought"]);x!=null&&p(t,["thought"],x);const w=h(e,["thoughtSignature"]);w!=null&&p(t,["thoughtSignature"],w);const b=h(e,["videoMetadata"]);return b!=null&&p(t,["videoMetadata"],b),t}function dI(e){const t={},i=h(e,["handle"]);if(i!=null&&p(t,["handle"],i),h(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function hI(e){const t={};if(h(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(e,["computerUse"]);i!=null&&p(t,["computerUse"],i);const s=h(e,["fileSearch"]);s!=null&&p(t,["fileSearch"],s);const a=h(e,["codeExecution"]);if(a!=null&&p(t,["codeExecution"],a),h(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(e,["functionDeclarations"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(w=>w)),p(t,["functionDeclarations"],x)}const d=h(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],tI(d));const m=h(e,["googleSearch"]);m!=null&&p(t,["googleSearch"],eI(m));const y=h(e,["googleSearchRetrieval"]);y!=null&&p(t,["googleSearchRetrieval"],y);const g=h(e,["urlContext"]);return g!=null&&p(t,["urlContext"],g),t}function mI(e){const t={},i=h(e,["retrieval"]);i!=null&&p(t,["retrieval"],i);const s=h(e,["computerUse"]);if(s!=null&&p(t,["computerUse"],s),h(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=h(e,["codeExecution"]);a!=null&&p(t,["codeExecution"],a);const u=h(e,["enterpriseWebSearch"]);u!=null&&p(t,["enterpriseWebSearch"],u);const d=h(e,["functionDeclarations"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(b=>Q2(b))),p(t,["functionDeclarations"],w)}const m=h(e,["googleMaps"]);m!=null&&p(t,["googleMaps"],m);const y=h(e,["googleSearch"]);y!=null&&p(t,["googleSearch"],y);const g=h(e,["googleSearchRetrieval"]);g!=null&&p(t,["googleSearchRetrieval"],g);const x=h(e,["urlContext"]);return x!=null&&p(t,["urlContext"],x),t}function pI(e){const t={},i=h(e,["promptTokenCount"]);i!=null&&p(t,["promptTokenCount"],i);const s=h(e,["cachedContentTokenCount"]);s!=null&&p(t,["cachedContentTokenCount"],s);const a=h(e,["candidatesTokenCount"]);a!=null&&p(t,["responseTokenCount"],a);const u=h(e,["toolUsePromptTokenCount"]);u!=null&&p(t,["toolUsePromptTokenCount"],u);const d=h(e,["thoughtsTokenCount"]);d!=null&&p(t,["thoughtsTokenCount"],d);const m=h(e,["totalTokenCount"]);m!=null&&p(t,["totalTokenCount"],m);const y=h(e,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(I=>I)),p(t,["promptTokensDetails"],M)}const g=h(e,["cacheTokensDetails"]);if(g!=null){let M=g;Array.isArray(M)&&(M=M.map(I=>I)),p(t,["cacheTokensDetails"],M)}const x=h(e,["candidatesTokensDetails"]);if(x!=null){let M=x;Array.isArray(M)&&(M=M.map(I=>I)),p(t,["responseTokensDetails"],M)}const w=h(e,["toolUsePromptTokensDetails"]);if(w!=null){let M=w;Array.isArray(M)&&(M=M.map(I=>I)),p(t,["toolUsePromptTokensDetails"],M)}const b=h(e,["trafficType"]);return b!=null&&p(t,["trafficType"],b),t}function gI(e){const t={},i=h(e,["type"]);return i!=null&&p(t,["voiceActivityType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yI(e,t){const i={},s=h(e,["data"]);if(s!=null&&p(i,["data"],s),h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=h(e,["mimeType"]);return a!=null&&p(i,["mimeType"],a),i}function vI(e,t){const i={},s=h(e,["content"]);s!=null&&p(i,["content"],s);const a=h(e,["citationMetadata"]);a!=null&&p(i,["citationMetadata"],_I(a));const u=h(e,["tokenCount"]);u!=null&&p(i,["tokenCount"],u);const d=h(e,["finishReason"]);d!=null&&p(i,["finishReason"],d);const m=h(e,["avgLogprobs"]);m!=null&&p(i,["avgLogprobs"],m);const y=h(e,["groundingMetadata"]);y!=null&&p(i,["groundingMetadata"],y);const g=h(e,["index"]);g!=null&&p(i,["index"],g);const x=h(e,["logprobsResult"]);x!=null&&p(i,["logprobsResult"],x);const w=h(e,["safetyRatings"]);if(w!=null){let M=w;Array.isArray(M)&&(M=M.map(I=>I)),p(i,["safetyRatings"],M)}const b=h(e,["urlContextMetadata"]);return b!=null&&p(i,["urlContextMetadata"],b),i}function _I(e,t){const i={},s=h(e,["citationSources"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),p(i,["citations"],a)}return i}function xI(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["contents"]);if(u!=null){let d=Ln(u);Array.isArray(d)&&(d=d.map(m=>m)),p(s,["contents"],d)}return s}function TI(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["tokensInfo"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),p(i,["tokensInfo"],u)}return i}function SI(e,t){const i={},s=h(e,["values"]);s!=null&&p(i,["values"],s);const a=h(e,["statistics"]);return a!=null&&p(i,["statistics"],EI(a)),i}function EI(e,t){const i={},s=h(e,["truncated"]);s!=null&&p(i,["truncated"],s);const a=h(e,["token_count"]);return a!=null&&p(i,["tokenCount"],a),i}function jl(e,t){const i={},s=h(e,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>PP(d))),p(i,["parts"],u)}const a=h(e,["role"]);return a!=null&&p(i,["role"],a),i}function wI(e,t){const i={},s=h(e,["controlType"]);s!=null&&p(i,["controlType"],s);const a=h(e,["enableControlImageComputation"]);return a!=null&&p(i,["computeControl"],a),i}function bI(e,t){const i={};if(h(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return i}function CI(e,t,i){const s={},a=h(e,["systemInstruction"]);t!==void 0&&a!=null&&p(t,["systemInstruction"],He(a));const u=h(e,["tools"]);if(t!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>eE(y))),p(t,["tools"],m)}const d=h(e,["generationConfig"]);return t!==void 0&&d!=null&&p(t,["generationConfig"],yP(d)),s}function AI(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["contents"]);if(u!=null){let m=Ln(u);Array.isArray(m)&&(m=m.map(y=>jl(y))),p(s,["contents"],m)}const d=h(t,["config"]);return d!=null&&bI(d),s}function MI(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["contents"]);if(u!=null){let m=Ln(u);Array.isArray(m)&&(m=m.map(y=>y)),p(s,["contents"],m)}const d=h(t,["config"]);return d!=null&&CI(d,s),s}function NI(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["totalTokens"]);a!=null&&p(i,["totalTokens"],a);const u=h(e,["cachedContentTokenCount"]);return u!=null&&p(i,["cachedContentTokenCount"],u),i}function RI(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["totalTokens"]);return a!=null&&p(i,["totalTokens"],a),i}function II(e,t,i){const s={},a=h(t,["model"]);return a!=null&&p(s,["_url","name"],Qt(e,a)),s}function PI(e,t,i){const s={},a=h(t,["model"]);return a!=null&&p(s,["_url","name"],Qt(e,a)),s}function kI(e,t){const i={},s=h(e,["sdkHttpResponse"]);return s!=null&&p(i,["sdkHttpResponse"],s),i}function LI(e,t){const i={},s=h(e,["sdkHttpResponse"]);return s!=null&&p(i,["sdkHttpResponse"],s),i}function DI(e,t,i){const s={},a=h(e,["outputGcsUri"]);t!==void 0&&a!=null&&p(t,["parameters","storageUri"],a);const u=h(e,["negativePrompt"]);t!==void 0&&u!=null&&p(t,["parameters","negativePrompt"],u);const d=h(e,["numberOfImages"]);t!==void 0&&d!=null&&p(t,["parameters","sampleCount"],d);const m=h(e,["aspectRatio"]);t!==void 0&&m!=null&&p(t,["parameters","aspectRatio"],m);const y=h(e,["guidanceScale"]);t!==void 0&&y!=null&&p(t,["parameters","guidanceScale"],y);const g=h(e,["seed"]);t!==void 0&&g!=null&&p(t,["parameters","seed"],g);const x=h(e,["safetyFilterLevel"]);t!==void 0&&x!=null&&p(t,["parameters","safetySetting"],x);const w=h(e,["personGeneration"]);t!==void 0&&w!=null&&p(t,["parameters","personGeneration"],w);const b=h(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&p(t,["parameters","includeSafetyAttributes"],b);const M=h(e,["includeRaiReason"]);t!==void 0&&M!=null&&p(t,["parameters","includeRaiReason"],M);const I=h(e,["language"]);t!==void 0&&I!=null&&p(t,["parameters","language"],I);const P=h(e,["outputMimeType"]);t!==void 0&&P!=null&&p(t,["parameters","outputOptions","mimeType"],P);const k=h(e,["outputCompressionQuality"]);t!==void 0&&k!=null&&p(t,["parameters","outputOptions","compressionQuality"],k);const B=h(e,["addWatermark"]);t!==void 0&&B!=null&&p(t,["parameters","addWatermark"],B);const Y=h(e,["labels"]);t!==void 0&&Y!=null&&p(t,["labels"],Y);const z=h(e,["editMode"]);t!==void 0&&z!=null&&p(t,["parameters","editMode"],z);const $=h(e,["baseSteps"]);return t!==void 0&&$!=null&&p(t,["parameters","editConfig","baseSteps"],$),s}function UI(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["prompt"]);u!=null&&p(s,["instances[0]","prompt"],u);const d=h(t,["referenceImages"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(g=>VP(g))),p(s,["instances[0]","referenceImages"],y)}const m=h(t,["config"]);return m!=null&&DI(m,s),s}function OI(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>hf(d))),p(i,["generatedImages"],u)}return i}function VI(e,t,i){const s={},a=h(e,["taskType"]);t!==void 0&&a!=null&&p(t,["requests[]","taskType"],a);const u=h(e,["title"]);t!==void 0&&u!=null&&p(t,["requests[]","title"],u);const d=h(e,["outputDimensionality"]);if(t!==void 0&&d!=null&&p(t,["requests[]","outputDimensionality"],d),h(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function BI(e,t,i){const s={};let a=h(i,["embeddingApiType"]);if(a===void 0&&(a="PREDICT"),a==="PREDICT"){const g=h(e,["taskType"]);t!==void 0&&g!=null&&p(t,["instances[]","task_type"],g)}else if(a==="EMBED_CONTENT"){const g=h(e,["taskType"]);t!==void 0&&g!=null&&p(t,["taskType"],g)}let u=h(i,["embeddingApiType"]);if(u===void 0&&(u="PREDICT"),u==="PREDICT"){const g=h(e,["title"]);t!==void 0&&g!=null&&p(t,["instances[]","title"],g)}else if(u==="EMBED_CONTENT"){const g=h(e,["title"]);t!==void 0&&g!=null&&p(t,["title"],g)}let d=h(i,["embeddingApiType"]);if(d===void 0&&(d="PREDICT"),d==="PREDICT"){const g=h(e,["outputDimensionality"]);t!==void 0&&g!=null&&p(t,["parameters","outputDimensionality"],g)}else if(d==="EMBED_CONTENT"){const g=h(e,["outputDimensionality"]);t!==void 0&&g!=null&&p(t,["outputDimensionality"],g)}let m=h(i,["embeddingApiType"]);if(m===void 0&&(m="PREDICT"),m==="PREDICT"){const g=h(e,["mimeType"]);t!==void 0&&g!=null&&p(t,["instances[]","mimeType"],g)}let y=h(i,["embeddingApiType"]);if(y===void 0&&(y="PREDICT"),y==="PREDICT"){const g=h(e,["autoTruncate"]);t!==void 0&&g!=null&&p(t,["parameters","autoTruncate"],g)}else if(y==="EMBED_CONTENT"){const g=h(e,["autoTruncate"]);t!==void 0&&g!=null&&p(t,["autoTruncate"],g)}return s}function zI(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["contents"]);if(u!=null){let g=bp(e,u);Array.isArray(g)&&(g=g.map(x=>x)),p(s,["requests[]","content"],g)}const d=h(t,["content"]);d!=null&&jl(He(d));const m=h(t,["config"]);m!=null&&VI(m,s);const y=h(t,["model"]);return y!==void 0&&p(s,["requests[]","model"],Qt(e,y)),s}function HI(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));let u=h(i,["embeddingApiType"]);if(u===void 0&&(u="PREDICT"),u==="PREDICT"){const y=h(t,["contents"]);if(y!=null){let g=bp(e,y);Array.isArray(g)&&(g=g.map(x=>x)),p(s,["instances[]","content"],g)}}let d=h(i,["embeddingApiType"]);if(d===void 0&&(d="PREDICT"),d==="EMBED_CONTENT"){const y=h(t,["content"]);y!=null&&p(s,["content"],He(y))}const m=h(t,["config"]);return m!=null&&BI(m,s,i),s}function GI(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>m)),p(i,["embeddings"],d)}const u=h(e,["metadata"]);return u!=null&&p(i,["metadata"],u),i}function qI(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>SI(m))),p(i,["embeddings"],d)}const u=h(e,["metadata"]);if(u!=null&&p(i,["metadata"],u),t&&h(t,["embeddingApiType"])==="EMBED_CONTENT"){const d=h(e,["embedding"]),m=h(e,["usageMetadata"]),y=h(e,["truncated"]);if(d){const g={};m&&m.promptTokenCount&&(g.tokenCount=m.promptTokenCount),y&&(g.truncated=y),d.statistics=g,p(i,["embeddings"],[d])}}return i}function FI(e,t){const i={},s=h(e,["endpoint"]);s!=null&&p(i,["name"],s);const a=h(e,["deployedModelId"]);return a!=null&&p(i,["deployedModelId"],a),i}function ZI(e,t){const i={};if(h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=h(e,["fileUri"]);s!=null&&p(i,["fileUri"],s);const a=h(e,["mimeType"]);return a!=null&&p(i,["mimeType"],a),i}function YI(e,t){const i={},s=h(e,["id"]);s!=null&&p(i,["id"],s);const a=h(e,["args"]);a!=null&&p(i,["args"],a);const u=h(e,["name"]);if(u!=null&&p(i,["name"],u),h(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return i}function JI(e,t){const i={},s=h(e,["allowedFunctionNames"]);s!=null&&p(i,["allowedFunctionNames"],s);const a=h(e,["mode"]);if(a!=null&&p(i,["mode"],a),h(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return i}function KI(e,t){const i={},s=h(e,["description"]);s!=null&&p(i,["description"],s);const a=h(e,["name"]);a!=null&&p(i,["name"],a);const u=h(e,["parameters"]);u!=null&&p(i,["parameters"],u);const d=h(e,["parametersJsonSchema"]);d!=null&&p(i,["parametersJsonSchema"],d);const m=h(e,["response"]);m!=null&&p(i,["response"],m);const y=h(e,["responseJsonSchema"]);if(y!=null&&p(i,["responseJsonSchema"],y),h(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return i}function jI(e,t,i,s){const a={},u=h(t,["systemInstruction"]);i!==void 0&&u!=null&&p(i,["systemInstruction"],jl(He(u)));const d=h(t,["temperature"]);d!=null&&p(a,["temperature"],d);const m=h(t,["topP"]);m!=null&&p(a,["topP"],m);const y=h(t,["topK"]);y!=null&&p(a,["topK"],y);const g=h(t,["candidateCount"]);g!=null&&p(a,["candidateCount"],g);const x=h(t,["maxOutputTokens"]);x!=null&&p(a,["maxOutputTokens"],x);const w=h(t,["stopSequences"]);w!=null&&p(a,["stopSequences"],w);const b=h(t,["responseLogprobs"]);b!=null&&p(a,["responseLogprobs"],b);const M=h(t,["logprobs"]);M!=null&&p(a,["logprobs"],M);const I=h(t,["presencePenalty"]);I!=null&&p(a,["presencePenalty"],I);const P=h(t,["frequencyPenalty"]);P!=null&&p(a,["frequencyPenalty"],P);const k=h(t,["seed"]);k!=null&&p(a,["seed"],k);const B=h(t,["responseMimeType"]);B!=null&&p(a,["responseMimeType"],B);const Y=h(t,["responseSchema"]);Y!=null&&p(a,["responseSchema"],Cp(Y));const z=h(t,["responseJsonSchema"]);if(z!=null&&p(a,["responseJsonSchema"],z),h(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const $=h(t,["safetySettings"]);if(i!==void 0&&$!=null){let K=$;Array.isArray(K)&&(K=K.map(ft=>BP(ft))),p(i,["safetySettings"],K)}const Q=h(t,["tools"]);if(i!==void 0&&Q!=null){let K=da(Q);Array.isArray(K)&&(K=K.map(ft=>YP(fa(ft)))),p(i,["tools"],K)}const V=h(t,["toolConfig"]);if(i!==void 0&&V!=null&&p(i,["toolConfig"],ZP(V)),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const nt=h(t,["cachedContent"]);i!==void 0&&nt!=null&&p(i,["cachedContent"],lo(e,nt));const rt=h(t,["responseModalities"]);rt!=null&&p(a,["responseModalities"],rt);const ct=h(t,["mediaResolution"]);ct!=null&&p(a,["mediaResolution"],ct);const Tt=h(t,["speechConfig"]);if(Tt!=null&&p(a,["speechConfig"],Ap(Tt)),h(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const dt=h(t,["thinkingConfig"]);dt!=null&&p(a,["thinkingConfig"],dt);const _t=h(t,["imageConfig"]);_t!=null&&p(a,["imageConfig"],SP(_t));const ht=h(t,["enableEnhancedCivicAnswers"]);if(ht!=null&&p(a,["enableEnhancedCivicAnswers"],ht),h(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function XI(e,t,i,s){const a={},u=h(t,["systemInstruction"]);i!==void 0&&u!=null&&p(i,["systemInstruction"],He(u));const d=h(t,["temperature"]);d!=null&&p(a,["temperature"],d);const m=h(t,["topP"]);m!=null&&p(a,["topP"],m);const y=h(t,["topK"]);y!=null&&p(a,["topK"],y);const g=h(t,["candidateCount"]);g!=null&&p(a,["candidateCount"],g);const x=h(t,["maxOutputTokens"]);x!=null&&p(a,["maxOutputTokens"],x);const w=h(t,["stopSequences"]);w!=null&&p(a,["stopSequences"],w);const b=h(t,["responseLogprobs"]);b!=null&&p(a,["responseLogprobs"],b);const M=h(t,["logprobs"]);M!=null&&p(a,["logprobs"],M);const I=h(t,["presencePenalty"]);I!=null&&p(a,["presencePenalty"],I);const P=h(t,["frequencyPenalty"]);P!=null&&p(a,["frequencyPenalty"],P);const k=h(t,["seed"]);k!=null&&p(a,["seed"],k);const B=h(t,["responseMimeType"]);B!=null&&p(a,["responseMimeType"],B);const Y=h(t,["responseSchema"]);Y!=null&&p(a,["responseSchema"],Cp(Y));const z=h(t,["responseJsonSchema"]);z!=null&&p(a,["responseJsonSchema"],z);const $=h(t,["routingConfig"]);$!=null&&p(a,["routingConfig"],$);const Q=h(t,["modelSelectionConfig"]);Q!=null&&p(a,["modelConfig"],Q);const V=h(t,["safetySettings"]);if(i!==void 0&&V!=null){let W=V;Array.isArray(W)&&(W=W.map(yt=>yt)),p(i,["safetySettings"],W)}const nt=h(t,["tools"]);if(i!==void 0&&nt!=null){let W=da(nt);Array.isArray(W)&&(W=W.map(yt=>eE(fa(yt)))),p(i,["tools"],W)}const rt=h(t,["toolConfig"]);i!==void 0&&rt!=null&&p(i,["toolConfig"],rt);const ct=h(t,["labels"]);i!==void 0&&ct!=null&&p(i,["labels"],ct);const Tt=h(t,["cachedContent"]);i!==void 0&&Tt!=null&&p(i,["cachedContent"],lo(e,Tt));const dt=h(t,["responseModalities"]);dt!=null&&p(a,["responseModalities"],dt);const _t=h(t,["mediaResolution"]);_t!=null&&p(a,["mediaResolution"],_t);const ht=h(t,["speechConfig"]);ht!=null&&p(a,["speechConfig"],Ap(ht));const K=h(t,["audioTimestamp"]);K!=null&&p(a,["audioTimestamp"],K);const ft=h(t,["thinkingConfig"]);ft!=null&&p(a,["thinkingConfig"],ft);const G=h(t,["imageConfig"]);if(G!=null&&p(a,["imageConfig"],EP(G)),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const J=h(t,["modelArmorConfig"]);return i!==void 0&&J!=null&&p(i,["modelArmorConfig"],J),a}function Sx(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["contents"]);if(u!=null){let m=Ln(u);Array.isArray(m)&&(m=m.map(y=>jl(y))),p(s,["contents"],m)}const d=h(t,["config"]);return d!=null&&p(s,["generationConfig"],jI(e,d,s)),s}function Ex(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["contents"]);if(u!=null){let m=Ln(u);Array.isArray(m)&&(m=m.map(y=>y)),p(s,["contents"],m)}const d=h(t,["config"]);return d!=null&&p(s,["generationConfig"],XI(e,d,s)),s}function wx(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(x=>vI(x))),p(i,["candidates"],g)}const u=h(e,["modelVersion"]);u!=null&&p(i,["modelVersion"],u);const d=h(e,["promptFeedback"]);d!=null&&p(i,["promptFeedback"],d);const m=h(e,["responseId"]);m!=null&&p(i,["responseId"],m);const y=h(e,["usageMetadata"]);return y!=null&&p(i,["usageMetadata"],y),i}function bx(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["candidates"]);if(a!=null){let x=a;Array.isArray(x)&&(x=x.map(w=>w)),p(i,["candidates"],x)}const u=h(e,["createTime"]);u!=null&&p(i,["createTime"],u);const d=h(e,["modelVersion"]);d!=null&&p(i,["modelVersion"],d);const m=h(e,["promptFeedback"]);m!=null&&p(i,["promptFeedback"],m);const y=h(e,["responseId"]);y!=null&&p(i,["responseId"],y);const g=h(e,["usageMetadata"]);return g!=null&&p(i,["usageMetadata"],g),i}function WI(e,t,i){const s={};if(h(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=h(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const u=h(e,["aspectRatio"]);t!==void 0&&u!=null&&p(t,["parameters","aspectRatio"],u);const d=h(e,["guidanceScale"]);if(t!==void 0&&d!=null&&p(t,["parameters","guidanceScale"],d),h(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=h(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&p(t,["parameters","safetySetting"],m);const y=h(e,["personGeneration"]);t!==void 0&&y!=null&&p(t,["parameters","personGeneration"],y);const g=h(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&p(t,["parameters","includeSafetyAttributes"],g);const x=h(e,["includeRaiReason"]);t!==void 0&&x!=null&&p(t,["parameters","includeRaiReason"],x);const w=h(e,["language"]);t!==void 0&&w!=null&&p(t,["parameters","language"],w);const b=h(e,["outputMimeType"]);t!==void 0&&b!=null&&p(t,["parameters","outputOptions","mimeType"],b);const M=h(e,["outputCompressionQuality"]);if(t!==void 0&&M!=null&&p(t,["parameters","outputOptions","compressionQuality"],M),h(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=h(e,["imageSize"]);if(t!==void 0&&I!=null&&p(t,["parameters","sampleImageSize"],I),h(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function QI(e,t,i){const s={},a=h(e,["outputGcsUri"]);t!==void 0&&a!=null&&p(t,["parameters","storageUri"],a);const u=h(e,["negativePrompt"]);t!==void 0&&u!=null&&p(t,["parameters","negativePrompt"],u);const d=h(e,["numberOfImages"]);t!==void 0&&d!=null&&p(t,["parameters","sampleCount"],d);const m=h(e,["aspectRatio"]);t!==void 0&&m!=null&&p(t,["parameters","aspectRatio"],m);const y=h(e,["guidanceScale"]);t!==void 0&&y!=null&&p(t,["parameters","guidanceScale"],y);const g=h(e,["seed"]);t!==void 0&&g!=null&&p(t,["parameters","seed"],g);const x=h(e,["safetyFilterLevel"]);t!==void 0&&x!=null&&p(t,["parameters","safetySetting"],x);const w=h(e,["personGeneration"]);t!==void 0&&w!=null&&p(t,["parameters","personGeneration"],w);const b=h(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&p(t,["parameters","includeSafetyAttributes"],b);const M=h(e,["includeRaiReason"]);t!==void 0&&M!=null&&p(t,["parameters","includeRaiReason"],M);const I=h(e,["language"]);t!==void 0&&I!=null&&p(t,["parameters","language"],I);const P=h(e,["outputMimeType"]);t!==void 0&&P!=null&&p(t,["parameters","outputOptions","mimeType"],P);const k=h(e,["outputCompressionQuality"]);t!==void 0&&k!=null&&p(t,["parameters","outputOptions","compressionQuality"],k);const B=h(e,["addWatermark"]);t!==void 0&&B!=null&&p(t,["parameters","addWatermark"],B);const Y=h(e,["labels"]);t!==void 0&&Y!=null&&p(t,["labels"],Y);const z=h(e,["imageSize"]);t!==void 0&&z!=null&&p(t,["parameters","sampleImageSize"],z);const $=h(e,["enhancePrompt"]);return t!==void 0&&$!=null&&p(t,["parameters","enhancePrompt"],$),s}function $I(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["prompt"]);u!=null&&p(s,["instances[0]","prompt"],u);const d=h(t,["config"]);return d!=null&&WI(d,s),s}function tP(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["prompt"]);u!=null&&p(s,["instances[0]","prompt"],u);const d=h(t,["config"]);return d!=null&&QI(d,s),s}function eP(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>hP(m))),p(i,["generatedImages"],d)}const u=h(e,["positivePromptSafetyAttributes"]);return u!=null&&p(i,["positivePromptSafetyAttributes"],$S(u)),i}function nP(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(m=>hf(m))),p(i,["generatedImages"],d)}const u=h(e,["positivePromptSafetyAttributes"]);return u!=null&&p(i,["positivePromptSafetyAttributes"],tE(u)),i}function iP(e,t,i){const s={},a=h(e,["numberOfVideos"]);if(t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a),h(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=h(e,["durationSeconds"]);if(t!==void 0&&u!=null&&p(t,["parameters","durationSeconds"],u),h(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=h(e,["aspectRatio"]);t!==void 0&&d!=null&&p(t,["parameters","aspectRatio"],d);const m=h(e,["resolution"]);t!==void 0&&m!=null&&p(t,["parameters","resolution"],m);const y=h(e,["personGeneration"]);if(t!==void 0&&y!=null&&p(t,["parameters","personGeneration"],y),h(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=h(e,["negativePrompt"]);t!==void 0&&g!=null&&p(t,["parameters","negativePrompt"],g);const x=h(e,["enhancePrompt"]);if(t!==void 0&&x!=null&&p(t,["parameters","enhancePrompt"],x),h(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const w=h(e,["lastFrame"]);t!==void 0&&w!=null&&p(t,["instances[0]","lastFrame"],mf(w));const b=h(e,["referenceImages"]);if(t!==void 0&&b!=null){let M=b;Array.isArray(M)&&(M=M.map(I=>sk(I))),p(t,["instances[0]","referenceImages"],M)}if(h(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function oP(e,t,i){const s={},a=h(e,["numberOfVideos"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const u=h(e,["outputGcsUri"]);t!==void 0&&u!=null&&p(t,["parameters","storageUri"],u);const d=h(e,["fps"]);t!==void 0&&d!=null&&p(t,["parameters","fps"],d);const m=h(e,["durationSeconds"]);t!==void 0&&m!=null&&p(t,["parameters","durationSeconds"],m);const y=h(e,["seed"]);t!==void 0&&y!=null&&p(t,["parameters","seed"],y);const g=h(e,["aspectRatio"]);t!==void 0&&g!=null&&p(t,["parameters","aspectRatio"],g);const x=h(e,["resolution"]);t!==void 0&&x!=null&&p(t,["parameters","resolution"],x);const w=h(e,["personGeneration"]);t!==void 0&&w!=null&&p(t,["parameters","personGeneration"],w);const b=h(e,["pubsubTopic"]);t!==void 0&&b!=null&&p(t,["parameters","pubsubTopic"],b);const M=h(e,["negativePrompt"]);t!==void 0&&M!=null&&p(t,["parameters","negativePrompt"],M);const I=h(e,["enhancePrompt"]);t!==void 0&&I!=null&&p(t,["parameters","enhancePrompt"],I);const P=h(e,["generateAudio"]);t!==void 0&&P!=null&&p(t,["parameters","generateAudio"],P);const k=h(e,["lastFrame"]);t!==void 0&&k!=null&&p(t,["instances[0]","lastFrame"],di(k));const B=h(e,["referenceImages"]);if(t!==void 0&&B!=null){let $=B;Array.isArray($)&&($=$.map(Q=>rk(Q))),p(t,["instances[0]","referenceImages"],$)}const Y=h(e,["mask"]);t!==void 0&&Y!=null&&p(t,["instances[0]","mask"],ok(Y));const z=h(e,["compressionQuality"]);return t!==void 0&&z!=null&&p(t,["parameters","compressionQuality"],z),s}function sP(e,t){const i={},s=h(e,["name"]);s!=null&&p(i,["name"],s);const a=h(e,["metadata"]);a!=null&&p(i,["metadata"],a);const u=h(e,["done"]);u!=null&&p(i,["done"],u);const d=h(e,["error"]);d!=null&&p(i,["error"],d);const m=h(e,["response","generateVideoResponse"]);return m!=null&&p(i,["response"],uP(m)),i}function rP(e,t){const i={},s=h(e,["name"]);s!=null&&p(i,["name"],s);const a=h(e,["metadata"]);a!=null&&p(i,["metadata"],a);const u=h(e,["done"]);u!=null&&p(i,["done"],u);const d=h(e,["error"]);d!=null&&p(i,["error"],d);const m=h(e,["response"]);return m!=null&&p(i,["response"],cP(m)),i}function aP(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["prompt"]);u!=null&&p(s,["instances[0]","prompt"],u);const d=h(t,["image"]);d!=null&&p(s,["instances[0]","image"],mf(d));const m=h(t,["video"]);m!=null&&p(s,["instances[0]","video"],nE(m));const y=h(t,["source"]);y!=null&&fP(y,s);const g=h(t,["config"]);return g!=null&&iP(g,s),s}function lP(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["prompt"]);u!=null&&p(s,["instances[0]","prompt"],u);const d=h(t,["image"]);d!=null&&p(s,["instances[0]","image"],di(d));const m=h(t,["video"]);m!=null&&p(s,["instances[0]","video"],iE(m));const y=h(t,["source"]);y!=null&&dP(y,s);const g=h(t,["config"]);return g!=null&&oP(g,s),s}function uP(e,t){const i={},s=h(e,["generatedSamples"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>pP(m))),p(i,["generatedVideos"],d)}const a=h(e,["raiMediaFilteredCount"]);a!=null&&p(i,["raiMediaFilteredCount"],a);const u=h(e,["raiMediaFilteredReasons"]);return u!=null&&p(i,["raiMediaFilteredReasons"],u),i}function cP(e,t){const i={},s=h(e,["videos"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(m=>gP(m))),p(i,["generatedVideos"],d)}const a=h(e,["raiMediaFilteredCount"]);a!=null&&p(i,["raiMediaFilteredCount"],a);const u=h(e,["raiMediaFilteredReasons"]);return u!=null&&p(i,["raiMediaFilteredReasons"],u),i}function fP(e,t,i){const s={},a=h(e,["prompt"]);t!==void 0&&a!=null&&p(t,["instances[0]","prompt"],a);const u=h(e,["image"]);t!==void 0&&u!=null&&p(t,["instances[0]","image"],mf(u));const d=h(e,["video"]);return t!==void 0&&d!=null&&p(t,["instances[0]","video"],nE(d)),s}function dP(e,t,i){const s={},a=h(e,["prompt"]);t!==void 0&&a!=null&&p(t,["instances[0]","prompt"],a);const u=h(e,["image"]);t!==void 0&&u!=null&&p(t,["instances[0]","image"],di(u));const d=h(e,["video"]);return t!==void 0&&d!=null&&p(t,["instances[0]","video"],iE(d)),s}function hP(e,t){const i={},s=h(e,["_self"]);s!=null&&p(i,["image"],wP(s));const a=h(e,["raiFilteredReason"]);a!=null&&p(i,["raiFilteredReason"],a);const u=h(e,["_self"]);return u!=null&&p(i,["safetyAttributes"],$S(u)),i}function hf(e,t){const i={},s=h(e,["_self"]);s!=null&&p(i,["image"],QS(s));const a=h(e,["raiFilteredReason"]);a!=null&&p(i,["raiFilteredReason"],a);const u=h(e,["_self"]);u!=null&&p(i,["safetyAttributes"],tE(u));const d=h(e,["prompt"]);return d!=null&&p(i,["enhancedPrompt"],d),i}function mP(e,t){const i={},s=h(e,["_self"]);s!=null&&p(i,["mask"],QS(s));const a=h(e,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),p(i,["labels"],u)}return i}function pP(e,t){const i={},s=h(e,["video"]);return s!=null&&p(i,["video"],nk(s)),i}function gP(e,t){const i={},s=h(e,["_self"]);return s!=null&&p(i,["video"],ik(s)),i}function yP(e,t){const i={},s=h(e,["modelSelectionConfig"]);s!=null&&p(i,["modelConfig"],s);const a=h(e,["responseJsonSchema"]);a!=null&&p(i,["responseJsonSchema"],a);const u=h(e,["audioTimestamp"]);u!=null&&p(i,["audioTimestamp"],u);const d=h(e,["candidateCount"]);d!=null&&p(i,["candidateCount"],d);const m=h(e,["enableAffectiveDialog"]);m!=null&&p(i,["enableAffectiveDialog"],m);const y=h(e,["frequencyPenalty"]);y!=null&&p(i,["frequencyPenalty"],y);const g=h(e,["logprobs"]);g!=null&&p(i,["logprobs"],g);const x=h(e,["maxOutputTokens"]);x!=null&&p(i,["maxOutputTokens"],x);const w=h(e,["mediaResolution"]);w!=null&&p(i,["mediaResolution"],w);const b=h(e,["presencePenalty"]);b!=null&&p(i,["presencePenalty"],b);const M=h(e,["responseLogprobs"]);M!=null&&p(i,["responseLogprobs"],M);const I=h(e,["responseMimeType"]);I!=null&&p(i,["responseMimeType"],I);const P=h(e,["responseModalities"]);P!=null&&p(i,["responseModalities"],P);const k=h(e,["responseSchema"]);k!=null&&p(i,["responseSchema"],k);const B=h(e,["routingConfig"]);B!=null&&p(i,["routingConfig"],B);const Y=h(e,["seed"]);Y!=null&&p(i,["seed"],Y);const z=h(e,["speechConfig"]);z!=null&&p(i,["speechConfig"],z);const $=h(e,["stopSequences"]);$!=null&&p(i,["stopSequences"],$);const Q=h(e,["temperature"]);Q!=null&&p(i,["temperature"],Q);const V=h(e,["thinkingConfig"]);V!=null&&p(i,["thinkingConfig"],V);const nt=h(e,["topK"]);nt!=null&&p(i,["topK"],nt);const rt=h(e,["topP"]);if(rt!=null&&p(i,["topP"],rt),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function vP(e,t,i){const s={},a=h(t,["model"]);return a!=null&&p(s,["_url","name"],Qt(e,a)),s}function _P(e,t,i){const s={},a=h(t,["model"]);return a!=null&&p(s,["_url","name"],Qt(e,a)),s}function xP(e,t){const i={};if(h(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=h(e,["enableWidget"]);return s!=null&&p(i,["enableWidget"],s),i}function TP(e,t){const i={};if(h(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=h(e,["timeRangeFilter"]);return s!=null&&p(i,["timeRangeFilter"],s),i}function SP(e,t){const i={},s=h(e,["aspectRatio"]);s!=null&&p(i,["aspectRatio"],s);const a=h(e,["imageSize"]);if(a!=null&&p(i,["imageSize"],a),h(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(h(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return i}function EP(e,t){const i={},s=h(e,["aspectRatio"]);s!=null&&p(i,["aspectRatio"],s);const a=h(e,["imageSize"]);a!=null&&p(i,["imageSize"],a);const u=h(e,["personGeneration"]);u!=null&&p(i,["personGeneration"],u);const d=h(e,["outputMimeType"]);d!=null&&p(i,["imageOutputOptions","mimeType"],d);const m=h(e,["outputCompressionQuality"]);return m!=null&&p(i,["imageOutputOptions","compressionQuality"],m),i}function wP(e,t){const i={},s=h(e,["bytesBase64Encoded"]);s!=null&&p(i,["imageBytes"],es(s));const a=h(e,["mimeType"]);return a!=null&&p(i,["mimeType"],a),i}function QS(e,t){const i={},s=h(e,["gcsUri"]);s!=null&&p(i,["gcsUri"],s);const a=h(e,["bytesBase64Encoded"]);a!=null&&p(i,["imageBytes"],es(a));const u=h(e,["mimeType"]);return u!=null&&p(i,["mimeType"],u),i}function mf(e,t){const i={};if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=h(e,["imageBytes"]);s!=null&&p(i,["bytesBase64Encoded"],es(s));const a=h(e,["mimeType"]);return a!=null&&p(i,["mimeType"],a),i}function di(e,t){const i={},s=h(e,["gcsUri"]);s!=null&&p(i,["gcsUri"],s);const a=h(e,["imageBytes"]);a!=null&&p(i,["bytesBase64Encoded"],es(a));const u=h(e,["mimeType"]);return u!=null&&p(i,["mimeType"],u),i}function bP(e,t,i,s){const a={},u=h(t,["pageSize"]);i!==void 0&&u!=null&&p(i,["_query","pageSize"],u);const d=h(t,["pageToken"]);i!==void 0&&d!=null&&p(i,["_query","pageToken"],d);const m=h(t,["filter"]);i!==void 0&&m!=null&&p(i,["_query","filter"],m);const y=h(t,["queryBase"]);return i!==void 0&&y!=null&&p(i,["_url","models_url"],ZS(e,y)),a}function CP(e,t,i,s){const a={},u=h(t,["pageSize"]);i!==void 0&&u!=null&&p(i,["_query","pageSize"],u);const d=h(t,["pageToken"]);i!==void 0&&d!=null&&p(i,["_query","pageToken"],d);const m=h(t,["filter"]);i!==void 0&&m!=null&&p(i,["_query","filter"],m);const y=h(t,["queryBase"]);return i!==void 0&&y!=null&&p(i,["_url","models_url"],ZS(e,y)),a}function AP(e,t,i){const s={},a=h(t,["config"]);return a!=null&&bP(e,a,s),s}function MP(e,t,i){const s={},a=h(t,["config"]);return a!=null&&CP(e,a,s),s}function NP(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["nextPageToken"]);a!=null&&p(i,["nextPageToken"],a);const u=h(e,["_self"]);if(u!=null){let d=YS(u);Array.isArray(d)&&(d=d.map(m=>Rm(m))),p(i,["models"],d)}return i}function RP(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["nextPageToken"]);a!=null&&p(i,["nextPageToken"],a);const u=h(e,["_self"]);if(u!=null){let d=YS(u);Array.isArray(d)&&(d=d.map(m=>Im(m))),p(i,["models"],d)}return i}function IP(e,t){const i={},s=h(e,["maskMode"]);s!=null&&p(i,["maskMode"],s);const a=h(e,["segmentationClasses"]);a!=null&&p(i,["maskClasses"],a);const u=h(e,["maskDilation"]);return u!=null&&p(i,["dilation"],u),i}function Rm(e,t){const i={},s=h(e,["name"]);s!=null&&p(i,["name"],s);const a=h(e,["displayName"]);a!=null&&p(i,["displayName"],a);const u=h(e,["description"]);u!=null&&p(i,["description"],u);const d=h(e,["version"]);d!=null&&p(i,["version"],d);const m=h(e,["_self"]);m!=null&&p(i,["tunedModelInfo"],JP(m));const y=h(e,["inputTokenLimit"]);y!=null&&p(i,["inputTokenLimit"],y);const g=h(e,["outputTokenLimit"]);g!=null&&p(i,["outputTokenLimit"],g);const x=h(e,["supportedGenerationMethods"]);x!=null&&p(i,["supportedActions"],x);const w=h(e,["temperature"]);w!=null&&p(i,["temperature"],w);const b=h(e,["maxTemperature"]);b!=null&&p(i,["maxTemperature"],b);const M=h(e,["topP"]);M!=null&&p(i,["topP"],M);const I=h(e,["topK"]);I!=null&&p(i,["topK"],I);const P=h(e,["thinking"]);return P!=null&&p(i,["thinking"],P),i}function Im(e,t){const i={},s=h(e,["name"]);s!=null&&p(i,["name"],s);const a=h(e,["displayName"]);a!=null&&p(i,["displayName"],a);const u=h(e,["description"]);u!=null&&p(i,["description"],u);const d=h(e,["versionId"]);d!=null&&p(i,["version"],d);const m=h(e,["deployedModels"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(M=>FI(M))),p(i,["endpoints"],b)}const y=h(e,["labels"]);y!=null&&p(i,["labels"],y);const g=h(e,["_self"]);g!=null&&p(i,["tunedModelInfo"],KP(g));const x=h(e,["defaultCheckpointId"]);x!=null&&p(i,["defaultCheckpointId"],x);const w=h(e,["checkpoints"]);if(w!=null){let b=w;Array.isArray(b)&&(b=b.map(M=>M)),p(i,["checkpoints"],b)}return i}function PP(e,t){const i={},s=h(e,["mediaResolution"]);s!=null&&p(i,["mediaResolution"],s);const a=h(e,["codeExecutionResult"]);a!=null&&p(i,["codeExecutionResult"],a);const u=h(e,["executableCode"]);u!=null&&p(i,["executableCode"],u);const d=h(e,["fileData"]);d!=null&&p(i,["fileData"],ZI(d));const m=h(e,["functionCall"]);m!=null&&p(i,["functionCall"],YI(m));const y=h(e,["functionResponse"]);y!=null&&p(i,["functionResponse"],y);const g=h(e,["inlineData"]);g!=null&&p(i,["inlineData"],yI(g));const x=h(e,["text"]);x!=null&&p(i,["text"],x);const w=h(e,["thought"]);w!=null&&p(i,["thought"],w);const b=h(e,["thoughtSignature"]);b!=null&&p(i,["thoughtSignature"],b);const M=h(e,["videoMetadata"]);return M!=null&&p(i,["videoMetadata"],M),i}function kP(e,t){const i={},s=h(e,["productImage"]);return s!=null&&p(i,["image"],di(s)),i}function LP(e,t,i){const s={},a=h(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const u=h(e,["baseSteps"]);t!==void 0&&u!=null&&p(t,["parameters","baseSteps"],u);const d=h(e,["outputGcsUri"]);t!==void 0&&d!=null&&p(t,["parameters","storageUri"],d);const m=h(e,["seed"]);t!==void 0&&m!=null&&p(t,["parameters","seed"],m);const y=h(e,["safetyFilterLevel"]);t!==void 0&&y!=null&&p(t,["parameters","safetySetting"],y);const g=h(e,["personGeneration"]);t!==void 0&&g!=null&&p(t,["parameters","personGeneration"],g);const x=h(e,["addWatermark"]);t!==void 0&&x!=null&&p(t,["parameters","addWatermark"],x);const w=h(e,["outputMimeType"]);t!==void 0&&w!=null&&p(t,["parameters","outputOptions","mimeType"],w);const b=h(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&p(t,["parameters","outputOptions","compressionQuality"],b);const M=h(e,["enhancePrompt"]);t!==void 0&&M!=null&&p(t,["parameters","enhancePrompt"],M);const I=h(e,["labels"]);return t!==void 0&&I!=null&&p(t,["labels"],I),s}function DP(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["source"]);u!=null&&OP(u,s);const d=h(t,["config"]);return d!=null&&LP(d,s),s}function UP(e,t){const i={},s=h(e,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>hf(u))),p(i,["generatedImages"],a)}return i}function OP(e,t,i){const s={},a=h(e,["prompt"]);t!==void 0&&a!=null&&p(t,["instances[0]","prompt"],a);const u=h(e,["personImage"]);t!==void 0&&u!=null&&p(t,["instances[0]","personImage","image"],di(u));const d=h(e,["productImages"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>kP(y))),p(t,["instances[0]","productImages"],m)}return s}function VP(e,t){const i={},s=h(e,["referenceImage"]);s!=null&&p(i,["referenceImage"],di(s));const a=h(e,["referenceId"]);a!=null&&p(i,["referenceId"],a);const u=h(e,["referenceType"]);u!=null&&p(i,["referenceType"],u);const d=h(e,["maskImageConfig"]);d!=null&&p(i,["maskImageConfig"],IP(d));const m=h(e,["controlImageConfig"]);m!=null&&p(i,["controlImageConfig"],wI(m));const y=h(e,["styleImageConfig"]);y!=null&&p(i,["styleImageConfig"],y);const g=h(e,["subjectImageConfig"]);return g!=null&&p(i,["subjectImageConfig"],g),i}function $S(e,t){const i={},s=h(e,["safetyAttributes","categories"]);s!=null&&p(i,["categories"],s);const a=h(e,["safetyAttributes","scores"]);a!=null&&p(i,["scores"],a);const u=h(e,["contentType"]);return u!=null&&p(i,["contentType"],u),i}function tE(e,t){const i={},s=h(e,["safetyAttributes","categories"]);s!=null&&p(i,["categories"],s);const a=h(e,["safetyAttributes","scores"]);a!=null&&p(i,["scores"],a);const u=h(e,["contentType"]);return u!=null&&p(i,["contentType"],u),i}function BP(e,t){const i={},s=h(e,["category"]);if(s!=null&&p(i,["category"],s),h(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=h(e,["threshold"]);return a!=null&&p(i,["threshold"],a),i}function zP(e,t){const i={},s=h(e,["image"]);return s!=null&&p(i,["image"],di(s)),i}function HP(e,t,i){const s={},a=h(e,["mode"]);t!==void 0&&a!=null&&p(t,["parameters","mode"],a);const u=h(e,["maxPredictions"]);t!==void 0&&u!=null&&p(t,["parameters","maxPredictions"],u);const d=h(e,["confidenceThreshold"]);t!==void 0&&d!=null&&p(t,["parameters","confidenceThreshold"],d);const m=h(e,["maskDilation"]);t!==void 0&&m!=null&&p(t,["parameters","maskDilation"],m);const y=h(e,["binaryColorThreshold"]);t!==void 0&&y!=null&&p(t,["parameters","binaryColorThreshold"],y);const g=h(e,["labels"]);return t!==void 0&&g!=null&&p(t,["labels"],g),s}function GP(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["source"]);u!=null&&FP(u,s);const d=h(t,["config"]);return d!=null&&HP(d,s),s}function qP(e,t){const i={},s=h(e,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>mP(u))),p(i,["generatedMasks"],a)}return i}function FP(e,t,i){const s={},a=h(e,["prompt"]);t!==void 0&&a!=null&&p(t,["instances[0]","prompt"],a);const u=h(e,["image"]);t!==void 0&&u!=null&&p(t,["instances[0]","image"],di(u));const d=h(e,["scribbleImage"]);return t!==void 0&&d!=null&&p(t,["instances[0]","scribble"],zP(d)),s}function ZP(e,t){const i={},s=h(e,["retrievalConfig"]);s!=null&&p(i,["retrievalConfig"],s);const a=h(e,["functionCallingConfig"]);return a!=null&&p(i,["functionCallingConfig"],JI(a)),i}function YP(e,t){const i={};if(h(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=h(e,["computerUse"]);s!=null&&p(i,["computerUse"],s);const a=h(e,["fileSearch"]);a!=null&&p(i,["fileSearch"],a);const u=h(e,["codeExecution"]);if(u!=null&&p(i,["codeExecution"],u),h(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=h(e,["functionDeclarations"]);if(d!=null){let w=d;Array.isArray(w)&&(w=w.map(b=>b)),p(i,["functionDeclarations"],w)}const m=h(e,["googleMaps"]);m!=null&&p(i,["googleMaps"],xP(m));const y=h(e,["googleSearch"]);y!=null&&p(i,["googleSearch"],TP(y));const g=h(e,["googleSearchRetrieval"]);g!=null&&p(i,["googleSearchRetrieval"],g);const x=h(e,["urlContext"]);return x!=null&&p(i,["urlContext"],x),i}function eE(e,t){const i={},s=h(e,["retrieval"]);s!=null&&p(i,["retrieval"],s);const a=h(e,["computerUse"]);if(a!=null&&p(i,["computerUse"],a),h(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(e,["codeExecution"]);u!=null&&p(i,["codeExecution"],u);const d=h(e,["enterpriseWebSearch"]);d!=null&&p(i,["enterpriseWebSearch"],d);const m=h(e,["functionDeclarations"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(M=>KI(M))),p(i,["functionDeclarations"],b)}const y=h(e,["googleMaps"]);y!=null&&p(i,["googleMaps"],y);const g=h(e,["googleSearch"]);g!=null&&p(i,["googleSearch"],g);const x=h(e,["googleSearchRetrieval"]);x!=null&&p(i,["googleSearchRetrieval"],x);const w=h(e,["urlContext"]);return w!=null&&p(i,["urlContext"],w),i}function JP(e,t){const i={},s=h(e,["baseModel"]);s!=null&&p(i,["baseModel"],s);const a=h(e,["createTime"]);a!=null&&p(i,["createTime"],a);const u=h(e,["updateTime"]);return u!=null&&p(i,["updateTime"],u),i}function KP(e,t){const i={},s=h(e,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&p(i,["baseModel"],s);const a=h(e,["createTime"]);a!=null&&p(i,["createTime"],a);const u=h(e,["updateTime"]);return u!=null&&p(i,["updateTime"],u),i}function jP(e,t,i){const s={},a=h(e,["displayName"]);t!==void 0&&a!=null&&p(t,["displayName"],a);const u=h(e,["description"]);t!==void 0&&u!=null&&p(t,["description"],u);const d=h(e,["defaultCheckpointId"]);return t!==void 0&&d!=null&&p(t,["defaultCheckpointId"],d),s}function XP(e,t,i){const s={},a=h(e,["displayName"]);t!==void 0&&a!=null&&p(t,["displayName"],a);const u=h(e,["description"]);t!==void 0&&u!=null&&p(t,["description"],u);const d=h(e,["defaultCheckpointId"]);return t!==void 0&&d!=null&&p(t,["defaultCheckpointId"],d),s}function WP(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","name"],Qt(e,a));const u=h(t,["config"]);return u!=null&&jP(u,s),s}function QP(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["config"]);return u!=null&&XP(u,s),s}function $P(e,t,i){const s={},a=h(e,["outputGcsUri"]);t!==void 0&&a!=null&&p(t,["parameters","storageUri"],a);const u=h(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&p(t,["parameters","safetySetting"],u);const d=h(e,["personGeneration"]);t!==void 0&&d!=null&&p(t,["parameters","personGeneration"],d);const m=h(e,["includeRaiReason"]);t!==void 0&&m!=null&&p(t,["parameters","includeRaiReason"],m);const y=h(e,["outputMimeType"]);t!==void 0&&y!=null&&p(t,["parameters","outputOptions","mimeType"],y);const g=h(e,["outputCompressionQuality"]);t!==void 0&&g!=null&&p(t,["parameters","outputOptions","compressionQuality"],g);const x=h(e,["enhanceInputImage"]);t!==void 0&&x!=null&&p(t,["parameters","upscaleConfig","enhanceInputImage"],x);const w=h(e,["imagePreservationFactor"]);t!==void 0&&w!=null&&p(t,["parameters","upscaleConfig","imagePreservationFactor"],w);const b=h(e,["labels"]);t!==void 0&&b!=null&&p(t,["labels"],b);const M=h(e,["numberOfImages"]);t!==void 0&&M!=null&&p(t,["parameters","sampleCount"],M);const I=h(e,["mode"]);return t!==void 0&&I!=null&&p(t,["parameters","mode"],I),s}function tk(e,t,i){const s={},a=h(t,["model"]);a!=null&&p(s,["_url","model"],Qt(e,a));const u=h(t,["image"]);u!=null&&p(s,["instances[0]","image"],di(u));const d=h(t,["upscaleFactor"]);d!=null&&p(s,["parameters","upscaleConfig","upscaleFactor"],d);const m=h(t,["config"]);return m!=null&&$P(m,s),s}function ek(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>hf(d))),p(i,["generatedImages"],u)}return i}function nk(e,t){const i={},s=h(e,["uri"]);s!=null&&p(i,["uri"],s);const a=h(e,["encodedVideo"]);a!=null&&p(i,["videoBytes"],es(a));const u=h(e,["encoding"]);return u!=null&&p(i,["mimeType"],u),i}function ik(e,t){const i={},s=h(e,["gcsUri"]);s!=null&&p(i,["uri"],s);const a=h(e,["bytesBase64Encoded"]);a!=null&&p(i,["videoBytes"],es(a));const u=h(e,["mimeType"]);return u!=null&&p(i,["mimeType"],u),i}function ok(e,t){const i={},s=h(e,["image"]);s!=null&&p(i,["_self"],di(s));const a=h(e,["maskMode"]);return a!=null&&p(i,["maskMode"],a),i}function sk(e,t){const i={},s=h(e,["image"]);s!=null&&p(i,["image"],mf(s));const a=h(e,["referenceType"]);return a!=null&&p(i,["referenceType"],a),i}function rk(e,t){const i={},s=h(e,["image"]);s!=null&&p(i,["image"],di(s));const a=h(e,["referenceType"]);return a!=null&&p(i,["referenceType"],a),i}function nE(e,t){const i={},s=h(e,["uri"]);s!=null&&p(i,["uri"],s);const a=h(e,["videoBytes"]);a!=null&&p(i,["encodedVideo"],es(a));const u=h(e,["mimeType"]);return u!=null&&p(i,["encoding"],u),i}function iE(e,t){const i={},s=h(e,["uri"]);s!=null&&p(i,["gcsUri"],s);const a=h(e,["videoBytes"]);a!=null&&p(i,["bytesBase64Encoded"],es(a));const u=h(e,["mimeType"]);return u!=null&&p(i,["mimeType"],u),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ak(e,t){const i={},s=h(e,["displayName"]);return t!==void 0&&s!=null&&p(t,["displayName"],s),i}function lk(e){const t={},i=h(e,["config"]);return i!=null&&ak(i,t),t}function uk(e,t){const i={},s=h(e,["force"]);return t!==void 0&&s!=null&&p(t,["_query","force"],s),i}function ck(e){const t={},i=h(e,["name"]);i!=null&&p(t,["_url","name"],i);const s=h(e,["config"]);return s!=null&&uk(s,t),t}function fk(e){const t={},i=h(e,["name"]);return i!=null&&p(t,["_url","name"],i),t}function dk(e,t){const i={},s=h(e,["customMetadata"]);if(t!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),p(t,["customMetadata"],u)}const a=h(e,["chunkingConfig"]);return t!==void 0&&a!=null&&p(t,["chunkingConfig"],a),i}function hk(e){const t={},i=h(e,["name"]);i!=null&&p(t,["name"],i);const s=h(e,["metadata"]);s!=null&&p(t,["metadata"],s);const a=h(e,["done"]);a!=null&&p(t,["done"],a);const u=h(e,["error"]);u!=null&&p(t,["error"],u);const d=h(e,["response"]);return d!=null&&p(t,["response"],pk(d)),t}function mk(e){const t={},i=h(e,["fileSearchStoreName"]);i!=null&&p(t,["_url","file_search_store_name"],i);const s=h(e,["fileName"]);s!=null&&p(t,["fileName"],s);const a=h(e,["config"]);return a!=null&&dk(a,t),t}function pk(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["parent"]);s!=null&&p(t,["parent"],s);const a=h(e,["documentName"]);return a!=null&&p(t,["documentName"],a),t}function gk(e,t){const i={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);return t!==void 0&&a!=null&&p(t,["_query","pageToken"],a),i}function yk(e){const t={},i=h(e,["config"]);return i!=null&&gk(i,t),t}function vk(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),p(t,["fileSearchStores"],u)}return t}function oE(e,t){const i={},s=h(e,["mimeType"]);t!==void 0&&s!=null&&p(t,["mimeType"],s);const a=h(e,["displayName"]);t!==void 0&&a!=null&&p(t,["displayName"],a);const u=h(e,["customMetadata"]);if(t!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>y)),p(t,["customMetadata"],m)}const d=h(e,["chunkingConfig"]);return t!==void 0&&d!=null&&p(t,["chunkingConfig"],d),i}function _k(e){const t={},i=h(e,["fileSearchStoreName"]);i!=null&&p(t,["_url","file_search_store_name"],i);const s=h(e,["config"]);return s!=null&&oE(s,t),t}function xk(e){const t={},i=h(e,["sdkHttpResponse"]);return i!=null&&p(t,["sdkHttpResponse"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tk="Content-Type",Sk="X-Server-Timeout",Ek="User-Agent",Pm="x-goog-api-client",wk="1.42.0",bk=`google-genai-sdk/${wk}`,Ck="v1beta1",Ak="v1beta",Mk=5,Nk=[408,429,500,502,503,504];class Rk{constructor(t){var i,s,a;this.clientOptions=Object.assign({},t),this.customBaseUrl=(i=t.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const u={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const m=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!m?(u.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?u.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(u.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:Ck}else{if(!this.clientOptions.apiKey)throw new Gl({message:"API key must be set when using the Gemini API.",status:403});u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:Ak,u.baseUrl="https://generativelanguage.googleapis.com/"}u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),i=new URL(t);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,i,s){const a=[this.getRequestUrlInternal(i)];return s&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t,i){return!(i.baseUrl&&i.baseUrlResourceScope===Cm.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,i),a=this.constructUrl(t.path,i,s);if(t.queryParams)for(const[d,m]of Object.entries(t.queryParams))a.searchParams.append(d,String(m));let u={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=t.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,i,a.toString(),t.abortSignal),this.unaryApiCall(a,u,t.httpMethod)}patchHttpOptions(t,i){const s=JSON.parse(JSON.stringify(t));for(const[a,u]of Object.entries(i))typeof u=="object"?s[a]=Object.assign(Object.assign({},s[a]),u):u!==void 0&&(s[a]=u);return s}async requestStream(t){let i=this.clientOptions.httpOptions;t.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,i),a=this.constructUrl(t.path,i,s);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=t.body,u=await this.includeExtraHttpOptionsToRequestInit(u,i,a.toString(),t.abortSignal),this.streamApiCall(a,u,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,i,s,a){if(i&&i.timeout||a){const u=new AbortController,d=u.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const m=setTimeout(()=>u.abort(),i.timeout);m&&typeof m.unref=="function"&&m.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),t.signal=d}return i&&i.extraBody!==null&&Ik(t,i.extraBody),t.headers=await this.getHeadersInternal(i,s),t}async unaryApiCall(t,i,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:s})).then(async a=>(await Cx(a),new Am(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,i,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},i),{method:s})).then(async a=>(await Cx(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){return ci(this,arguments,function*(){var s;const a=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";const m="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:x}=yield Lt(a.read());if(g){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const w=u.decode(x,{stream:!0});try{const I=JSON.parse(w);if("error"in I){const P=JSON.parse(JSON.stringify(I.error)),k=P.status,B=P.code,Y=`got status: ${k}. ${JSON.stringify(I)}`;if(B>=400&&B<600)throw new Gl({message:Y,status:B})}}catch(I){if(I.name==="ApiError")throw I}d+=w;let b=-1,M=0;for(;;){b=-1,M=0;for(const k of y){const B=d.indexOf(k);B!==-1&&(b===-1||B<b)&&(b=B,M=k.length)}if(b===-1)break;const I=d.substring(0,b);d=d.substring(b+M);const P=I.trim();if(P.startsWith(m)){const k=P.substring(m.length).trim();try{const B=new Response(k,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Lt(new Am(B))}catch(B){throw new Error(`exception parsing stream chunk ${k}. ${B}`)}}}}}finally{a.releaseLock()}})}async apiCall(t,i){var s;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,i);const a=this.clientOptions.httpOptions.retryOptions;return _N(async()=>{const d=await fetch(t,i);if(d.ok)return d;throw Nk.includes(d.status)?new Error(`Retryable HTTP Error: ${d.statusText}`):new US.AbortError(`Non-retryable exception ${d.statusText} sending request`)},{retries:((s=a.attempts)!==null&&s!==void 0?s:Mk)-1})}getDefaultHeaders(){const t={},i=bk+" "+this.clientOptions.userAgentExtra;return t[Ek]=i,t[Pm]=i,t[Tk]="application/json",t}async getHeadersInternal(t,i){const s=new Headers;if(t&&t.headers){for(const[a,u]of Object.entries(t.headers))s.append(a,u);t.timeout&&t.timeout>0&&s.append(Sk,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,i),s}getFileName(t){var i;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(i=s.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),s}async uploadFile(t,i){var s;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,d=await u.stat(t);a.sizeBytes=String(d.size);const m=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:d.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=m;const y={file:a},g=this.getFileName(t),x=St("upload/v1beta/files",y._url),w=await this.fetchUploadUrl(x,a.sizeBytes,a.mimeType,g,y,i==null?void 0:i.httpOptions);return u.upload(t,w,this)}async uploadFileToFileSearchStore(t,i,s){var a;const u=this.clientOptions.uploader,d=await u.stat(i),m=String(d.size),y=(a=s==null?void 0:s.mimeType)!==null&&a!==void 0?a:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(i),w={};s!=null&&oE(s,w);const b=await this.fetchUploadUrl(g,m,y,x,w,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(i,b,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,i,s,a,u,d){var m;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${s}`},a?{"X-Goog-Upload-File-Name":a}:{})};const g=await this.request({path:t,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(m=g==null?void 0:g.headers)===null||m===void 0?void 0:m["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function Cx(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const i=e.status;let s;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await e.json():s={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(s);throw i>=400&&i<600?new Gl({message:a,status:i}):new Error(a)}}function Ik(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof e.body=="string"&&e.body.length>0)try{const u=JSON.parse(e.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))i=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,d){const m=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const g=d[y],x=m[y];g&&typeof g=="object"&&!Array.isArray(g)&&x&&typeof x=="object"&&!Array.isArray(x)?m[y]=s(x,g):(x&&g&&typeof x!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof g}. Overwriting.`),m[y]=g)}return m}const a=s(i,t);e.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pk="mcp_used/unknown";let kk=!1;function sE(e){for(const t of e)if(Lk(t)||typeof t=="object"&&"inputSchema"in t)return!0;return kk}function rE(e){var t;const i=(t=e[Pm])!==null&&t!==void 0?t:"";e[Pm]=(i+` ${Pk}`).trimStart()}function Lk(e){return e!==null&&typeof e=="object"&&e instanceof Np}function Dk(e){return ci(this,arguments,function*(i,s=100){let a,u=0;for(;u<s;){const d=yield Lt(i.listTools({cursor:a}));for(const m of d.tools)yield yield Lt(m),u++;if(!d.nextCursor)break;a=d.nextCursor}})}class Np{constructor(t=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=i}static create(t,i){return new Np(t,i)}async initialize(){var t,i,s,a;if(this.mcpTools.length>0)return;const u={},d=[];for(const x of this.mcpClients)try{for(var m=!0,y=(i=void 0,fi(Dk(x))),g;g=await y.next(),t=g.done,!t;m=!0){a=g.value,m=!1;const w=a;d.push(w);const b=w.name;if(u[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);u[b]=x}}catch(w){i={error:w}}finally{try{!m&&!t&&(s=y.return)&&await s.call(y)}finally{if(i)throw i.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),aR(this.mcpTools,this.config)}async callTool(t){await this.initialize();const i=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await a.callTool({name:s.name,arguments:s.args},void 0,u);i.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Uk(e,t,i){const s=new $N;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(s,a),t(s)}class Ok{constructor(t,i,s){this.apiClient=t,this.auth=i,this.webSocketFactory=s}async connect(t){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=zk(this.apiClient.getDefaultHeaders()),m=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${m}`;let g=()=>{};const x=new Promise(z=>{g=z}),w=t.callbacks,b=function(){g({})},M=this.apiClient,I={onopen:b,onmessage:z=>{Uk(M,w.onmessage,z)},onerror:(i=w==null?void 0:w.onerror)!==null&&i!==void 0?i:function(z){},onclose:(s=w==null?void 0:w.onclose)!==null&&s!==void 0?s:function(z){}},P=this.webSocketFactory.create(y,Bk(d),I);P.connect(),await x;const Y={setup:{model:Qt(this.apiClient,t.model)}};return P.send(JSON.stringify(Y)),new Vk(P,this.apiClient)}}class Vk{constructor(t,i){this.conn=t,this.apiClient=i}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=aI(t);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const i=rI(t);this.conn.send(JSON.stringify(i))}sendPlaybackControl(t){const i={playbackControl:t};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(ea.PLAY)}pause(){this.sendPlaybackControl(ea.PAUSE)}stop(){this.sendPlaybackControl(ea.STOP)}resetContext(){this.sendPlaybackControl(ea.RESET_CONTEXT)}close(){this.conn.close()}}function Bk(e){const t={};return e.forEach((i,s)=>{t[s]=i}),t}function zk(e){const t=new Headers;for(const[i,s]of Object.entries(e))t.append(i,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hk="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Gk(e,t,i){const s=new QN;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const u=JSON.parse(a);if(e.isVertexAI()){const d=cI(u);Object.assign(s,d)}else Object.assign(s,u);t(s)}class qk{constructor(t,i,s){this.apiClient=t,this.auth=i,this.webSocketFactory=s,this.music=new Ok(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var i,s,a,u,d,m;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let x;const w=this.apiClient.getHeaders();t.config&&t.config.tools&&sE(t.config.tools)&&rE(w);const b=Jk(w);if(this.apiClient.isVertexAI()){const ct=this.apiClient.getProject(),Tt=this.apiClient.getLocation(),dt=this.apiClient.getApiKey(),_t=!!ct&&!!Tt||!!dt;this.apiClient.getCustomBaseUrl()&&!_t?x=y:(x=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,x))}else{const ct=this.apiClient.getApiKey();let Tt="BidiGenerateContent",dt="key";ct!=null&&ct.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),Tt="BidiGenerateContentConstrained",dt="access_token"),x=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${Tt}?${dt}=${ct}`}let M=()=>{};const I=new Promise(ct=>{M=ct}),P=t.callbacks,k=function(){var ct;(ct=P==null?void 0:P.onopen)===null||ct===void 0||ct.call(P),M({})},B=this.apiClient,Y={onopen:k,onmessage:ct=>{Gk(B,P.onmessage,ct)},onerror:(i=P==null?void 0:P.onerror)!==null&&i!==void 0?i:function(ct){},onclose:(s=P==null?void 0:P.onclose)!==null&&s!==void 0?s:function(ct){}},z=this.webSocketFactory.create(x,Yk(b),Y);z.connect(),await I;let $=Qt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const ct=this.apiClient.getProject(),Tt=this.apiClient.getLocation();ct&&Tt&&($=`projects/${ct}/locations/${Tt}/`+$)}let Q={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Wc.AUDIO]}:t.config.responseModalities=[Wc.AUDIO]),!((u=t.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(m=(d=t.config)===null||d===void 0?void 0:d.tools)!==null&&m!==void 0?m:[],nt=[];for(const ct of V)if(this.isCallableTool(ct)){const Tt=ct;nt.push(await Tt.tool())}else nt.push(ct);nt.length>0&&(t.config.tools=nt);const rt={model:$,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?Q=sI(this.apiClient,rt):Q=oI(this.apiClient,rt),delete Q.config,z.send(JSON.stringify(Q)),new Zk(z,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Fk={turnComplete:!0};class Zk{constructor(t,i){this.conn=t,this.apiClient=i}tLiveClientContent(t,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=Ln(i.turns),t.isVertexAI()||(s=s.map(a=>jl(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(t,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!t.isVertexAI()&&!("id"in u))throw new Error(Hk)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},Fk),t);const i=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(i))}sendRealtimeInput(t){let i={};this.apiClient.isVertexAI()?i={realtimeInput:uI(t)}:i={realtimeInput:lI(t)},this.conn.send(JSON.stringify(i))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function Yk(e){const t={};return e.forEach((i,s)=>{t[s]=i}),t}function Jk(e){const t=new Headers;for(const[i,s]of Object.entries(e))t.append(i,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ax=10;function Mx(e){var t,i,s;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const d of(i=e==null?void 0:e.tools)!==null&&i!==void 0?i:[])if(ra(d)){a=!0;break}if(!a)return!0;const u=(s=e==null?void 0:e.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function ra(e){return"callTool"in e&&typeof e.callTool=="function"}function Kk(e){var t,i,s;return(s=(i=(t=e.config)===null||t===void 0?void 0:t.tools)===null||i===void 0?void 0:i.some(a=>ra(a)))!==null&&s!==void 0?s:!1}function Nx(e){var t;const i=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((s,a)=>{if(ra(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&i.push(a)}),i}function Rx(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jk extends ao{constructor(t){super(),this.apiClient=t,this.embedContent=async i=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(i);if(i.model.includes("gemini")&&i.model!=="gemini-embedding-001"||i.model.includes("maas")){const a=Ln(i.contents);if(a.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const u=Object.assign(Object.assign({},i),{content:a[0],embeddingApiType:Qc.EMBED_CONTENT});return await this.embedContentInternal(u)}else{const a=Object.assign(Object.assign({},i),{embeddingApiType:Qc.PREDICT});return await this.embedContentInternal(a)}},this.generateContent=async i=>{var s,a,u,d,m;const y=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!Kk(i)||Mx(i.config))return await this.generateContentInternal(y);const g=Nx(i);if(g.length>0){const P=g.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${P}.`)}let x,w;const b=Ln(y.contents),M=(u=(a=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:Ax;let I=0;for(;I<M&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const P=x.candidates[0].content,k=[];for(const B of(m=(d=i.config)===null||d===void 0?void 0:d.tools)!==null&&m!==void 0?m:[])if(ra(B)){const z=await B.callTool(x.functionCalls);k.push(...z)}I++,w={role:"user",parts:k},y.contents=Ln(y.contents),y.contents.push(P),y.contents.push(w),Rx(y.config)&&(b.push(P),b.push(w))}return Rx(y.config)&&(x.automaticFunctionCallingHistory=b),x},this.generateContentStream=async i=>{var s,a,u,d,m;if(this.maybeMoveToResponseJsonSchem(i),Mx(i.config)){const w=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(w)}const y=Nx(i);if(y.length>0){const w=y.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${w}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(u=(a=(s=i==null?void 0:i.config)===null||s===void 0?void 0:s.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,x=(m=(d=i==null?void 0:i.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||m===void 0?void 0:m.disable;if(g&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var a;let u;const d=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:d.push(y);let m;return u?m={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:m={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},m}),this.list=async i=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new er(ro.PAGED_ITEM_MODELS,m=>this.listInternal(m),await this.listInternal(d),d)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var s,a,u,d,m,y;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=i.video)===null||s===void 0)&&s.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((d=(u=i.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(m=i.source)===null||m===void 0?void 0:m.video)===null||y===void 0)&&y.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var i,s,a;const u=(i=t.config)===null||i===void 0?void 0:i.tools;if(!u)return t;const d=await Promise.all(u.map(async y=>ra(y)?await y.tool():y)),m={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:d})};if(m.config.tools=d,t.config&&t.config.tools&&sE(t.config.tools)){const y=(a=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),rE(g),m.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return m}async initAfcToolsMap(t){var i,s,a;const u=new Map;for(const d of(s=(i=t.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if(ra(d)){const m=d,y=await m.tool();for(const g of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!g.name)throw new Error("Function declaration name is required.");if(u.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);u.set(g.name,m)}}return u}async processAfcStream(t){var i,s,a;const u=(a=(s=(i=t.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:Ax;let d=!1,m=0;const y=await this.initAfcToolsMap(t);return(function(g,x,w){return ci(this,arguments,function*(){for(var b,M,I,P,k,B;m<u;){d&&(m++,d=!1);const Q=yield Lt(g.processParamsMaybeAddMcpUsage(w)),V=yield Lt(g.generateContentStreamInternal(Q)),nt=[],rt=[];try{for(var Y=!0,z=(M=void 0,fi(V)),$;$=yield Lt(z.next()),b=$.done,!b;Y=!0){P=$.value,Y=!1;const ct=P;if(yield yield Lt(ct),ct.candidates&&(!((k=ct.candidates[0])===null||k===void 0)&&k.content)){rt.push(ct.candidates[0].content);for(const Tt of(B=ct.candidates[0].content.parts)!==null&&B!==void 0?B:[])if(m<u&&Tt.functionCall){if(!Tt.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(Tt.functionCall.name)){const dt=yield Lt(x.get(Tt.functionCall.name).callTool([Tt.functionCall]));nt.push(...dt)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${Tt.functionCall.name}`)}}}}catch(ct){M={error:ct}}finally{try{!Y&&!b&&(I=z.return)&&(yield Lt(I.call(z)))}finally{if(M)throw M.error}}if(nt.length>0){d=!0;const ct=new Al;ct.candidates=[{content:{role:"user",parts:nt}}],yield yield Lt(ct);const Tt=[];Tt.push(...rt),Tt.push({role:"user",parts:nt});const dt=Ln(w.contents).concat(Tt);w.contents=dt}else break}})})(this,y,t)}async generateContentInternal(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=Ex(this.apiClient,t);return m=St("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=bx(x),b=new Al;return Object.assign(b,w),b})}else{const g=Sx(this.apiClient,t);return m=St("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=wx(x),b=new Al;return Object.assign(b,w),b})}}async generateContentStreamInternal(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=Ex(this.apiClient,t);return m=St("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(w){return ci(this,arguments,function*(){var b,M,I,P;try{for(var k=!0,B=fi(w),Y;Y=yield Lt(B.next()),b=Y.done,!b;k=!0){P=Y.value,k=!1;const z=P,$=bx(yield Lt(z.json()),t);$.sdkHttpResponse={headers:z.headers};const Q=new Al;Object.assign(Q,$),yield yield Lt(Q)}}catch(z){M={error:z}}finally{try{!k&&!b&&(I=B.return)&&(yield Lt(I.call(B)))}finally{if(M)throw M.error}}})})}else{const g=Sx(this.apiClient,t);return m=St("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(w){return ci(this,arguments,function*(){var b,M,I,P;try{for(var k=!0,B=fi(w),Y;Y=yield Lt(B.next()),b=Y.done,!b;k=!0){P=Y.value,k=!1;const z=P,$=wx(yield Lt(z.json()),t);$.sdkHttpResponse={headers:z.headers};const Q=new Al;Object.assign(Q,$),yield yield Lt(Q)}}catch(z){M={error:z}}finally{try{!k&&!b&&(I=B.return)&&(yield Lt(I.call(B)))}finally{if(M)throw M.error}}})})}}async embedContentInternal(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=HI(this.apiClient,t,t),x=uR(t.model)?"{model}:embedContent":"{model}:predict";return m=St(x,g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(w=>w.json().then(b=>{const M=b;return M.sdkHttpResponse={headers:w.headers},M})),d.then(w=>{const b=qI(w,t),M=new sx;return Object.assign(M,b),M})}else{const g=zI(this.apiClient,t);return m=St("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=GI(x),b=new sx;return Object.assign(b,w),b})}}async generateImagesInternal(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=tP(this.apiClient,t);return m=St("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=nP(x),b=new rx;return Object.assign(b,w),b})}else{const g=$I(this.apiClient,t);return m=St("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=eP(x),b=new rx;return Object.assign(b,w),b})}}async editImageInternal(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=UI(this.apiClient,t);return u=St("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const g=OI(y),x=new zN;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=tk(this.apiClient,t);return u=St("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const g=ek(y),x=new HN;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=DP(this.apiClient,t);return u=St("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=UP(y),x=new GN;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=GP(this.apiClient,t);return u=St("{model}:predict",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=qP(y),x=new qN;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=_P(this.apiClient,t);return m=St("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),d.then(x=>Im(x))}else{const g=vP(this.apiClient,t);return m=St("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>Rm(x))}}async listInternal(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=MP(this.apiClient,t);return m=St("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=RP(x),b=new ax;return Object.assign(b,w),b})}else{const g=AP(this.apiClient,t);return m=St("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=NP(x),b=new ax;return Object.assign(b,w),b})}}async update(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=QP(this.apiClient,t);return m=St("{model}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),d.then(x=>Im(x))}else{const g=WP(this.apiClient,t);return m=St("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>Rm(x))}}async delete(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=PI(this.apiClient,t);return m=St("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=LI(x),b=new lx;return Object.assign(b,w),b})}else{const g=II(this.apiClient,t);return m=St("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=kI(x),b=new lx;return Object.assign(b,w),b})}}async countTokens(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=MI(this.apiClient,t);return m=St("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=RI(x),b=new ux;return Object.assign(b,w),b})}else{const g=AI(this.apiClient,t);return m=St("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=NI(x),b=new ux;return Object.assign(b,w),b})}}async computeTokens(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=xI(this.apiClient,t);return u=St("{model}:computeTokens",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>{const g=TI(y),x=new FN;return Object.assign(x,g),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=lP(this.apiClient,t);return m=St("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),d.then(x=>{const w=rP(x),b=new $c;return Object.assign(b,w),b})}else{const g=aP(this.apiClient,t);return m=St("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d.then(x=>{const w=sP(x),b=new $c;return Object.assign(b,w),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xk extends ao{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const i=t.operation,s=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(t){const i=t.operation,s=t.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=LN(t);return m=St("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),d}else{const g=kN(t);return m=St("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()),d}}async fetchPredictVideosOperationInternal(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=CN(t);return u=St("{resourceName}:fetchPredictOperation",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wk(e){const t={},i=h(e,["data"]);if(i!=null&&p(t,["data"],i),h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function Qk(e){const t={},i=h(e,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>aL(u))),p(t,["parts"],a)}const s=h(e,["role"]);return s!=null&&p(t,["role"],s),t}function $k(e,t,i){const s={},a=h(t,["expireTime"]);i!==void 0&&a!=null&&p(i,["expireTime"],a);const u=h(t,["newSessionExpireTime"]);i!==void 0&&u!=null&&p(i,["newSessionExpireTime"],u);const d=h(t,["uses"]);i!==void 0&&d!=null&&p(i,["uses"],d);const m=h(t,["liveConnectConstraints"]);i!==void 0&&m!=null&&p(i,["bidiGenerateContentSetup"],rL(e,m));const y=h(t,["lockAdditionalFields"]);return i!==void 0&&y!=null&&p(i,["fieldMask"],y),s}function tL(e,t){const i={},s=h(t,["config"]);return s!=null&&p(i,["config"],$k(e,s,i)),i}function eL(e){const t={};if(h(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(e,["fileUri"]);i!=null&&p(t,["fileUri"],i);const s=h(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function nL(e){const t={},i=h(e,["id"]);i!=null&&p(t,["id"],i);const s=h(e,["args"]);s!=null&&p(t,["args"],s);const a=h(e,["name"]);if(a!=null&&p(t,["name"],a),h(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function iL(e){const t={};if(h(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=h(e,["enableWidget"]);return i!=null&&p(t,["enableWidget"],i),t}function oL(e){const t={};if(h(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=h(e,["timeRangeFilter"]);return i!=null&&p(t,["timeRangeFilter"],i),t}function sL(e,t){const i={},s=h(e,["generationConfig"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig"],s);const a=h(e,["responseModalities"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","responseModalities"],a);const u=h(e,["temperature"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","temperature"],u);const d=h(e,["topP"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topP"],d);const m=h(e,["topK"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","topK"],m);const y=h(e,["maxOutputTokens"]);t!==void 0&&y!=null&&p(t,["setup","generationConfig","maxOutputTokens"],y);const g=h(e,["mediaResolution"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","mediaResolution"],g);const x=h(e,["seed"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","seed"],x);const w=h(e,["speechConfig"]);t!==void 0&&w!=null&&p(t,["setup","generationConfig","speechConfig"],Mp(w));const b=h(e,["thinkingConfig"]);t!==void 0&&b!=null&&p(t,["setup","generationConfig","thinkingConfig"],b);const M=h(e,["enableAffectiveDialog"]);t!==void 0&&M!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],M);const I=h(e,["systemInstruction"]);t!==void 0&&I!=null&&p(t,["setup","systemInstruction"],Qk(He(I)));const P=h(e,["tools"]);if(t!==void 0&&P!=null){let V=da(P);Array.isArray(V)&&(V=V.map(nt=>uL(fa(nt)))),p(t,["setup","tools"],V)}const k=h(e,["sessionResumption"]);t!==void 0&&k!=null&&p(t,["setup","sessionResumption"],lL(k));const B=h(e,["inputAudioTranscription"]);t!==void 0&&B!=null&&p(t,["setup","inputAudioTranscription"],B);const Y=h(e,["outputAudioTranscription"]);t!==void 0&&Y!=null&&p(t,["setup","outputAudioTranscription"],Y);const z=h(e,["realtimeInputConfig"]);t!==void 0&&z!=null&&p(t,["setup","realtimeInputConfig"],z);const $=h(e,["contextWindowCompression"]);t!==void 0&&$!=null&&p(t,["setup","contextWindowCompression"],$);const Q=h(e,["proactivity"]);if(t!==void 0&&Q!=null&&p(t,["setup","proactivity"],Q),h(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function rL(e,t){const i={},s=h(t,["model"]);s!=null&&p(i,["setup","model"],Qt(e,s));const a=h(t,["config"]);return a!=null&&p(i,["config"],sL(a,i)),i}function aL(e){const t={},i=h(e,["mediaResolution"]);i!=null&&p(t,["mediaResolution"],i);const s=h(e,["codeExecutionResult"]);s!=null&&p(t,["codeExecutionResult"],s);const a=h(e,["executableCode"]);a!=null&&p(t,["executableCode"],a);const u=h(e,["fileData"]);u!=null&&p(t,["fileData"],eL(u));const d=h(e,["functionCall"]);d!=null&&p(t,["functionCall"],nL(d));const m=h(e,["functionResponse"]);m!=null&&p(t,["functionResponse"],m);const y=h(e,["inlineData"]);y!=null&&p(t,["inlineData"],Wk(y));const g=h(e,["text"]);g!=null&&p(t,["text"],g);const x=h(e,["thought"]);x!=null&&p(t,["thought"],x);const w=h(e,["thoughtSignature"]);w!=null&&p(t,["thoughtSignature"],w);const b=h(e,["videoMetadata"]);return b!=null&&p(t,["videoMetadata"],b),t}function lL(e){const t={},i=h(e,["handle"]);if(i!=null&&p(t,["handle"],i),h(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function uL(e){const t={};if(h(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(e,["computerUse"]);i!=null&&p(t,["computerUse"],i);const s=h(e,["fileSearch"]);s!=null&&p(t,["fileSearch"],s);const a=h(e,["codeExecution"]);if(a!=null&&p(t,["codeExecution"],a),h(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=h(e,["functionDeclarations"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(w=>w)),p(t,["functionDeclarations"],x)}const d=h(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],iL(d));const m=h(e,["googleSearch"]);m!=null&&p(t,["googleSearch"],oL(m));const y=h(e,["googleSearchRetrieval"]);y!=null&&p(t,["googleSearchRetrieval"],y);const g=h(e,["urlContext"]);return g!=null&&p(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cL(e){const t=[];for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const a=Object.keys(s).map(u=>`${i}.${u}`);t.push(...a)}else t.push(i)}return t.join(",")}function fL(e,t){let i=null;const s=e.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(e.bidiGenerateContentSetup=u,i=u):delete e.bidiGenerateContentSetup}else s!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(i){const u=cL(i);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)u?e.fieldMask=u:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let m=[];a.length>0&&(m=a.map(g=>d.includes(g)?`generationConfig.${g}`:g));const y=[];u&&y.push(u),m.length>0&&y.push(...m),y.length>0?e.fieldMask=y.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class dL extends ao{constructor(t){super(),this.apiClient=t}async create(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const m=tL(this.apiClient,t);u=St("auth_tokens",m._url),d=m._query,delete m.config,delete m._url,delete m._query;const y=fL(m,t.config);return a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hL(e,t){const i={},s=h(e,["force"]);return t!==void 0&&s!=null&&p(t,["_query","force"],s),i}function mL(e){const t={},i=h(e,["name"]);i!=null&&p(t,["_url","name"],i);const s=h(e,["config"]);return s!=null&&hL(s,t),t}function pL(e){const t={},i=h(e,["name"]);return i!=null&&p(t,["_url","name"],i),t}function gL(e,t){const i={},s=h(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const a=h(e,["pageToken"]);return t!==void 0&&a!=null&&p(t,["_query","pageToken"],a),i}function yL(e){const t={},i=h(e,["parent"]);i!=null&&p(t,["_url","parent"],i);const s=h(e,["config"]);return s!=null&&gL(s,t),t}function vL(e){const t={},i=h(e,["sdkHttpResponse"]);i!=null&&p(t,["sdkHttpResponse"],i);const s=h(e,["nextPageToken"]);s!=null&&p(t,["nextPageToken"],s);const a=h(e,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),p(t,["documents"],u)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _L extends ao{constructor(t){super(),this.apiClient=t,this.list=async i=>new er(ro.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:i.parent,config:s.config}),await this.listInternal(i),i)}async get(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=pL(t);return u=St("{name}",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(t){var i,s;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=mL(t);a=St("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=yL(t);return u=St("{parent}/documents",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=vL(y),x=new ZN;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xL extends ao{constructor(t,i=new _L(t)){super(),this.apiClient=t,this.documents=i,this.list=async(s={})=>new er(ro.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=lk(t);return u=St("fileSearchStores",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async get(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=fk(t);return u=St("{name}",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(t){var i,s;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ck(t);a=St("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=yk(t);return u=St("fileSearchStores",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=vk(y),x=new YN;return Object.assign(x,g),x})}}async uploadToFileSearchStoreInternal(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=_k(t);return u=St("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=xk(y),x=new JN;return Object.assign(x,g),x})}}async importFile(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=mk(t);return u=St("{file_search_store_name}:importFile",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=hk(y),x=new Ep;return Object.assign(x,g),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let aE=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return aE=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),i=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^i()&15>>+s/4).toString(16))};const TL=()=>aE();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function km(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Lm=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kn extends Error{}class un extends Kn{constructor(t,i,s,a){super(`${un.makeMessage(t,i,s)}`),this.status=t,this.headers=a,this.error=i}static makeMessage(t,i,s){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):s;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,i,s,a){if(!t||!a)return new pf({message:s,cause:Lm(i)});const u=i;return t===400?new uE(t,u,s,a):t===401?new cE(t,u,s,a):t===403?new fE(t,u,s,a):t===404?new dE(t,u,s,a):t===409?new hE(t,u,s,a):t===422?new mE(t,u,s,a):t===429?new pE(t,u,s,a):t>=500?new gE(t,u,s,a):new un(t,u,s,a)}}class Dm extends un{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class pf extends un{constructor({message:t,cause:i}){super(void 0,void 0,t||"Connection error.",void 0),i&&(this.cause=i)}}class lE extends pf{constructor({message:t}={}){super({message:t??"Request timed out."})}}class uE extends un{}class cE extends un{}class fE extends un{}class dE extends un{}class hE extends un{}class mE extends un{}class pE extends un{}class gE extends un{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SL=/^[a-z][a-z0-9+.-]*:/i,EL=e=>SL.test(e);let Um=e=>(Um=Array.isArray,Um(e));const wL=Um;let bL=wL;const Ix=bL;function CL(e){if(!e)return!0;for(const t in e)return!1;return!0}function AL(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const ML=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Kn(`${e} must be an integer`);if(t<0)throw new Kn(`${e} must be a positive integer`);return t},NL=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RL=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jr="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IL(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const PL=()=>{var e,t,i,s,a;const u=IL();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jr,"X-Stainless-OS":kx(Deno.build.os),"X-Stainless-Arch":Px(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jr,"X-Stainless-OS":kx((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":Px((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const d=kL();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":jr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function kL(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:i}of e){const s=i.exec(navigator.userAgent);if(s){const a=s[1]||0,u=s[2]||0,d=s[3]||0;return{browser:t,version:`${a}.${u}.${d}`}}}return null}const Px=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",kx=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Mc;const LL=()=>Mc??(Mc=PL());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DL(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function yE(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function UL(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return yE({start(){},async pull(i){const{done:s,value:a}=await t.next();s?i.close():i.enqueue(a)},async cancel(){var i;await((i=t.return)===null||i===void 0?void 0:i.call(t))}})}function vE(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const i=await t.read();return i!=null&&i.done&&t.releaseLock(),i}catch(i){throw t.releaseLock(),i}},async return(){const i=t.cancel();return t.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function OL(e){var t,i;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((i=(t=e[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(t));return}const s=e.getReader(),a=s.cancel();s.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VL=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _E=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,i=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xh(e,t,i){return _E(),new File(e,t??"unknown_file",i)}function BL(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const zL=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xE=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",HL=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&xE(e),GL=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function qL(e,t,i){if(_E(),e=await e,HL(e))return e instanceof File?e:Xh([await e.arrayBuffer()],e.name);if(GL(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Xh(await Om(a),t,i)}const s=await Om(e);if(t||(t=BL(e)),!(i!=null&&i.type)){const a=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return Xh(s,t,i)}async function Om(e){var t,i,s,a,u;let d=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)d.push(e);else if(xE(e))d.push(e instanceof Blob?e:await e.arrayBuffer());else if(zL(e))try{for(var m=!0,y=fi(e),g;g=await y.next(),t=g.done,!t;m=!0){a=g.value,m=!1;const x=a;d.push(...await Om(x))}}catch(x){i={error:x}}finally{try{!m&&!t&&(s=y.return)&&await s.call(y)}finally{if(i)throw i.error}}else{const x=(u=e==null?void 0:e.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof e}${x?`; constructor: ${x}`:""}${FL(e)}`)}return d}function FL(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TE{constructor(t){this._client=t}}TE._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SE(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Lx=Object.freeze(Object.create(null)),ZL=(e=SE)=>(function(i,...s){if(i.length===1)return i[0];let a=!1;const u=[],d=i.reduce((x,w,b)=>{var M,I,P;/[?#]/.test(w)&&(a=!0);const k=s[b];let B=(a?encodeURIComponent:e)(""+k);return b!==s.length&&(k==null||typeof k=="object"&&k.toString===((P=Object.getPrototypeOf((I=Object.getPrototypeOf((M=k.hasOwnProperty)!==null&&M!==void 0?M:Lx))!==null&&I!==void 0?I:Lx))===null||P===void 0?void 0:P.toString))&&(B=k+"",u.push({start:x.length+w.length,length:B.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),x+w+(b===s.length?"":B)},""),m=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(m))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((x,w)=>x.start-w.start),u.length>0){let x=0;const w=u.reduce((b,M)=>{const I=" ".repeat(M.start-x),P="^".repeat(M.length);return x=M.start+M.length,b+I+P},"");throw new Kn(`Path parameters result in path with invalid segments:
${u.map(b=>b.error).join(`
`)}
${d}
${w}`)}return d}),Nc=ZL(SE);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EE extends TE{create(t,i){var s;const{api_version:a=this._client.apiVersion}=t,u=ef(t,["api_version"]);if("model"in u&&"agent_config"in u)throw new Kn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Kn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Nc`/${a}/interactions`,Object.assign(Object.assign({body:u},i),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,i={},s){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(Nc`/${a}/interactions/${t}`,s)}cancel(t,i={},s){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(Nc`/${a}/interactions/${t}/cancel`,s)}get(t,i={},s){var a;const u=i??{},{api_version:d=this._client.apiVersion}=u,m=ef(u,["api_version"]);return this._client.get(Nc`/${d}/interactions/${t}`,Object.assign(Object.assign({query:m},s),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}EE._key=Object.freeze(["interactions"]);class wE extends EE{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YL(e){let t=0;for(const a of e)t+=a.length;const i=new Uint8Array(t);let s=0;for(const a of e)i.set(a,s),s+=a.length;return i}let Rc;function Rp(e){let t;return(Rc??(t=new globalThis.TextEncoder,Rc=t.encode.bind(t)))(e)}let Ic;function Dx(e){let t;return(Ic??(t=new globalThis.TextDecoder,Ic=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gf{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const i=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Rp(t):t;this.buffer=YL([this.buffer,i]);const s=[];let a;for(;(a=JL(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){s.push(Dx(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,d=Dx(this.buffer.subarray(0,u));s.push(d),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}gf.NEWLINE_CHARS=new Set([`
`,"\r"]);gf.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function JL(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function KL(e){for(let s=0;s<e.length-1;s++){if(e[s]===10&&e[s+1]===10||e[s]===13&&e[s+1]===13)return s+2;if(e[s]===13&&e[s+1]===10&&s+3<e.length&&e[s+2]===13&&e[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nf={off:0,error:200,warn:300,info:400,debug:500},Ux=(e,t,i)=>{if(e){if(AL(nf,e))return e;rn(i).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(nf))}`)}};function Rl(){}function Pc(e,t,i){return!t||nf[e]>nf[i]?Rl:t[e].bind(t)}const jL={error:Rl,warn:Rl,info:Rl,debug:Rl};let Ox=new WeakMap;function rn(e){var t;const i=e.logger,s=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!i)return jL;const a=Ox.get(i);if(a&&a[0]===s)return a[1];const u={error:Pc("error",i,s),warn:Pc("warn",i,s),info:Pc("info",i,s),debug:Pc("debug",i,s)};return Ox.set(i,[s,u]),u}const Js=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,i])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class na{constructor(t,i,s){this.iterator=t,this.controller=i,this.client=s}static fromSSEResponse(t,i,s){let a=!1;const u=s?rn(s):console;function d(){return ci(this,arguments,function*(){var y,g,x,w;if(a)throw new Kn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let b=!1;try{try{for(var M=!0,I=fi(XL(t,i)),P;P=yield Lt(I.next()),y=P.done,!y;M=!0){w=P.value,M=!1;const k=w;if(!b)if(k.data.startsWith("[DONE]")){b=!0;continue}else try{yield yield Lt(JSON.parse(k.data))}catch(B){throw u.error("Could not parse message into JSON:",k.data),u.error("From chunk:",k.raw),B}}}catch(k){g={error:k}}finally{try{!M&&!y&&(x=I.return)&&(yield Lt(x.call(I)))}finally{if(g)throw g.error}}b=!0}catch(k){if(km(k))return yield Lt(void 0);throw k}finally{b||i.abort()}})}return new na(d,i,s)}static fromReadableStream(t,i,s){let a=!1;function u(){return ci(this,arguments,function*(){var y,g,x,w;const b=new gf,M=vE(t);try{for(var I=!0,P=fi(M),k;k=yield Lt(P.next()),y=k.done,!y;I=!0){w=k.value,I=!1;const B=w;for(const Y of b.decode(B))yield yield Lt(Y)}}catch(B){g={error:B}}finally{try{!I&&!y&&(x=P.return)&&(yield Lt(x.call(P)))}finally{if(g)throw g.error}}for(const B of b.flush())yield yield Lt(B)})}function d(){return ci(this,arguments,function*(){var y,g,x,w;if(a)throw new Kn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let b=!1;try{try{for(var M=!0,I=fi(u()),P;P=yield Lt(I.next()),y=P.done,!y;M=!0){w=P.value,M=!1;const k=w;b||k&&(yield yield Lt(JSON.parse(k)))}}catch(k){g={error:k}}finally{try{!M&&!y&&(x=I.return)&&(yield Lt(x.call(I)))}finally{if(g)throw g.error}}b=!0}catch(k){if(km(k))return yield Lt(void 0);throw k}finally{b||i.abort()}})}return new na(d,i,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],i=[],s=this.iterator(),a=u=>({next:()=>{if(u.length===0){const d=s.next();t.push(d),i.push(d)}return u.shift()}});return[new na(()=>a(t),this.controller,this.client),new na(()=>a(i),this.controller,this.client)]}toReadableStream(){const t=this;let i;return yE({async start(){i=t[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:u}=await i.next();if(u)return s.close();const d=Rp(JSON.stringify(a)+`
`);s.enqueue(d)}catch(a){s.error(a)}},async cancel(){var s;await((s=i.return)===null||s===void 0?void 0:s.call(i))}})}}function XL(e,t){return ci(this,arguments,function*(){var s,a,u,d;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Kn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Kn("Attempted to iterate over a response with no body");const m=new QL,y=new gf,g=vE(e.body);try{for(var x=!0,w=fi(WL(g)),b;b=yield Lt(w.next()),s=b.done,!s;x=!0){d=b.value,x=!1;const M=d;for(const I of y.decode(M)){const P=m.decode(I);P&&(yield yield Lt(P))}}}catch(M){a={error:M}}finally{try{!x&&!s&&(u=w.return)&&(yield Lt(u.call(w)))}finally{if(a)throw a.error}}for(const M of y.flush()){const I=m.decode(M);I&&(yield yield Lt(I))}})}function WL(e){return ci(this,arguments,function*(){var i,s,a,u;let d=new Uint8Array;try{for(var m=!0,y=fi(e),g;g=yield Lt(y.next()),i=g.done,!i;m=!0){u=g.value,m=!1;const x=u;if(x==null)continue;const w=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?Rp(x):x;let b=new Uint8Array(d.length+w.length);b.set(d),b.set(w,d.length),d=b;let M;for(;(M=KL(d))!==-1;)yield yield Lt(d.slice(0,M)),d=d.slice(M)}}catch(x){s={error:x}}finally{try{!m&&!i&&(a=y.return)&&(yield Lt(a.call(y)))}finally{if(s)throw s.error}}d.length>0&&(yield yield Lt(d))})}class QL{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(t),t.startsWith(":"))return null;let[i,s,a]=$L(t,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function $L(e,t){const i=e.indexOf(t);return i!==-1?[e.substring(0,i),t,e.substring(i+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tD(e,t){const{response:i,requestLogID:s,retryOfRequestLogID:a,startTime:u}=t,d=await(async()=>{var m;if(t.options.stream)return rn(e).debug("response",i.status,i.url,i.headers,i.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(i,t.controller,e):na.fromSSEResponse(i,t.controller,e);if(i.status===204)return null;if(t.options.__binaryResponse)return i;const y=i.headers.get("content-type"),g=(m=y==null?void 0:y.split(";")[0])===null||m===void 0?void 0:m.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?i.headers.get("content-length")==="0"?void 0:await i.json():await i.text()})();return rn(e).debug(`[${s}] response parsed`,Js({retryOfRequestLogID:a,url:i.url,status:i.status,body:d,durationMs:Date.now()-u})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ip extends Promise{constructor(t,i,s=tD){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new Ip(this.client,this.responsePromise,async(i,s)=>t(await this.parseResponse(i,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,i){return this.parse().then(t,i)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bE=Symbol("brand.privateNullableHeaders");function*eD(e){if(!e)return;if(bE in e){const{values:s,nulls:a}=e;yield*s.entries();for(const u of a)yield[u,null];return}let t=!1,i;e instanceof Headers?i=e.entries():Ix(e)?i=e:(t=!0,i=Object.entries(e??{}));for(let s of i){const a=s[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const u=Ix(s[1])?s[1]:[s[1]];let d=!1;for(const m of u)m!==void 0&&(t&&!d&&(d=!0,yield[a,null]),yield[a,m])}}const Ml=e=>{const t=new Headers,i=new Set;for(const s of e){const a=new Set;for(const[u,d]of eD(s)){const m=u.toLowerCase();a.has(m)||(t.delete(u),a.add(m)),d===null?(t.delete(u),i.add(m)):(t.append(u,d),i.delete(m))}}return{[bE]:!0,values:t,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wh=e=>{var t,i,s,a,u,d;if(typeof globalThis.process<"u")return(s=(i=(t=xN)===null||t===void 0?void 0:t[e])===null||i===void 0?void 0:i.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(d=(u=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||u===void 0?void 0:u.call(a,e))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var CE;class yf{constructor(t){var i,s,a,u,d,m,y,{baseURL:g=Wh("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(i=Wh("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:w="v1beta"}=t,b=ef(t,["baseURL","apiKey","apiVersion"]);const M=Object.assign(Object.assign({apiKey:x,apiVersion:w},b),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=M.baseURL,this.timeout=(s=M.timeout)!==null&&s!==void 0?s:yf.DEFAULT_TIMEOUT,this.logger=(a=M.logger)!==null&&a!==void 0?a:console;const I="warn";this.logLevel=I,this.logLevel=(d=(u=Ux(M.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Ux(Wh("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:I,this.fetchOptions=M.fetchOptions,this.maxRetries=(m=M.maxRetries)!==null&&m!==void 0?m:2,this.fetch=(y=M.fetch)!==null&&y!==void 0?y:DL(),this.encoder=VL,this._options=M,this.apiKey=x,this.apiVersion=w,this.clientAdapter=M.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:i}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const i=Ml([t.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Ml([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ml([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([i,s])=>typeof s<"u").map(([i,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(i)}=`;throw new Kn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${jr}`}defaultIdempotencyKey(){return`stainless-node-retry-${TL()}`}makeStatusError(t,i,s,a){return un.generate(t,i,s,a)}buildURL(t,i,s){const a=!this.baseURLOverridden()&&s||this.baseURL,u=EL(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),d=this.defaultQuery();return CL(d)||(i=Object.assign(Object.assign({},d),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(u.search=this.stringifyQuery(i)),u.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const i=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(t,{url:i,options:s}){}get(t,i){return this.methodRequest("get",t,i)}post(t,i){return this.methodRequest("post",t,i)}patch(t,i){return this.methodRequest("patch",t,i)}put(t,i){return this.methodRequest("put",t,i)}delete(t,i){return this.methodRequest("delete",t,i)}methodRequest(t,i,s){return this.request(Promise.resolve(s).then(a=>Object.assign({method:t,path:i},a)))}request(t,i=null){return new Ip(this,this.makeRequest(t,i,void 0))}async makeRequest(t,i,s){var a,u,d;const m=await t,y=(a=m.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=y),await this.prepareOptions(m);const{req:g,url:x,timeout:w}=await this.buildRequest(m,{retryCount:y-i});await this.prepareRequest(g,{url:x,options:m});const b="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),M=s===void 0?"":`, retryOf: ${s}`,I=Date.now();if(rn(this).debug(`[${b}] sending request`,Js({retryOfRequestLogID:s,method:m.method,url:x,options:m,headers:g.headers})),!((u=m.signal)===null||u===void 0)&&u.aborted)throw new Dm;const P=new AbortController,k=await this.fetchWithTimeout(x,g,w,P).catch(Lm),B=Date.now();if(k instanceof globalThis.Error){const z=`retrying, ${i} attempts remaining`;if(!((d=m.signal)===null||d===void 0)&&d.aborted)throw new Dm;const $=km(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(i)return rn(this).info(`[${b}] connection ${$?"timed out":"failed"} - ${z}`),rn(this).debug(`[${b}] connection ${$?"timed out":"failed"} (${z})`,Js({retryOfRequestLogID:s,url:x,durationMs:B-I,message:k.message})),this.retryRequest(m,i,s??b);throw rn(this).info(`[${b}] connection ${$?"timed out":"failed"} - error; no more retries left`),rn(this).debug(`[${b}] connection ${$?"timed out":"failed"} (error; no more retries left)`,Js({retryOfRequestLogID:s,url:x,durationMs:B-I,message:k.message})),$?new lE:new pf({cause:k})}const Y=`[${b}${M}] ${g.method} ${x} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${B-I}ms`;if(!k.ok){const z=await this.shouldRetry(k);if(i&&z){const ct=`retrying, ${i} attempts remaining`;return await OL(k.body),rn(this).info(`${Y} - ${ct}`),rn(this).debug(`[${b}] response error (${ct})`,Js({retryOfRequestLogID:s,url:k.url,status:k.status,headers:k.headers,durationMs:B-I})),this.retryRequest(m,i,s??b,k.headers)}const $=z?"error; no more retries left":"error; not retryable";rn(this).info(`${Y} - ${$}`);const Q=await k.text().catch(ct=>Lm(ct).message),V=NL(Q),nt=V?void 0:Q;throw rn(this).debug(`[${b}] response error (${$})`,Js({retryOfRequestLogID:s,url:k.url,status:k.status,headers:k.headers,message:nt,durationMs:Date.now()-I})),this.makeStatusError(k.status,V,nt,k.headers)}return rn(this).info(Y),rn(this).debug(`[${b}] response start`,Js({retryOfRequestLogID:s,url:k.url,status:k.status,headers:k.headers,durationMs:B-I})),{response:k,options:m,controller:P,requestLogID:b,retryOfRequestLogID:s,startTime:I}}async fetchWithTimeout(t,i,s,a){const u=i||{},{signal:d,method:m}=u,y=ef(u,["signal","method"]),g=this._makeAbort(a);d&&d.addEventListener("abort",g,{once:!0});const x=setTimeout(g,s),w=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,b=Object.assign(Object.assign(Object.assign({signal:a.signal},w?{duplex:"half"}:{}),{method:"GET"}),y);m&&(b.method=m.toUpperCase());try{return await this.fetch.call(void 0,t,b)}finally{clearTimeout(x)}}async shouldRetry(t){const i=t.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,i,s,a){var u;let d;const m=a==null?void 0:a.get("retry-after-ms");if(m){const g=parseFloat(m);Number.isNaN(g)||(d=g)}const y=a==null?void 0:a.get("retry-after");if(y&&!d){const g=parseFloat(y);Number.isNaN(g)?d=Date.parse(y)-Date.now():d=g*1e3}if(!(d&&0<=d&&d<60*1e3)){const g=(u=t.maxRetries)!==null&&u!==void 0?u:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(i,g)}return await RL(d),this.makeRequest(t,i-1,s)}calculateDefaultRetryTimeoutMillis(t,i){const u=i-t,d=Math.min(.5*Math.pow(2,u),8),m=1-Math.random()*.25;return d*m*1e3}async buildRequest(t,{retryCount:i=0}={}){var s,a,u;const d=Object.assign({},t),{method:m,path:y,query:g,defaultBaseURL:x}=d,w=this.buildURL(y,g,x);"timeout"in d&&ML("timeout",d.timeout),d.timeout=(s=d.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:b,body:M}=this.buildBody({options:d}),I=await this.buildHeaders({options:t,method:m,bodyHeaders:b,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:m,headers:I},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&M instanceof globalThis.ReadableStream&&{duplex:"half"}),M&&{body:M}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(u=d.fetchOptions)!==null&&u!==void 0?u:{}),url:w,timeout:d.timeout}}async buildHeaders({options:t,method:i,bodyHeaders:s,retryCount:a}){let u={};this.idempotencyHeader&&i!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=t.idempotencyKey);const d=await this.authHeaders(t);let m=Ml([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),LL()),this._options.defaultHeaders,s,t.headers,d]);return this.validateHeaders(m),m.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:i}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=Ml([i]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:UL(t)}:typeof t=="object"&&s.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(t)}:this.encoder({body:t,headers:s})}}yf.DEFAULT_TIMEOUT=6e4;class qe extends yf{constructor(){super(...arguments),this.interactions=new wE(this)}}CE=qe;qe.GeminiNextGenAPIClient=CE;qe.GeminiNextGenAPIClientError=Kn;qe.APIError=un;qe.APIConnectionError=pf;qe.APIConnectionTimeoutError=lE;qe.APIUserAbortError=Dm;qe.NotFoundError=dE;qe.ConflictError=hE;qe.RateLimitError=pE;qe.BadRequestError=uE;qe.AuthenticationError=cE;qe.InternalServerError=gE;qe.PermissionDeniedError=fE;qe.UnprocessableEntityError=mE;qe.toFile=qL;qe.Interactions=wE;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nD(e,t){const i={},s=h(e,["name"]);return s!=null&&p(i,["_url","name"],s),i}function iD(e,t){const i={},s=h(e,["name"]);return s!=null&&p(i,["_url","name"],s),i}function oD(e,t){const i={},s=h(e,["sdkHttpResponse"]);return s!=null&&p(i,["sdkHttpResponse"],s),i}function sD(e,t){const i={},s=h(e,["sdkHttpResponse"]);return s!=null&&p(i,["sdkHttpResponse"],s),i}function rD(e,t,i){const s={};if(h(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=h(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&p(t,["displayName"],a),h(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=h(e,["epochCount"]);t!==void 0&&u!=null&&p(t,["tuningTask","hyperparameters","epochCount"],u);const d=h(e,["learningRateMultiplier"]);if(d!=null&&p(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),h(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(h(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(h(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const m=h(e,["batchSize"]);t!==void 0&&m!=null&&p(t,["tuningTask","hyperparameters","batchSize"],m);const y=h(e,["learningRate"]);if(t!==void 0&&y!=null&&p(t,["tuningTask","hyperparameters","learningRate"],y),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(h(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(h(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(h(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(h(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(h(e,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return s}function aD(e,t,i){const s={};let a=h(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const V=h(e,["validationDataset"]);t!==void 0&&V!=null&&p(t,["supervisedTuningSpec"],Qh(V))}else if(a==="PREFERENCE_TUNING"){const V=h(e,["validationDataset"]);t!==void 0&&V!=null&&p(t,["preferenceOptimizationSpec"],Qh(V))}else if(a==="DISTILLATION"){const V=h(e,["validationDataset"]);t!==void 0&&V!=null&&p(t,["distillationSpec"],Qh(V))}const u=h(e,["tunedModelDisplayName"]);t!==void 0&&u!=null&&p(t,["tunedModelDisplayName"],u);const d=h(e,["description"]);t!==void 0&&d!=null&&p(t,["description"],d);let m=h(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const V=h(e,["epochCount"]);t!==void 0&&V!=null&&p(t,["supervisedTuningSpec","hyperParameters","epochCount"],V)}else if(m==="PREFERENCE_TUNING"){const V=h(e,["epochCount"]);t!==void 0&&V!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],V)}else if(m==="DISTILLATION"){const V=h(e,["epochCount"]);t!==void 0&&V!=null&&p(t,["distillationSpec","hyperParameters","epochCount"],V)}let y=h(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const V=h(e,["learningRateMultiplier"]);t!==void 0&&V!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],V)}else if(y==="PREFERENCE_TUNING"){const V=h(e,["learningRateMultiplier"]);t!==void 0&&V!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],V)}else if(y==="DISTILLATION"){const V=h(e,["learningRateMultiplier"]);t!==void 0&&V!=null&&p(t,["distillationSpec","hyperParameters","learningRateMultiplier"],V)}let g=h(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const V=h(e,["exportLastCheckpointOnly"]);t!==void 0&&V!=null&&p(t,["supervisedTuningSpec","exportLastCheckpointOnly"],V)}else if(g==="PREFERENCE_TUNING"){const V=h(e,["exportLastCheckpointOnly"]);t!==void 0&&V!=null&&p(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],V)}else if(g==="DISTILLATION"){const V=h(e,["exportLastCheckpointOnly"]);t!==void 0&&V!=null&&p(t,["distillationSpec","exportLastCheckpointOnly"],V)}let x=h(i,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const V=h(e,["adapterSize"]);t!==void 0&&V!=null&&p(t,["supervisedTuningSpec","hyperParameters","adapterSize"],V)}else if(x==="PREFERENCE_TUNING"){const V=h(e,["adapterSize"]);t!==void 0&&V!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],V)}else if(x==="DISTILLATION"){const V=h(e,["adapterSize"]);t!==void 0&&V!=null&&p(t,["distillationSpec","hyperParameters","adapterSize"],V)}let w=h(i,["config","method"]);if(w===void 0&&(w="SUPERVISED_FINE_TUNING"),w==="SUPERVISED_FINE_TUNING"){const V=h(e,["tuningMode"]);t!==void 0&&V!=null&&p(t,["supervisedTuningSpec","tuningMode"],V)}const b=h(e,["customBaseModel"]);t!==void 0&&b!=null&&p(t,["customBaseModel"],b);let M=h(i,["config","method"]);if(M===void 0&&(M="SUPERVISED_FINE_TUNING"),M==="SUPERVISED_FINE_TUNING"){const V=h(e,["batchSize"]);t!==void 0&&V!=null&&p(t,["supervisedTuningSpec","hyperParameters","batchSize"],V)}let I=h(i,["config","method"]);if(I===void 0&&(I="SUPERVISED_FINE_TUNING"),I==="SUPERVISED_FINE_TUNING"){const V=h(e,["learningRate"]);t!==void 0&&V!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRate"],V)}const P=h(e,["labels"]);t!==void 0&&P!=null&&p(t,["labels"],P);const k=h(e,["beta"]);t!==void 0&&k!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","beta"],k);const B=h(e,["baseTeacherModel"]);t!==void 0&&B!=null&&p(t,["distillationSpec","baseTeacherModel"],B);const Y=h(e,["tunedTeacherModelSource"]);t!==void 0&&Y!=null&&p(t,["distillationSpec","tunedTeacherModelSource"],Y);const z=h(e,["sftLossWeightMultiplier"]);t!==void 0&&z!=null&&p(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],z);const $=h(e,["outputUri"]);t!==void 0&&$!=null&&p(t,["outputUri"],$);const Q=h(e,["encryptionSpec"]);return t!==void 0&&Q!=null&&p(t,["encryptionSpec"],Q),s}function lD(e,t){const i={},s=h(e,["baseModel"]);s!=null&&p(i,["baseModel"],s);const a=h(e,["preTunedModel"]);a!=null&&p(i,["preTunedModel"],a);const u=h(e,["trainingDataset"]);u!=null&&_D(u);const d=h(e,["config"]);return d!=null&&rD(d,i),i}function uD(e,t){const i={},s=h(e,["baseModel"]);s!=null&&p(i,["baseModel"],s);const a=h(e,["preTunedModel"]);a!=null&&p(i,["preTunedModel"],a);const u=h(e,["trainingDataset"]);u!=null&&xD(u,i,t);const d=h(e,["config"]);return d!=null&&aD(d,i,t),i}function cD(e,t){const i={},s=h(e,["name"]);return s!=null&&p(i,["_url","name"],s),i}function fD(e,t){const i={},s=h(e,["name"]);return s!=null&&p(i,["_url","name"],s),i}function dD(e,t,i){const s={},a=h(e,["pageSize"]);t!==void 0&&a!=null&&p(t,["_query","pageSize"],a);const u=h(e,["pageToken"]);t!==void 0&&u!=null&&p(t,["_query","pageToken"],u);const d=h(e,["filter"]);return t!==void 0&&d!=null&&p(t,["_query","filter"],d),s}function hD(e,t,i){const s={},a=h(e,["pageSize"]);t!==void 0&&a!=null&&p(t,["_query","pageSize"],a);const u=h(e,["pageToken"]);t!==void 0&&u!=null&&p(t,["_query","pageToken"],u);const d=h(e,["filter"]);return t!==void 0&&d!=null&&p(t,["_query","filter"],d),s}function mD(e,t){const i={},s=h(e,["config"]);return s!=null&&dD(s,i),i}function pD(e,t){const i={},s=h(e,["config"]);return s!=null&&hD(s,i),i}function gD(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["nextPageToken"]);a!=null&&p(i,["nextPageToken"],a);const u=h(e,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>AE(m))),p(i,["tuningJobs"],d)}return i}function yD(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["nextPageToken"]);a!=null&&p(i,["nextPageToken"],a);const u=h(e,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Vm(m))),p(i,["tuningJobs"],d)}return i}function vD(e,t){const i={},s=h(e,["name"]);s!=null&&p(i,["model"],s);const a=h(e,["name"]);return a!=null&&p(i,["endpoint"],a),i}function _D(e,t){const i={};if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=h(e,["examples"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),p(i,["examples","examples"],a)}return i}function xD(e,t,i){const s={};let a=h(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const d=h(e,["gcsUri"]);t!==void 0&&d!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(a==="PREFERENCE_TUNING"){const d=h(e,["gcsUri"]);t!==void 0&&d!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(a==="DISTILLATION"){const d=h(e,["gcsUri"]);t!==void 0&&d!=null&&p(t,["distillationSpec","promptDatasetUri"],d)}let u=h(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=h(e,["vertexDatasetResource"]);t!==void 0&&d!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=h(e,["vertexDatasetResource"]);t!==void 0&&d!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(u==="DISTILLATION"){const d=h(e,["vertexDatasetResource"]);t!==void 0&&d!=null&&p(t,["distillationSpec","promptDatasetUri"],d)}if(h(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function AE(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["name"]);a!=null&&p(i,["name"],a);const u=h(e,["state"]);u!=null&&p(i,["state"],qS(u));const d=h(e,["createTime"]);d!=null&&p(i,["createTime"],d);const m=h(e,["tuningTask","startTime"]);m!=null&&p(i,["startTime"],m);const y=h(e,["tuningTask","completeTime"]);y!=null&&p(i,["endTime"],y);const g=h(e,["updateTime"]);g!=null&&p(i,["updateTime"],g);const x=h(e,["description"]);x!=null&&p(i,["description"],x);const w=h(e,["baseModel"]);w!=null&&p(i,["baseModel"],w);const b=h(e,["_self"]);return b!=null&&p(i,["tunedModel"],vD(b)),i}function Vm(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["name"]);a!=null&&p(i,["name"],a);const u=h(e,["state"]);u!=null&&p(i,["state"],qS(u));const d=h(e,["createTime"]);d!=null&&p(i,["createTime"],d);const m=h(e,["startTime"]);m!=null&&p(i,["startTime"],m);const y=h(e,["endTime"]);y!=null&&p(i,["endTime"],y);const g=h(e,["updateTime"]);g!=null&&p(i,["updateTime"],g);const x=h(e,["error"]);x!=null&&p(i,["error"],x);const w=h(e,["description"]);w!=null&&p(i,["description"],w);const b=h(e,["baseModel"]);b!=null&&p(i,["baseModel"],b);const M=h(e,["tunedModel"]);M!=null&&p(i,["tunedModel"],M);const I=h(e,["preTunedModel"]);I!=null&&p(i,["preTunedModel"],I);const P=h(e,["supervisedTuningSpec"]);P!=null&&p(i,["supervisedTuningSpec"],P);const k=h(e,["preferenceOptimizationSpec"]);k!=null&&p(i,["preferenceOptimizationSpec"],k);const B=h(e,["distillationSpec"]);B!=null&&p(i,["distillationSpec"],B);const Y=h(e,["tuningDataStats"]);Y!=null&&p(i,["tuningDataStats"],Y);const z=h(e,["encryptionSpec"]);z!=null&&p(i,["encryptionSpec"],z);const $=h(e,["partnerModelTuningSpec"]);$!=null&&p(i,["partnerModelTuningSpec"],$);const Q=h(e,["customBaseModel"]);Q!=null&&p(i,["customBaseModel"],Q);const V=h(e,["experiment"]);V!=null&&p(i,["experiment"],V);const nt=h(e,["labels"]);nt!=null&&p(i,["labels"],nt);const rt=h(e,["outputUri"]);rt!=null&&p(i,["outputUri"],rt);const ct=h(e,["pipelineJob"]);ct!=null&&p(i,["pipelineJob"],ct);const Tt=h(e,["serviceAccount"]);Tt!=null&&p(i,["serviceAccount"],Tt);const dt=h(e,["tunedModelDisplayName"]);dt!=null&&p(i,["tunedModelDisplayName"],dt);const _t=h(e,["veoTuningSpec"]);return _t!=null&&p(i,["veoTuningSpec"],_t),i}function TD(e,t){const i={},s=h(e,["sdkHttpResponse"]);s!=null&&p(i,["sdkHttpResponse"],s);const a=h(e,["name"]);a!=null&&p(i,["name"],a);const u=h(e,["metadata"]);u!=null&&p(i,["metadata"],u);const d=h(e,["done"]);d!=null&&p(i,["done"],d);const m=h(e,["error"]);return m!=null&&p(i,["error"],m),i}function Qh(e,t){const i={},s=h(e,["gcsUri"]);s!=null&&p(i,["validationDatasetUri"],s);const a=h(e,["vertexDatasetResource"]);return a!=null&&p(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SD extends ao{constructor(t){super(),this.apiClient=t,this.list=async(i={})=>new er(ro.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var s;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((s=i.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},i),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),u=await this.tuneMldevInternal(a);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:bm.JOB_STATE_QUEUED}}}}async getInternal(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=fD(t);return m=St("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>Vm(x))}else{const g=cD(t);return m=St("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>AE(x))}}async listInternal(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=pD(t);return m=St("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=yD(x),b=new cx;return Object.assign(b,w),b})}else{const g=mD(t);return m=St("tunedModels",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=gD(x),b=new cx;return Object.assign(b,w),b})}}async cancel(t){var i,s,a,u;let d,m="",y={};if(this.apiClient.isVertexAI()){const g=iD(t);return m=St("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=sD(x),b=new fx;return Object.assign(b,w),b})}else{const g=nD(t);return m=St("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:m,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json().then(w=>{const b=w;return b.sdkHttpResponse={headers:x.headers},b})),d.then(x=>{const w=oD(x),b=new fx;return Object.assign(b,w),b})}}async tuneInternal(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const m=uD(t,t);return u=St("tuningJobs",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>Vm(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=lD(t);return u=St("tunedModels",m._url),d=m._query,delete m._url,delete m._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const x=g;return x.sdkHttpResponse={headers:y.headers},x})),a.then(y=>TD(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ED{async download(t,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const wD=1024*1024*8,bD=3,CD=1e3,AD=2,of="x-goog-upload-status";async function MD(e,t,i){var s;const a=await ME(e,t,i),u=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[of])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function ND(e,t,i){var s;const a=await ME(e,t,i),u=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[of])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=OS(u),m=new wp;return Object.assign(m,d),m}async function ME(e,t,i){var s,a;let u=0,d=0,m=new Am(new Response),y="upload";for(u=e.size;d<u;){const g=Math.min(wD,u-d),x=e.slice(d,d+g);d+g>=u&&(y+=", finalize");let w=0,b=CD;for(;w<bD&&(m=await i.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(g)}}}),!(!((s=m==null?void 0:m.headers)===null||s===void 0)&&s[of]));)w++,await ID(b),b=b*AD;if(d+=g,((a=m==null?void 0:m.headers)===null||a===void 0?void 0:a[of])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return m}async function RD(e){return{size:e.size,type:e.type}}function ID(e){return new Promise(t=>setTimeout(t,e))}class PD{async upload(t,i,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await MD(t,i,s)}async uploadToFileSearchStore(t,i,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await ND(t,i,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await RD(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kD{create(t,i,s){return new LD(t,i,s)}}class LD{constructor(t,i,s){this.url=t,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vx="x-goog-api-key";class DD{constructor(t){this.apiKey=t}async addAuthHeaders(t,i){if(t.get(Vx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Vx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UD="gl-node/";class OD{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const i=this.httpOptions;i!=null&&i.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const s=new qe({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:i==null?void 0:i.timeout,maxRetries:(t=i==null?void 0:i.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=s.interactions,this._interactions}constructor(t){var i;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=t.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=t.apiKey;const s=wN(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const a=new DD(this.apiKey);this.apiClient=new Rk({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:UD+"web",uploader:new PD,downloader:new ED}),this.models=new jk(this.apiClient),this.live=new qk(this.apiClient,a,new kD),this.batches=new e2(this.apiClient),this.chats=new U2(this.models,this.apiClient),this.caches=new k2(this.apiClient),this.files=new K2(this.apiClient),this.operations=new Xk(this.apiClient),this.authTokens=new dL(this.apiClient),this.tunings=new SD(this.apiClient),this.fileSearchStores=new xL(this.apiClient)}}const VD="your_gemini_api_key_here";let Bm=null;Bm=new OD({apiKey:VD});const BD=`You are JAAGRUK AI, an expert incident classifier for India's civic reporting platform.

CLASSIFICATION GUIDELINES:

**CATEGORIES** (choose ONE most accurate):
1. **Crime / Safety** - Theft, robbery, assault, harassment, domestic violence, fraud, scams, kidnapping, eve-teasing, chain snatching, stalking, vandalism, burglary
2. **Emergency** - Fire, explosion, building collapse, gas leak, drowning, medical emergency, bomb threat, natural disaster, accidents with casualties
3. **Traffic** - Signal failure, wrong-side driving, drunk driving, overspeeding, road rage, parking violations, hit-and-run, illegal modifications
4. **Infrastructure** - Potholes, broken roads, water leakage, streetlight failure, broken footpaths, damaged bridges, open manholes, construction debris
5. **Environmental** - Illegal dumping, garbage pile-up, sewage overflow, air pollution, noise pollution, water contamination, illegal tree cutting
6. **Public Health** - Contaminated food, disease outbreak, unhygienic restaurants, stagnant water breeding mosquitoes, open defecation, medical negligence
7. **Corruption** - Bribery, extortion by officials, misuse of power, fund misappropriation, fake bills, nepotism, document tampering
8. **Civic Services** - Water supply issues, electricity problems, ration card issues, pension delays, certificate delays, property tax disputes

**URGENCY LEVELS**:
- **Critical**: Immediate danger to life, ongoing crime, fire, medical emergency, accidents
- **High**: Serious safety concern, corruption affecting services, major infrastructure failure
- **Medium**: Quality of life issues, service delays, environmental concerns
- **Low**: Minor inconveniences, suggestions, general complaints

**INDIAN AUTHORITIES** (choose 2 most relevant):
- Police: Police Control Room (100), Local Police Station, Anti-Corruption Bureau, Cyber Crime Cell, Traffic Police, Women Helpline (181)
- Municipal: Municipal Corporation, PWD (Public Works), Water Board, Electricity Board (DISCOM), Sanitation Dept
- State: SDM Office, Tehsil Office, RTO, Food Safety (FSSAI), Pollution Control Board
- Emergency: Fire Brigade (101), Ambulance (108), Disaster Management, Hospital Administration
- Other: Consumer Forum, Vigilance Department, Chief Minister's Grievance Cell, Local MLA Office

Analyze this incident report and classify accurately based on the content:`;async function zD(e){if(!Bm)return console.warn("[Gemini] No API key configured. Using fallback classification."),Bx(e);try{const i=(await Bm.models.generateContent({model:"gemini-2.0-flash",contents:`${BD}

INCIDENT REPORT: "${e}"

Analyze carefully and respond with accurate classification.`,config:{responseMimeType:"application/json",responseSchema:{type:Sn.OBJECT,properties:{category:{type:Sn.STRING,description:"Exactly one of: Crime / Safety, Emergency, Traffic, Infrastructure, Environmental, Public Health, Corruption, Civic Services"},urgency:{type:Sn.STRING,description:"Exactly one of: Critical, High, Medium, Low - based on immediacy and severity"},summary:{type:Sn.STRING,description:"Clear, professional 1-2 sentence summary of the incident that captures key details"},authorities:{type:Sn.ARRAY,items:{type:Sn.STRING},description:"Array of exactly 2 most relevant Indian authorities from the guidelines - include specific department names"}},required:["category","urgency","summary","authorities"]},temperature:.3}})).text||"{}",s=JSON.parse(i);return["Critical","High","Medium","Low"].includes(s.urgency)||(s.urgency="Medium"),["Crime / Safety","Emergency","Traffic","Infrastructure","Environmental","Public Health","Corruption","Civic Services"].includes(s.category)||(s.category="General Concern"),!s.authorities||s.authorities.length===0?s.authorities=["Local Police Station","Municipal Corporation"]:s.authorities.length===1?s.authorities.push("Municipal Corporation"):s.authorities.length>2&&(s.authorities=s.authorities.slice(0,2)),s}catch(t){return console.error("[Gemini] Analysis failed:",t),Bx(e)}}function Bx(e){const t=e.toLowerCase();let i="General Concern",s="Medium",a=["Local Police Station","Municipal Corporation"];return t.match(/fire|burn|explosion|blast|collapse|drowning|gas leak|bomb|casualt|dying|dead|murder|kidnap/)?(i="Emergency",s="Critical",a=["Police Control Room (100)","Fire Brigade (101)"]):t.match(/theft|robbery|assault|harass|attack|stalking|abuse|violence|fraud|scam|chain.?snatch|eve.?teas|vandal|burgl/)?(i="Crime / Safety",s="Critical",a=["Local Police Station","Police Control Room (100)"]):t.match(/molest|rape|sexual|dowry|domestic.?violence|touching|women|girl|lady/)?(i="Crime / Safety",s="Critical",a=["Women Helpline (181)","Local Police Station"]):t.match(/brib|corrupt|extort|money.?demand|hafta|illegal.?fee|kickback|misuse.*power/)?(i="Corruption",s="High",a=["Anti-Corruption Bureau","Vigilance Department"]):t.match(/traffic|signal|wrong.?side|drunk.?driv|oversp|parking|hit.?and.?run|road.?rage|rash.?driv/)?(i="Traffic",s=t.includes("accident")?"Critical":"Medium",a=["Traffic Police","Local Police Station"]):t.match(/pothole|road.*damage|broken.*road|water.*leak|pipe.*burst|street.?light|manhole|footpath|bridge/)?(i="Infrastructure",s=t.includes("danger")||t.includes("accident")?"High":"Medium",a=["PWD (Public Works)","Municipal Corporation"]):t.match(/garbage|dump|waste|sewage|pollution|smell|noise|contamina|tree.*cut|illegal.*construct/)?(i="Environmental",s="Medium",a=["Sanitation Department","Pollution Control Board"]):t.match(/food.?poison|disease|outbreak|mosquito|dengue|malaria|unhygien|contaminated.?food|stagnant.?water/)?(i="Public Health",s="High",a=["Food Safety (FSSAI)","Municipal Health Officer"]):t.match(/water.*supply|electricity|power.*cut|ration|pension|certificate|license|property.*tax/)&&(i="Civic Services",s="Medium",a=["Municipal Corporation","SDM Office"]),{category:i,urgency:s,summary:`Citizen report regarding ${i.toLowerCase()} incident requiring attention.`,authorities:a}}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GD=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),zx=e=>{const t=GD(e);return t.charAt(0).toUpperCase()+t.slice(1)},NE=(...e)=>e.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),qD=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=q.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:u,iconNode:d,...m},y)=>q.createElement("svg",{ref:y,...FD,width:t,height:t,stroke:e,strokeWidth:s?Number(i)*24/Number(t):i,className:NE("lucide",a),...!u&&!qD(m)&&{"aria-hidden":"true"},...m},[...d.map(([g,x])=>q.createElement(g,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(e,t)=>{const i=q.forwardRef(({className:s,...a},u)=>q.createElement(ZD,{ref:u,iconNode:t,className:NE(`lucide-${HD(zx(e))}`,`lucide-${e}`,s),...a}));return i.displayName=zx(e),i};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],RE=Pt("arrow-left",YD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],KD=Pt("arrow-right",JD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Hx=Pt("bot",jD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],ql=Pt("building",XD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],QD=Pt("camera",WD);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zm=Pt("check",$D);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eU=Pt("chevron-down",tU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hm=Pt("chevron-right",nU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fl=Pt("circle-alert",iU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gm=Pt("circle-check-big",oU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rU=Pt("circle-question-mark",sU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Pp=Pt("circle-user",aU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uU=Pt("clock",lU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],fU=Pt("copy",cU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],IE=Pt("external-link",dU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kp=Pt("eye-off",hU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PE=Pt("eye",mU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ma=Pt("file-text",pU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Gx=Pt("flame",gU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],vU=Pt("globe",yU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],qm=Pt("heart",_U);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],TU=Pt("house",xU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],EU=Pt("image",SU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],qx=Pt("landmark",wU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],CU=Pt("languages",bU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],En=Pt("loader-circle",AU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sf=Pt("lock",MU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RU=Pt("log-out",NU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],kE=Pt("mail",IU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ws=Pt("map-pin",PU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],LU=Pt("map-pinned",kU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],UU=Pt("mic-off",DU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],VU=Pt("mic",OU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],zU=Pt("moon",BU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],vf=Pt("navigation",HU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],qU=Pt("paperclip",GU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Qs=Pt("phone",FU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],YU=Pt("plus",ZU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],KU=Pt("refresh-cw",JU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],LE=Pt("search",jU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],WU=Pt("send",XU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$U=Pt("settings",QU);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$s=Pt("shield",t5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],DE=Pt("sparkles",e5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],i5=Pt("square",n5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],s5=Pt("sun",o5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_f=Pt("triangle-alert",r5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],l5=Pt("upload",a5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tr=Pt("user",u5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],f5=Pt("x",c5);function UE({size:e="md",animated:t=!0,showTagline:i=!1,className:s=""}){const a={sm:{icon:32,text:"text-lg",tagline:"text-xs"},md:{icon:48,text:"text-2xl",tagline:"text-sm"},lg:{icon:72,text:"text-4xl",tagline:"text-base"},xl:{icon:96,text:"text-5xl",tagline:"text-lg"}},{icon:u,text:d,tagline:m}=a[e];return E.jsxs("div",{className:`logo-container flex flex-col items-center ${s}`,children:[E.jsx("div",{className:"logo-glow"}),E.jsxs(gt.div,{initial:t?{scale:.8,opacity:0}:!1,animate:t?{scale:1,opacity:1}:!1,transition:{type:"spring",stiffness:200,damping:15},className:"relative",children:[E.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-indigo-500/30 via-purple-400/30 to-pink-400/30 animate-pulse-ring",style:{width:u+16,height:u+16,margin:-8}}),E.jsxs(gt.div,{className:`relative rounded-2xl bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center shadow-lg ${t?"animate-glow-pulse":""}`,style:{width:u,height:u},whileHover:{rotate:[0,-5,5,0],transition:{duration:.5}},children:[E.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-white",style:{width:u*.55,height:u*.55},children:[E.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),E.jsx(gt.path,{d:"M9 12l2 2 4-4",initial:t?{pathLength:0}:!1,animate:t?{pathLength:1}:!1,transition:{delay:.5,duration:.5}})]}),E.jsx("div",{className:"absolute inset-0 rounded-2xl bg-white/10"})]}),E.jsx(gt.div,{className:"absolute -inset-2 rounded-3xl border border-purple-500/20",animate:t?{scale:[1,1.1,1],opacity:[.3,.1,.3]}:!1,transition:{duration:2,repeat:1/0}})]}),E.jsxs(gt.div,{initial:t?{y:10,opacity:0}:!1,animate:t?{y:0,opacity:1}:!1,transition:{delay:.2,duration:.4},className:"mt-4 text-center",children:[E.jsxs("h1",{className:`font-black tracking-tight ${d} ${t?"logo-text logo-text-animated":""}`,children:[E.jsx("span",{className:"text-indigo-500",children:"JAAG"}),E.jsx("span",{className:"text-purple-500",children:"RUK"})]}),i&&E.jsx(gt.p,{initial:t?{opacity:0}:!1,animate:t?{opacity:1}:!1,transition:{delay:.4},className:`${m} text-gray-600 dark:text-gray-400 font-medium mt-1 tracking-wide`,children:" Your Voice "})]})]})}function d5({className:e=""}){return E.jsxs("div",{className:`flex items-center gap-2 group ${e}`,children:[E.jsx(gt.div,{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center shadow-md group-hover:shadow-lg group-hover:shadow-purple-500/30 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:E.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5 text-white",children:E.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}),E.jsxs("span",{className:"font-bold text-lg tracking-tight",children:[E.jsx("span",{className:"text-indigo-500 group-hover:text-indigo-600 transition-colors",children:"JAAG"}),E.jsx("span",{className:"text-purple-500 group-hover:text-purple-400 transition-colors",children:"RUK"})]})]})}function pa({variant:e="full",className:t=""}){return e==="minimal"?E.jsx("footer",{className:`py-4 px-4 text-center ${t}`,children:E.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 flex items-center justify-center gap-1",children:[E.jsx($s,{className:"w-3 h-3"}),"JAAGRUK  Your Voice"]})}):E.jsx(gt.footer,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`py-6 px-4 border-t border-gray-200 dark:border-gray-800 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm ${t}`,children:E.jsxs("div",{className:"max-w-md mx-auto text-center space-y-3",children:[E.jsxs("div",{className:"flex items-center justify-center gap-2",children:[E.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center",children:E.jsx($s,{className:"w-4 h-4 text-white"})}),E.jsxs("span",{className:"font-bold text-lg",children:[E.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"JAAG"}),E.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"RUK"})]})]}),E.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:'"Your Voice for a Better Tomorrow"'}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Blockchain-powered civic reporting platform. Secure, transparent, and tamper-proof."}),E.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs",children:[E.jsx("button",{className:"text-gray-500 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:"Privacy Policy"}),E.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:""}),E.jsx("button",{className:"text-gray-500 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:"Terms of Service"}),E.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:""}),E.jsx("button",{className:"text-gray-500 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:"Contact"})]}),E.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-600 flex items-center justify-center gap-1",children:["Made with ",E.jsx(qm,{className:"w-3 h-3 text-red-500 fill-red-500"})," in India"]})]})})}function h5({onNavigate:e}){return E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 dark:from-gray-950 dark:via-indigo-950 dark:to-purple-950 flex flex-col",children:[E.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[E.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-indigo-400/20 to-purple-500/20 rounded-full blur-3xl animate-pulse"}),E.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-purple-400/20 to-pink-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-violet-300/10 to-indigo-400/10 rounded-full blur-3xl"})]}),E.jsxs("main",{className:"relative flex-1 flex flex-col items-center justify-center px-6 py-12",children:[E.jsxs(gt.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[E.jsx(UE,{size:"xl",animated:!0,showTagline:!0}),E.jsxs(gt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-6 flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[E.jsx($s,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"}),E.jsx("span",{children:"Blockchain-Secured Civic Reporting"})]})]}),E.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"w-full max-w-sm space-y-4 mb-8",children:E.jsxs(gt.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>e("AUTH"),className:"w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold text-lg shadow-lg shadow-purple-500/30 flex items-center justify-center gap-3 transition-all hover:shadow-xl hover:shadow-purple-500/40",children:[E.jsx(Qs,{className:"w-6 h-6"}),"Login / Sign Up with Phone"]})}),E.jsxs(gt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex items-center gap-4 w-full max-w-sm mb-8",children:[E.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),E.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"or"}),E.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"})]}),E.jsxs(gt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("EMERGENCY_DETAILS"),className:"w-full max-w-sm py-4 px-6 rounded-2xl bg-gradient-to-r from-red-500 to-rose-500 text-white font-bold text-lg shadow-lg shadow-red-500/30 flex items-center justify-center gap-3 transition-all hover:shadow-xl hover:shadow-red-500/40",children:[E.jsx(_f,{className:"w-6 h-6"}),"Emergency SOS"]}),E.jsx(gt.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},onClick:()=>e("HOME"),className:"mt-6 text-sm text-gray-500 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 transition-colors underline-offset-4 hover:underline",children:"Continue as Guest"})]}),E.jsx(pa,{})]})}function wn({title:e,showBack:t=!1,showLang:i=!0,onBack:s,onNavigate:a}){const{theme:u,toggleTheme:d,language:m,setLanguage:y,t:g,auth:x}=Ge(),[w,b]=q.useState(!1);return E.jsxs("header",{className:"sticky top-0 z-50 flex items-center justify-between px-4 py-3 bg-background-light dark:bg-background-dark border-b border-gray-200 dark:border-gray-800",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[t&&s&&E.jsx(gt.button,{onClick:s,whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 -ml-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:E.jsx(RE,{className:"w-5 h-5"})}),e?E.jsx("h1",{className:"text-lg font-semibold",children:e}):E.jsx(d5,{})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[i&&E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>b(!w),className:"flex items-center gap-1 px-2 py-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-sm",children:[E.jsx(CU,{className:"w-4 h-4"}),E.jsx("span",{className:"hidden sm:inline",children:Yh[m]}),E.jsx(eU,{className:"w-3 h-3"})]}),w&&E.jsx(gt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute right-0 top-full mt-1 w-36 bg-white dark:bg-gray-900 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden z-50",children:Object.keys(Yh).map(M=>E.jsx("button",{onClick:()=>{y(M),b(!1)},className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors ${m===M?"bg-primary/10 text-primary":""}`,children:Yh[M]},M))})]}),E.jsx("button",{onClick:d,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:u==="dark"?E.jsx(s5,{className:"w-5 h-5"}):E.jsx(zU,{className:"w-5 h-5"})}),x.isAuthenticated?E.jsx("button",{onClick:()=>a==null?void 0:a("PROFILE"),className:"p-1.5 rounded-full bg-primary/10 hover:bg-primary/20 transition-colors",children:E.jsx(Pp,{className:"w-6 h-6 text-primary"})}):E.jsxs("button",{onClick:()=>a==null?void 0:a("LOGIN"),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-primary text-white text-sm font-medium hover:bg-primary-dark transition-colors",children:[E.jsx(tr,{className:"w-4 h-4"}),g("auth.login")]})]})]})}function m5({onNavigate:e,onBack:t}){const{loginWithOtp:i,isLoading:s}=Ge(),[a,u]=q.useState("phone"),[d,m]=q.useState(""),[y,g]=q.useState(["","","","","",""]),[x,w]=q.useState(""),[b,M]=q.useState(""),[I,P]=q.useState(0),[k,B]=q.useState(!1),Y=q.useRef([]);q.useEffect(()=>{if(I>0){const dt=setTimeout(()=>P(I-1),1e3);return()=>clearTimeout(dt)}},[I]);const z=dt=>{const _t=dt.replace(/\D/g,"");return _t.length<=10?_t.replace(/(\d{5})(\d{0,5})/,"$1 $2").trim():_t.slice(0,10).replace(/(\d{5})(\d{5})/,"$1 $2")},$=dt=>{const _t=z(dt.target.value);m(_t),M("")},Q=async()=>{if(d.replace(/\D/g,"").length!==10){M("Please enter a valid 10-digit phone number");return}P(30),u("otp"),M(""),setTimeout(()=>{var _t;return(_t=Y.current[0])==null?void 0:_t.focus()},100)},V=(dt,_t)=>{var K;if(!/^\d*$/.test(_t))return;const ht=[...y];if(ht[dt]=_t.slice(-1),g(ht),M(""),_t&&dt<5&&((K=Y.current[dt+1])==null||K.focus()),dt===5&&_t){const ft=ht.join("");ft.length===6&&rt(ft)}},nt=(dt,_t)=>{var ht;_t.key==="Backspace"&&!y[dt]&&dt>0&&((ht=Y.current[dt-1])==null||ht.focus())},rt=async dt=>{const _t=dt||y.join("");if(_t.length!==6){M("Please enter complete 6-digit OTP");return}if(_t==="123456")B(!0),u("name");else{const ht=await i(d.replace(/\D/g,""),_t,"");ht.success?e("HOME"):M(ht.message)}},ct=async()=>{if(!x.trim()){M("Please enter your name");return}const dt=await i(d.replace(/\D/g,""),y.join(""),x.trim());dt.success?e("HOME"):M(dt.message)},Tt=()=>{var dt;I>0||(P(30),g(["","","","","",""]),(dt=Y.current[0])==null||dt.focus())};return E.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 dark:from-gray-950 dark:via-indigo-950 dark:to-purple-950",children:[E.jsx(wn,{showBack:!0,onBack:t,showLang:!1}),E.jsx("main",{className:"flex-1 px-4 pt-8 pb-24",children:E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-sm mx-auto",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsxs(gt.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.6},className:"w-20 h-20 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center shadow-xl shadow-purple-500/30",children:[a==="phone"&&E.jsx(Qs,{className:"w-10 h-10 text-white"}),a==="otp"&&E.jsx($s,{className:"w-10 h-10 text-white"}),a==="name"&&E.jsx(tr,{className:"w-10 h-10 text-white"})]}),E.jsxs(gt.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-2xl font-bold text-gray-900 dark:text-white",children:[a==="phone"&&"Welcome to JAAGRUK",a==="otp"&&"Verify OTP",a==="name"&&"Almost There!"]},a),E.jsxs(gt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"text-gray-600 dark:text-gray-400 mt-2",children:[a==="phone"&&"Enter your phone number to continue",a==="otp"&&`Enter the 6-digit code sent to +91 ${d}`,a==="name"&&"Tell us your name to complete registration"]},`desc-${a}`)]}),E.jsx(Hl,{children:b&&E.jsx(gt.div,{initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},className:"mb-6 p-4 rounded-xl bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 text-sm text-center",children:b})}),E.jsxs(Hl,{mode:"wait",children:[a==="phone"&&E.jsxs(gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),E.jsxs("div",{className:"relative",children:[E.jsxs("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex items-center gap-2 text-gray-500",children:[E.jsx("span",{className:"text-lg",children:""}),E.jsx("span",{className:"font-medium",children:"+91"})]}),E.jsx("input",{type:"tel",value:d,onChange:$,placeholder:"98765 43210",className:"w-full pl-24 pr-4 py-4 text-lg font-medium rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-purple-500 focus:ring-4 focus:ring-purple-500/20 transition-all placeholder:text-gray-400",maxLength:11})]})]}),E.jsx(gt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Q,disabled:s||d.replace(/\D/g,"").length!==10,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-bold text-lg shadow-lg shadow-purple-500/30 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:shadow-xl hover:shadow-purple-500/40",children:s?E.jsx(En,{className:"w-6 h-6 animate-spin"}):E.jsxs(E.Fragment,{children:["Get OTP",E.jsx(KD,{className:"w-5 h-5"})]})}),E.jsx("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]},"phone-step"),a==="otp"&&E.jsxs(gt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[E.jsx("div",{className:"flex justify-center gap-3",children:y.map((dt,_t)=>E.jsx(gt.input,{ref:ht=>{Y.current[_t]=ht},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_t*.05},type:"text",inputMode:"numeric",value:dt,onChange:ht=>V(_t,ht.target.value),onKeyDown:ht=>nt(_t,ht),className:"w-12 h-14 text-center text-2xl font-bold rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-purple-500 focus:ring-4 focus:ring-purple-500/20 transition-all",maxLength:1},_t))}),E.jsx(gt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>rt(),disabled:s||y.join("").length!==6,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-bold text-lg shadow-lg shadow-purple-500/30 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:shadow-xl hover:shadow-purple-500/40",children:s?E.jsx(En,{className:"w-6 h-6 animate-spin"}):E.jsxs(E.Fragment,{children:["Verify OTP",E.jsx(Gm,{className:"w-5 h-5"})]})}),E.jsx("div",{className:"text-center",children:E.jsxs("button",{onClick:Tt,disabled:I>0,className:"text-sm text-purple-600 dark:text-purple-400 font-medium hover:underline disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mx-auto",children:[E.jsx(KU,{className:`w-4 h-4 ${I>0?"":"animate-spin-slow"}`}),I>0?`Resend OTP in ${I}s`:"Resend OTP"]})}),E.jsx("button",{onClick:()=>{u("phone"),g(["","","","","",""])},className:"w-full text-center text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Change phone number"})]},"otp-step"),a==="name"&&E.jsxs(gt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[E.jsxs("div",{className:"p-4 rounded-xl bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 text-center",children:[E.jsx(Gm,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),E.jsx("p",{className:"text-green-700 dark:text-green-300 font-medium",children:"Phone verified successfully!"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Your Name"}),E.jsxs("div",{className:"relative",children:[E.jsx(tr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),E.jsx("input",{type:"text",value:x,onChange:dt=>{w(dt.target.value),M("")},placeholder:"Enter your full name",className:"w-full pl-12 pr-4 py-4 text-lg rounded-2xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-purple-500 focus:ring-4 focus:ring-purple-500/20 transition-all placeholder:text-gray-400"})]})]}),E.jsx(gt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ct,disabled:s||!x.trim(),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-bold text-lg shadow-lg shadow-purple-500/30 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:shadow-xl hover:shadow-purple-500/40",children:s?E.jsx(En,{className:"w-6 h-6 animate-spin"}):E.jsxs(E.Fragment,{children:["Complete Registration",E.jsx(DE,{className:"w-5 h-5"})]})})]},"name-step")]}),E.jsx(gt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 p-4 rounded-xl bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-800",children:E.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300 text-center",children:[E.jsx("strong",{children:"Demo Mode:"})," Use OTP ",E.jsx("span",{className:"font-mono bg-blue-100 dark:bg-blue-800 px-2 py-0.5 rounded",children:"123456"})," for new user, or any 6 digits for existing user"]})})]})}),E.jsx(pa,{})]})}function xf({onNavigate:e}){const{t,activeTab:i,setActiveTab:s}=Ge(),a=d=>{switch(s(d),d){case"home":e==null||e("HOME");break;case"reports":e==null||e("REPORTS_LIST");break;case"nearby":e==null||e("NEARBY");break;case"profile":e==null||e("PROFILE");break}},u=[{id:"home",icon:TU,label:t("nav.home")},{id:"reports",icon:ma,label:t("nav.reports")},{id:"nearby",icon:LU,label:t("nav.nearby")},{id:"profile",icon:Pp,label:t("nav.profile")}];return E.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-t border-gray-200 dark:border-gray-800 safe-area-bottom",children:E.jsx("div",{className:"flex items-center justify-around py-2",children:u.map(({id:d,icon:m,label:y})=>E.jsxs("button",{onClick:()=>a(d),className:`flex flex-col items-center gap-0.5 px-4 py-1.5 rounded-lg transition-colors ${i===d?"text-purple-500":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[E.jsx(m,{className:`w-5 h-5 ${i===d?"stroke-[2.5]":""}`}),E.jsx("span",{className:"text-xs font-medium",children:y})]},d))})})}function Fx({onNavigate:e,onStartReport:t}){const{t:i,auth:s,userReports:a,theme:u}=Ge();return E.jsxs("div",{className:`min-h-screen ${u==="dark"?"gradient-dark-bg":"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50"}`,children:[u==="dark"&&E.jsx("div",{className:"fixed inset-0 gradient-mesh pointer-events-none"}),E.jsx(wn,{onNavigate:e}),E.jsxs("main",{className:"relative pb-24 px-4 pt-8",children:[E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-10",children:[E.jsx(UE,{size:"lg",animated:!0,showTagline:!0}),E.jsx(gt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-4 text-gray-600 dark:text-gray-400 max-w-xs mx-auto",children:i("home.tagline")})]}),E.jsxs("div",{className:"space-y-4 mb-8 max-w-md mx-auto",children:[E.jsxs(gt.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:t,className:"btn-hover-glow w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold text-lg shadow-lg shadow-purple-500/25 flex items-center justify-center gap-3",children:[E.jsx(ma,{className:"w-6 h-6"}),i("home.reportIssue")]}),E.jsxs(gt.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>e("EMERGENCY_DETAILS"),className:"btn-hover-glow w-full py-4 px-6 rounded-2xl bg-gradient-to-r from-red-500 to-rose-500 text-white font-semibold text-lg shadow-lg shadow-red-500/25 flex items-center justify-center gap-3",children:[E.jsx(_f,{className:"w-6 h-6"}),i("home.emergencySOS")]})]}),E.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6 max-w-md mx-auto",children:[{icon:DE,label:"AI-Powered",color:"text-purple-500"},{icon:sf,label:"Blockchain",color:"text-indigo-500"},{icon:vU,label:"Multi-lingual",color:"text-blue-500"}].map(({icon:d,label:m,color:y},g)=>E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+g*.1},className:"card-hover bg-white dark:bg-gray-900/50 rounded-xl p-3 text-center border border-gray-100 dark:border-gray-800",children:[E.jsx(d,{className:`w-6 h-6 mx-auto mb-1 ${y}`}),E.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:m})]},m))}),E.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"card-hover bg-white dark:bg-gray-900/50 rounded-2xl p-5 shadow-sm border border-gray-100 dark:border-gray-800 mb-6 max-w-md mx-auto backdrop-blur-sm",children:E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:E.jsx($s,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold mb-1",children:i("home.officialPlatform")}),E.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i("home.officialDesc")})]})]})}),s.isAuthenticated&&a.length>0&&E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"card-hover bg-white dark:bg-gray-900/50 rounded-2xl p-5 shadow-sm border border-gray-100 dark:border-gray-800 max-w-md mx-auto backdrop-blur-sm",children:[E.jsx("h3",{className:"font-semibold mb-3",children:i("home.yourReports")}),E.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-2xl font-bold text-purple-500",children:a.length}),E.jsx("div",{className:"text-xs text-gray-500",children:i("profile.myReports")})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:a.filter(d=>d.status==="PENDING").length}),E.jsx("div",{className:"text-xs text-gray-500",children:i("profile.pending")})]}),E.jsxs("div",{className:"text-center",children:[E.jsx("div",{className:"text-2xl font-bold text-green-500",children:a.filter(d=>d.status==="RESOLVED").length}),E.jsx("div",{className:"text-xs text-gray-500",children:i("home.resolved")})]})]})]}),E.jsx(pa,{variant:"minimal",className:"mt-8"})]}),E.jsx(xf,{onNavigate:e})]})}function p5({onNavigate:e,onBack:t}){const{t:i,login:s,isLoading:a}=Ge(),[u,d]=q.useState({email:"",password:""}),[m,y]=q.useState(!1),[g,x]=q.useState(""),w=async b=>{b.preventDefault(),x("");const M=await s(u.email,u.password);M.success?e("HOME"):x(M.message)};return E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50 dark:bg-background-dark",children:[E.jsx(wn,{title:i("auth.login"),showBack:!0,showLang:!1,onBack:t}),E.jsx("main",{className:"px-4 pt-8 pb-8",children:E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-sm mx-auto",children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center",children:E.jsx($s,{className:"w-8 h-8 text-white"})}),E.jsx("h2",{className:"text-xl font-bold",children:"Welcome Back"}),E.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Sign in to your JAAGRUK account"})]}),E.jsxs("form",{onSubmit:w,className:"space-y-4",children:[g&&E.jsxs(gt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm flex items-center gap-2",children:[E.jsx(Fl,{className:"w-4 h-4 flex-shrink-0"}),g]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1.5",children:i("auth.email")}),E.jsxs("div",{className:"relative",children:[E.jsx(kE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),E.jsx("input",{type:"email",value:u.email,onChange:b=>d({...u,email:b.target.value}),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"you@example.com",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1.5",children:i("auth.password")}),E.jsxs("div",{className:"relative",children:[E.jsx(sf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),E.jsx("input",{type:m?"text":"password",value:u.password,onChange:b=>d({...u,password:b.target.value}),className:"w-full pl-10 pr-12 py-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",required:!0}),E.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m?E.jsx(kp,{className:"w-5 h-5"}):E.jsx(PE,{className:"w-5 h-5"})})]})]}),E.jsx("div",{className:"text-right",children:E.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",children:i("auth.forgotPassword")})}),E.jsxs("button",{type:"submit",disabled:a,className:"w-full py-3 rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-50 transition-opacity",children:[a?E.jsx(En,{className:"w-5 h-5 animate-spin"}):null,i("auth.login")]})]}),E.jsxs("div",{className:"flex items-center gap-3 my-6",children:[E.jsx("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"}),E.jsx("span",{className:"text-sm text-gray-500",children:i("auth.or")}),E.jsx("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"})]}),E.jsx("button",{onClick:()=>e("HOME"),className:"w-full py-3 rounded-xl border border-gray-200 dark:border-gray-700 font-medium hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:i("auth.continueAsGuest")}),E.jsxs("p",{className:"text-center mt-6 text-sm text-gray-500",children:[i("auth.noAccount")," ",E.jsx("button",{onClick:()=>e("SIGNUP"),className:"text-primary font-medium hover:underline",children:i("auth.signup")})]})]})})]})}function g5({onNavigate:e,onBack:t}){const{t:i,signup:s,isLoading:a}=Ge(),[u,d]=q.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[m,y]=q.useState(!1),[g,x]=q.useState(""),w=async b=>{if(b.preventDefault(),x(""),u.password!==u.confirmPassword){x("Passwords do not match");return}const M=await s({name:u.name,email:u.email,phone:u.phone,password:u.password});M.success?e("HOME"):x(M.message)};return E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50 dark:bg-background-dark",children:[E.jsx(wn,{title:i("auth.signup"),showBack:!0,showLang:!1,onBack:t}),E.jsx("main",{className:"px-4 pt-6 pb-8",children:E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-sm mx-auto",children:[E.jsxs("div",{className:"text-center mb-6",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Create Account"}),E.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Join JAAGRUK to secure your reports"})]}),E.jsxs("form",{onSubmit:w,className:"space-y-4",children:[g&&E.jsxs(gt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm flex items-center gap-2",children:[E.jsx(Fl,{className:"w-4 h-4 flex-shrink-0"}),g]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1.5",children:i("auth.name")}),E.jsxs("div",{className:"relative",children:[E.jsx(tr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),E.jsx("input",{type:"text",value:u.name,onChange:b=>d({...u,name:b.target.value}),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"Your full name",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1.5",children:i("auth.email")}),E.jsxs("div",{className:"relative",children:[E.jsx(kE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),E.jsx("input",{type:"email",value:u.email,onChange:b=>d({...u,email:b.target.value}),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"you@example.com",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1.5",children:i("auth.phone")}),E.jsxs("div",{className:"relative",children:[E.jsx(Qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),E.jsx("input",{type:"tel",value:u.phone,onChange:b=>d({...u,phone:b.target.value}),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"+91 98765 43210",required:!0})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1.5",children:i("auth.password")}),E.jsxs("div",{className:"relative",children:[E.jsx(sf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),E.jsx("input",{type:m?"text":"password",value:u.password,onChange:b=>d({...u,password:b.target.value}),className:"w-full pl-10 pr-12 py-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",required:!0,minLength:6}),E.jsx("button",{type:"button",onClick:()=>y(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:m?E.jsx(kp,{className:"w-5 h-5"}):E.jsx(PE,{className:"w-5 h-5"})})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium mb-1.5",children:i("auth.confirmPassword")}),E.jsxs("div",{className:"relative",children:[E.jsx(sf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),E.jsx("input",{type:m?"text":"password",value:u.confirmPassword,onChange:b=>d({...u,confirmPassword:b.target.value}),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 focus:ring-2 focus:ring-primary focus:border-transparent transition-all",placeholder:"",required:!0})]})]}),E.jsxs("button",{type:"submit",disabled:a,className:"w-full py-3 rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-50 transition-opacity",children:[a?E.jsx(En,{className:"w-5 h-5 animate-spin"}):null,i("auth.signup")]})]}),E.jsxs("p",{className:"text-center mt-6 text-sm text-gray-500",children:[i("auth.hasAccount")," ",E.jsx("button",{onClick:()=>e("LOGIN"),className:"text-primary font-medium hover:underline",children:i("auth.login")})]})]})})]})}function y5({onNavigate:e,onBack:t,onSelectIdentity:i}){const{t:s}=Ge();return E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50 dark:bg-background-dark",children:[E.jsx(wn,{title:s("identity.title"),showBack:!0,onBack:t}),E.jsxs("main",{className:"px-4 pt-6 pb-8",children:[E.jsx(gt.p,{initial:{opacity:0},animate:{opacity:1},className:"text-center text-gray-600 dark:text-gray-400 mb-8",children:s("identity.subtitle")}),E.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[E.jsx(gt.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i("name"),className:"w-full p-5 rounded-2xl bg-white dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 hover:border-primary transition-colors text-left",children:E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:E.jsx(tr,{className:"w-6 h-6 text-primary"})}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx("h3",{className:"font-semibold",children:s("identity.withName")}),E.jsx("span",{className:"px-2 py-0.5 text-xs font-medium text-green-600 bg-green-100 dark:bg-green-900/30 dark:text-green-400 rounded-full",children:s("identity.withNameBadge")})]}),E.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s("identity.withNameDesc")})]}),E.jsx(Hm,{className:"w-5 h-5 text-gray-400 mt-3"})]})}),E.jsx(gt.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i("anonymous"),className:"w-full p-5 rounded-2xl bg-white dark:bg-gray-900 border-2 border-gray-200 dark:border-gray-700 hover:border-primary transition-colors text-left",children:E.jsxs("div",{className:"flex items-start gap-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 dark:bg-gray-800 flex items-center justify-center flex-shrink-0",children:E.jsx(kp,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E.jsx("h3",{className:"font-semibold",children:s("identity.anonymous")}),E.jsx("span",{className:"px-2 py-0.5 text-xs font-medium text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400 rounded-full",children:s("identity.anonymousBadge")})]}),E.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s("identity.anonymousDesc")})]}),E.jsx(Hm,{className:"w-5 h-5 text-gray-400 mt-3"})]})})]})]})]})}function v5({onNavigate:e,onBack:t,messages:i,onSendMessage:s,onFileUpload:a,isAnalyzing:u}){const{t:d,theme:m}=Ge(),[y,g]=q.useState(""),[x,w]=q.useState(!1),[b,M]=q.useState(!1),[I,P]=q.useState(!1),[k,B]=q.useState(0),Y=q.useRef(null),z=q.useRef(null),$=q.useRef(null),Q=q.useRef(null),V=q.useRef(null);q.useEffect(()=>{var K;(K=Y.current)==null||K.scrollIntoView({behavior:"smooth"})},[i]),q.useEffect(()=>{z.current&&(z.current.style.height="auto",z.current.style.height=`${Math.min(z.current.scrollHeight,150)}px`)},[y]),q.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const K=window.webkitSpeechRecognition||window.SpeechRecognition;Q.current=new K,Q.current.continuous=!0,Q.current.interimResults=!0,Q.current.lang="en-IN",Q.current.onresult=ft=>{let G="";for(let J=ft.resultIndex;J<ft.results.length;J++){const W=ft.results[J][0].transcript;ft.results[J].isFinal&&(G+=W+" ")}G&&g(J=>J+G)},Q.current.onerror=ft=>{console.error("Speech recognition error:",ft.error),rt()},Q.current.onend=()=>{if(I)try{Q.current.start()}catch{rt()}}}return()=>{if(Q.current)try{Q.current.stop()}catch{}V.current&&clearInterval(V.current)}},[]);const nt=()=>{if(!Q.current){alert("Voice recording is not supported in your browser. Please use Chrome.");return}try{Q.current.start(),P(!0),B(0),V.current=window.setInterval(()=>{B(K=>K+1)},1e3)}catch(K){console.error("Failed to start recording:",K)}},rt=()=>{if(Q.current)try{Q.current.stop()}catch{}P(!1),V.current&&(clearInterval(V.current),V.current=null)},ct=()=>{I?rt():nt()},Tt=K=>{const ft=Math.floor(K/60),G=K%60;return`${ft}:${G.toString().padStart(2,"0")}`},dt=()=>{!y.trim()||u||(rt(),s(y),g(""),z.current&&(z.current.style.height="auto"))},_t=K=>{K.key==="Enter"&&!K.shiftKey&&(K.preventDefault(),dt())},ht=K=>{const ft=K.target.files;ft&&ft.length>0&&a(ft),$.current&&($.current.value="")};return E.jsxs("div",{className:`min-h-screen flex flex-col ${m==="dark"?"gradient-dark-bg":"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50"}`,children:[m==="dark"&&E.jsx("div",{className:"fixed inset-0 gradient-mesh pointer-events-none"}),E.jsx(wn,{showBack:!0,onBack:t}),E.jsxs("main",{className:"flex-1 overflow-y-auto px-4 py-4 pb-48 relative",children:[E.jsx(Hl,{children:i.map((K,ft)=>E.jsxs(gt.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:ft*.05},className:`mb-4 flex ${K.role==="user"?"justify-end":"justify-start"}`,children:[K.role==="assistant"&&E.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center mr-2 flex-shrink-0 shadow-md",children:E.jsx(Hx,{className:"w-4 h-4 text-white"})}),E.jsxs("div",{className:`max-w-[75%] px-4 py-3 rounded-2xl shadow-sm ${K.role==="user"?"chat-bubble-user text-white":"chat-bubble-assistant bg-white dark:bg-gray-900/80 border border-gray-200 dark:border-gray-700 text-gray-900 dark:text-gray-100"} ${K.italic?"italic text-sm opacity-80":""}`,children:[E.jsx("p",{className:"whitespace-pre-wrap",children:K.text}),K.attachments&&K.attachments.length>0&&E.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:K.attachments.map(G=>E.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-200 dark:bg-gray-700 overflow-hidden border border-white/20",children:G.mimetype.startsWith("image/")?E.jsx("img",{src:G.url,alt:G.filename,className:"w-full h-full object-cover"}):E.jsx("div",{className:"w-full h-full flex items-center justify-center",children:E.jsx(ma,{className:"w-6 h-6 text-gray-400"})})},G.id))})]}),K.role==="user"&&E.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center ml-2 flex-shrink-0",children:E.jsx(tr,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})})]},K.id))}),u&&E.jsxs(gt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-start gap-2",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0 shadow-md",children:E.jsx(Hx,{className:"w-4 h-4 text-white"})}),E.jsx("div",{className:"bg-white dark:bg-gray-900/80 border border-gray-200 dark:border-gray-700 rounded-2xl px-4 py-3 shadow-sm",children:E.jsxs("div",{className:"typing-indicator flex items-center gap-1.5",children:[E.jsx("span",{}),E.jsx("span",{}),E.jsx("span",{})]})})]}),E.jsx("div",{ref:Y})]}),E.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg border-t border-gray-200 dark:border-gray-800",children:E.jsxs("div",{className:"max-w-2xl mx-auto",children:[E.jsx(Hl,{children:I&&E.jsxs(gt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"mb-3 p-3 rounded-xl bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 animate-pulse"}),E.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"Recording voice..."}),E.jsx("span",{className:"text-red-500 font-mono",children:Tt(k)})]}),E.jsx("button",{onClick:rt,className:"p-2 rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",children:E.jsx(i5,{className:"w-4 h-4"})})]})}),E.jsxs("div",{className:`chat-input-container flex items-end gap-2 p-2 rounded-2xl bg-gray-100 dark:bg-gray-800 transition-all duration-300 ${b?"ring-2 ring-purple-500 ring-offset-2 ring-offset-white dark:ring-offset-gray-900":""}`,children:[E.jsx("input",{type:"file",ref:$,onChange:ht,multiple:!0,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx",className:"hidden"}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx(gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{var K;return(K=$.current)==null?void 0:K.click()},disabled:x||u,className:"p-2.5 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",title:"Attach file",children:x?E.jsx(En,{className:"w-5 h-5 animate-spin text-purple-500"}):E.jsx(qU,{className:"w-5 h-5 text-gray-500"})}),E.jsx(gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{var K;return(K=$.current)==null?void 0:K.click()},disabled:u,className:"p-2.5 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",title:"Add image",children:E.jsx(EU,{className:"w-5 h-5 text-gray-500"})}),E.jsx(gt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ct,disabled:u,className:`p-2.5 rounded-xl transition-all disabled:opacity-50 ${I?"bg-red-500 text-white hover:bg-red-600":"hover:bg-gray-200 dark:hover:bg-gray-700"}`,title:I?"Stop recording":"Start voice recording",children:I?E.jsx(UU,{className:"w-5 h-5"}):E.jsx(VU,{className:"w-5 h-5 text-gray-500"})})]}),E.jsx("textarea",{ref:z,value:y,onChange:K=>g(K.target.value),onKeyDown:_t,onFocus:()=>M(!0),onBlur:()=>M(!1),placeholder:I?"Listening... Speak now":d("chat.placeholder"),className:"flex-1 px-4 py-3 rounded-xl bg-transparent resize-none focus:outline-none text-gray-900 dark:text-white placeholder-gray-500 min-h-[48px] max-h-[150px]",disabled:u,rows:1}),E.jsx(gt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:dt,disabled:!y.trim()||u,className:"p-3 rounded-xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-md hover:shadow-lg hover:shadow-purple-500/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none",children:E.jsx(WU,{className:"w-5 h-5"})})]}),E.jsxs("div",{className:"flex items-center justify-between mt-2 px-2",children:[E.jsx("p",{className:"text-xs text-gray-400",children:d("chat.secure")}),E.jsx("p",{className:"text-xs text-gray-400",children:" Voice or  Type"})]})]})})]})}function OE(e,t){const i=q.useRef(t);q.useEffect(function(){t!==i.current&&e.attributionControl!=null&&(i.current!=null&&e.attributionControl.removeAttribution(i.current),t!=null&&e.attributionControl.addAttribution(t)),i.current=t},[e,t])}function _5(e,t,i){t.center!==i.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==i.radius&&e.setRadius(t.radius)}var x5=Jx();const T5=1;function S5(e){return Object.freeze({__version:T5,map:e})}function VE(e,t){return Object.freeze({...e,...t})}const Lp=q.createContext(null);function Tf(){const e=q.use(Lp);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function BE(e){function t(i,s){const{instance:a,context:u}=e(i).current;q.useImperativeHandle(s,()=>a);const{children:d}=i;return d==null?null:Gc.createElement(Lp,{value:u},d)}return q.forwardRef(t)}function E5(e){function t(i,s){const[a,u]=q.useState(!1),{instance:d}=e(i,u).current;q.useImperativeHandle(s,()=>d),q.useEffect(function(){a&&d.update()},[d,a,i.children]);const m=d._contentNode;return m?x5.createPortal(i.children,m):null}return q.forwardRef(t)}function w5(e){function t(i,s){const{instance:a}=e(i).current;return q.useImperativeHandle(s,()=>a),null}return q.forwardRef(t)}function Dp(e,t){const i=q.useRef(void 0);q.useEffect(function(){return t!=null&&e.instance.on(t),i.current=t,function(){i.current!=null&&e.instance.off(i.current),i.current=null}},[e,t])}function Sf(e,t){const i=e.pane??t.pane;return i?{...e,pane:i}:e}function b5(e,t){return function(s,a){const u=Tf(),d=e(Sf(s,u),u);return OE(u.map,s.attribution),Dp(d.current,s.eventHandlers),t(d.current,u,s,a),d}}var Il={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var C5=Il.exports,Zx;function A5(){return Zx||(Zx=1,(function(e,t){(function(i,s){s(t)})(C5,(function(i){var s="1.9.4";function a(r){var c,v,S,C;for(v=1,S=arguments.length;v<S;v++){C=arguments[v];for(c in C)r[c]=C[c]}return r}var u=Object.create||(function(){function r(){}return function(c){return r.prototype=c,new r}})();function d(r,c){var v=Array.prototype.slice;if(r.bind)return r.bind.apply(r,v.call(arguments,1));var S=v.call(arguments,2);return function(){return r.apply(c,S.length?S.concat(v.call(arguments)):arguments)}}var m=0;function y(r){return"_leaflet_id"in r||(r._leaflet_id=++m),r._leaflet_id}function g(r,c,v){var S,C,N,D;return D=function(){S=!1,C&&(N.apply(v,C),C=!1)},N=function(){S?C=arguments:(r.apply(v,arguments),setTimeout(D,c),S=!0)},N}function x(r,c,v){var S=c[1],C=c[0],N=S-C;return r===S&&v?r:((r-C)%N+N)%N+C}function w(){return!1}function b(r,c){if(c===!1)return r;var v=Math.pow(10,c===void 0?6:c);return Math.round(r*v)/v}function M(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function I(r){return M(r).split(/\s+/)}function P(r,c){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?u(r.options):{});for(var v in c)r.options[v]=c[v];return r.options}function k(r,c,v){var S=[];for(var C in r)S.push(encodeURIComponent(v?C.toUpperCase():C)+"="+encodeURIComponent(r[C]));return(!c||c.indexOf("?")===-1?"?":"&")+S.join("&")}var B=/\{ *([\w_ -]+) *\}/g;function Y(r,c){return r.replace(B,function(v,S){var C=c[S];if(C===void 0)throw new Error("No value provided for variable "+v);return typeof C=="function"&&(C=C(c)),C})}var z=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function $(r,c){for(var v=0;v<r.length;v++)if(r[v]===c)return v;return-1}var Q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var nt=0;function rt(r){var c=+new Date,v=Math.max(0,16-(c-nt));return nt=c+v,window.setTimeout(r,v)}var ct=window.requestAnimationFrame||V("RequestAnimationFrame")||rt,Tt=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function dt(r,c,v){if(v&&ct===rt)r.call(c);else return ct.call(window,d(r,c))}function _t(r){r&&Tt.call(window,r)}var ht={__proto__:null,extend:a,create:u,bind:d,get lastId(){return m},stamp:y,throttle:g,wrapNum:x,falseFn:w,formatNum:b,trim:M,splitWords:I,setOptions:P,getParamString:k,template:Y,isArray:z,indexOf:$,emptyImageUrl:Q,requestFn:ct,cancelFn:Tt,requestAnimFrame:dt,cancelAnimFrame:_t};function K(){}K.extend=function(r){var c=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=c.__super__=this.prototype,S=u(v);S.constructor=c,c.prototype=S;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(c[C]=this[C]);return r.statics&&a(c,r.statics),r.includes&&(ft(r.includes),a.apply(null,[S].concat(r.includes))),a(S,r),delete S.statics,delete S.includes,S.options&&(S.options=v.options?u(v.options):{},a(S.options,r.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var N=0,D=S._initHooks.length;N<D;N++)S._initHooks[N].call(this)}},c},K.include=function(r){var c=this.prototype.options;return a(this.prototype,r),r.options&&(this.prototype.options=c,this.mergeOptions(r.options)),this},K.mergeOptions=function(r){return a(this.prototype.options,r),this},K.addInitHook=function(r){var c=Array.prototype.slice.call(arguments,1),v=typeof r=="function"?r:function(){this[r].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function ft(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=z(r)?r:[r];for(var c=0;c<r.length;c++)r[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(r,c,v){if(typeof r=="object")for(var S in r)this._on(S,r[S],c);else{r=I(r);for(var C=0,N=r.length;C<N;C++)this._on(r[C],c,v)}return this},off:function(r,c,v){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var S in r)this._off(S,r[S],c);else{r=I(r);for(var C=arguments.length===1,N=0,D=r.length;N<D;N++)C?this._off(r[N]):this._off(r[N],c,v)}return this},_on:function(r,c,v,S){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(r,c,v)===!1){v===this&&(v=void 0);var C={fn:c,ctx:v};S&&(C.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(C)}},_off:function(r,c,v){var S,C,N;if(this._events&&(S=this._events[r],!!S)){if(arguments.length===1){if(this._firingCount)for(C=0,N=S.length;C<N;C++)S[C].fn=w;delete this._events[r];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var D=this._listens(r,c,v);if(D!==!1){var Z=S[D];this._firingCount&&(Z.fn=w,this._events[r]=S=S.slice()),S.splice(D,1)}}},fire:function(r,c,v){if(!this.listens(r,v))return this;var S=a({},c,{type:r,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var C=this._events[r];if(C){this._firingCount=this._firingCount+1||1;for(var N=0,D=C.length;N<D;N++){var Z=C[N],tt=Z.fn;Z.once&&this.off(r,tt,Z.ctx),tt.call(Z.ctx||this,S)}this._firingCount--}}return v&&this._propagateEvent(S),this},listens:function(r,c,v,S){typeof r!="string"&&console.warn('"string" type argument expected');var C=c;typeof c!="function"&&(S=!!c,C=void 0,v=void 0);var N=this._events&&this._events[r];if(N&&N.length&&this._listens(r,C,v)!==!1)return!0;if(S){for(var D in this._eventParents)if(this._eventParents[D].listens(r,c,v,S))return!0}return!1},_listens:function(r,c,v){if(!this._events)return!1;var S=this._events[r]||[];if(!c)return!!S.length;v===this&&(v=void 0);for(var C=0,N=S.length;C<N;C++)if(S[C].fn===c&&S[C].ctx===v)return C;return!1},once:function(r,c,v){if(typeof r=="object")for(var S in r)this._on(S,r[S],c,!0);else{r=I(r);for(var C=0,N=r.length;C<N;C++)this._on(r[C],c,v,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[y(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[y(r)],this},_propagateEvent:function(r){for(var c in this._eventParents)this._eventParents[c].fire(r.type,a({layer:r.target,propagatedFrom:r.target},r),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var J=K.extend(G);function W(r,c,v){this.x=v?Math.round(r):r,this.y=v?Math.round(c):c}var yt=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(r){return this.clone()._add(mt(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(mt(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new W(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new W(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=yt(this.x),this.y=yt(this.y),this},distanceTo:function(r){r=mt(r);var c=r.x-this.x,v=r.y-this.y;return Math.sqrt(c*c+v*v)},equals:function(r){return r=mt(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=mt(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function mt(r,c,v){return r instanceof W?r:z(r)?new W(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new W(r.x,r.y):new W(r,c,v)}function U(r,c){if(r)for(var v=c?[r,c]:r,S=0,C=v.length;S<C;S++)this.extend(v[S])}U.prototype={extend:function(r){var c,v;if(!r)return this;if(r instanceof W||typeof r[0]=="number"||"x"in r)c=v=mt(r);else if(r=ot(r),c=r.min,v=r.max,!c||!v)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=v.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(r){return mt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return mt(this.min.x,this.max.y)},getTopRight:function(){return mt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var c,v;return typeof r[0]=="number"||r instanceof W?r=mt(r):r=ot(r),r instanceof U?(c=r.min,v=r.max):c=v=r,c.x>=this.min.x&&v.x<=this.max.x&&c.y>=this.min.y&&v.y<=this.max.y},intersects:function(r){r=ot(r);var c=this.min,v=this.max,S=r.min,C=r.max,N=C.x>=c.x&&S.x<=v.x,D=C.y>=c.y&&S.y<=v.y;return N&&D},overlaps:function(r){r=ot(r);var c=this.min,v=this.max,S=r.min,C=r.max,N=C.x>c.x&&S.x<v.x,D=C.y>c.y&&S.y<v.y;return N&&D},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var c=this.min,v=this.max,S=Math.abs(c.x-v.x)*r,C=Math.abs(c.y-v.y)*r;return ot(mt(c.x-S,c.y-C),mt(v.x+S,v.y+C))},equals:function(r){return r?(r=ot(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ot(r,c){return!r||r instanceof U?r:new U(r,c)}function pt(r,c){if(r)for(var v=c?[r,c]:r,S=0,C=v.length;S<C;S++)this.extend(v[S])}pt.prototype={extend:function(r){var c=this._southWest,v=this._northEast,S,C;if(r instanceof wt)S=r,C=r;else if(r instanceof pt){if(S=r._southWest,C=r._northEast,!S||!C)return this}else return r?this.extend(Et(r)||vt(r)):this;return!c&&!v?(this._southWest=new wt(S.lat,S.lng),this._northEast=new wt(C.lat,C.lng)):(c.lat=Math.min(S.lat,c.lat),c.lng=Math.min(S.lng,c.lng),v.lat=Math.max(C.lat,v.lat),v.lng=Math.max(C.lng,v.lng)),this},pad:function(r){var c=this._southWest,v=this._northEast,S=Math.abs(c.lat-v.lat)*r,C=Math.abs(c.lng-v.lng)*r;return new pt(new wt(c.lat-S,c.lng-C),new wt(v.lat+S,v.lng+C))},getCenter:function(){return new wt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new wt(this.getNorth(),this.getWest())},getSouthEast:function(){return new wt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof wt||"lat"in r?r=Et(r):r=vt(r);var c=this._southWest,v=this._northEast,S,C;return r instanceof pt?(S=r.getSouthWest(),C=r.getNorthEast()):S=C=r,S.lat>=c.lat&&C.lat<=v.lat&&S.lng>=c.lng&&C.lng<=v.lng},intersects:function(r){r=vt(r);var c=this._southWest,v=this._northEast,S=r.getSouthWest(),C=r.getNorthEast(),N=C.lat>=c.lat&&S.lat<=v.lat,D=C.lng>=c.lng&&S.lng<=v.lng;return N&&D},overlaps:function(r){r=vt(r);var c=this._southWest,v=this._northEast,S=r.getSouthWest(),C=r.getNorthEast(),N=C.lat>c.lat&&S.lat<v.lat,D=C.lng>c.lng&&S.lng<v.lng;return N&&D},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,c){return r?(r=vt(r),this._southWest.equals(r.getSouthWest(),c)&&this._northEast.equals(r.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function vt(r,c){return r instanceof pt?r:new pt(r,c)}function wt(r,c,v){if(isNaN(r)||isNaN(c))throw new Error("Invalid LatLng object: ("+r+", "+c+")");this.lat=+r,this.lng=+c,v!==void 0&&(this.alt=+v)}wt.prototype={equals:function(r,c){if(!r)return!1;r=Et(r);var v=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return v<=(c===void 0?1e-9:c)},toString:function(r){return"LatLng("+b(this.lat,r)+", "+b(this.lng,r)+")"},distanceTo:function(r){return de.distance(this,Et(r))},wrap:function(){return de.wrapLatLng(this)},toBounds:function(r){var c=180*r/40075017,v=c/Math.cos(Math.PI/180*this.lat);return vt([this.lat-c,this.lng-v],[this.lat+c,this.lng+v])},clone:function(){return new wt(this.lat,this.lng,this.alt)}};function Et(r,c,v){return r instanceof wt?r:z(r)&&typeof r[0]!="object"?r.length===3?new wt(r[0],r[1],r[2]):r.length===2?new wt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new wt(r.lat,"lng"in r?r.lng:r.lon,r.alt):c===void 0?null:new wt(r,c,v)}var zt={latLngToPoint:function(r,c){var v=this.projection.project(r),S=this.scale(c);return this.transformation._transform(v,S)},pointToLatLng:function(r,c){var v=this.scale(c),S=this.transformation.untransform(r,v);return this.projection.unproject(S)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var c=this.projection.bounds,v=this.scale(r),S=this.transformation.transform(c.min,v),C=this.transformation.transform(c.max,v);return new U(S,C)},infinite:!1,wrapLatLng:function(r){var c=this.wrapLng?x(r.lng,this.wrapLng,!0):r.lng,v=this.wrapLat?x(r.lat,this.wrapLat,!0):r.lat,S=r.alt;return new wt(v,c,S)},wrapLatLngBounds:function(r){var c=r.getCenter(),v=this.wrapLatLng(c),S=c.lat-v.lat,C=c.lng-v.lng;if(S===0&&C===0)return r;var N=r.getSouthWest(),D=r.getNorthEast(),Z=new wt(N.lat-S,N.lng-C),tt=new wt(D.lat-S,D.lng-C);return new pt(Z,tt)}},de=a({},zt,{wrapLng:[-180,180],R:6371e3,distance:function(r,c){var v=Math.PI/180,S=r.lat*v,C=c.lat*v,N=Math.sin((c.lat-r.lat)*v/2),D=Math.sin((c.lng-r.lng)*v/2),Z=N*N+Math.cos(S)*Math.cos(C)*D*D,tt=2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z));return this.R*tt}}),he=6378137,Pi={R:he,MAX_LATITUDE:85.0511287798,project:function(r){var c=Math.PI/180,v=this.MAX_LATITUDE,S=Math.max(Math.min(v,r.lat),-v),C=Math.sin(S*c);return new W(this.R*r.lng*c,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(r){var c=180/Math.PI;return new wt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*c,r.x*c/this.R)},bounds:(function(){var r=he*Math.PI;return new U([-r,-r],[r,r])})()};function co(r,c,v,S){if(z(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=c,this._c=v,this._d=S}co.prototype={transform:function(r,c){return this._transform(r.clone(),c)},_transform:function(r,c){return c=c||1,r.x=c*(this._a*r.x+this._b),r.y=c*(this._c*r.y+this._d),r},untransform:function(r,c){return c=c||1,new W((r.x/c-this._b)/this._a,(r.y/c-this._d)/this._c)}};function ki(r,c,v,S){return new co(r,c,v,S)}var nr=a({},de,{code:"EPSG:3857",projection:Pi,transformation:(function(){var r=.5/(Math.PI*Pi.R);return ki(r,.5,-r,.5)})()}),Li=a({},nr,{code:"EPSG:900913"});function ir(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function or(r,c){var v="",S,C,N,D,Z,tt;for(S=0,N=r.length;S<N;S++){for(Z=r[S],C=0,D=Z.length;C<D;C++)tt=Z[C],v+=(C?"L":"M")+tt.x+" "+tt.y;v+=c?Mt.svg?"z":"x":""}return v||"M0 0"}var ya=document.documentElement.style,ns="ActiveXObject"in window,va=ns&&!document.addEventListener,sr="msLaunchUri"in navigator&&!("documentMode"in document),is=cn("webkit"),Xl=cn("android"),Wl=cn("android 2")||cn("android 3"),tn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),bf=Xl&&cn("Google")&&tn<537&&!("AudioNode"in window),rr=!!window.opera,_a=!sr&&cn("chrome"),os=cn("gecko")&&!is&&!rr&&!ns,Cf=!_a&&cn("safari"),xa=cn("phantom"),Ql="OTransition"in ya,Af=navigator.platform.indexOf("Win")===0,fo=ns&&"transition"in ya,Fe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Wl,jn="MozPerspective"in ya,en=!window.L_DISABLE_3D&&(fo||Fe||jn)&&!Ql&&!xa,ss=typeof orientation<"u"||cn("mobile"),Mf=ss&&is,Nf=ss&&Fe,rs=!window.PointerEvent&&window.MSPointerEvent,as=!!(window.PointerEvent||rs),ls="ontouchstart"in window||!!window.TouchEvent,Di=!window.L_NO_TOUCH&&(ls||as),ar=ss&&rr,us=ss&&os,Rf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$l=(function(){var r=!1;try{var c=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",w,c),window.removeEventListener("testPassiveEventSupport",w,c)}catch{}return r})(),Ta=(function(){return!!document.createElement("canvas").getContext})(),Ui=!!(document.createElementNS&&ir("svg").createSVGRect),If=!!Ui&&(function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),tu=!Ui&&(function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var c=r.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),eu=navigator.platform.indexOf("Mac")===0,nu=navigator.platform.indexOf("Linux")===0;function cn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Mt={ie:ns,ielt9:va,edge:sr,webkit:is,android:Xl,android23:Wl,androidStock:bf,opera:rr,chrome:_a,gecko:os,safari:Cf,phantom:xa,opera12:Ql,win:Af,ie3d:fo,webkit3d:Fe,gecko3d:jn,any3d:en,mobile:ss,mobileWebkit:Mf,mobileWebkit3d:Nf,msPointer:rs,pointer:as,touch:Di,touchNative:ls,mobileOpera:ar,mobileGecko:us,retina:Rf,passiveEvents:$l,canvas:Ta,svg:Ui,vml:tu,inlineSvg:If,mac:eu,linux:nu},Sa=Mt.msPointer?"MSPointerDown":"pointerdown",Ea=Mt.msPointer?"MSPointerMove":"pointermove",Xn=Mt.msPointer?"MSPointerUp":"pointerup",be=Mt.msPointer?"MSPointerCancel":"pointercancel",Oe={touchstart:Sa,touchmove:Ea,touchend:Xn,touchcancel:be},Oi={touchstart:mo,touchmove:mi,touchend:mi,touchcancel:mi},hi={},iu=!1;function Pf(r,c,v){return c==="touchstart"&&ho(),Oi[c]?(v=Oi[c].bind(this,v),r.addEventListener(Oe[c],v,!1),v):(console.warn("wrong event specified:",c),w)}function ou(r,c,v){if(!Oe[c]){console.warn("wrong event specified:",c);return}r.removeEventListener(Oe[c],v,!1)}function cs(r){hi[r.pointerId]=r}function wa(r){hi[r.pointerId]&&(hi[r.pointerId]=r)}function Vi(r){delete hi[r.pointerId]}function ho(){iu||(document.addEventListener(Sa,cs,!0),document.addEventListener(Ea,wa,!0),document.addEventListener(Xn,Vi,!0),document.addEventListener(be,Vi,!0),iu=!0)}function mi(r,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var v in hi)c.touches.push(hi[v]);c.changedTouches=[c],r(c)}}function mo(r,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&ve(c),mi(r,c)}function Ce(r){var c={},v,S;for(S in r)v=r[S],c[S]=v&&v.bind?v.bind(r):v;return r=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var su=200;function ru(r,c){r.addEventListener("dblclick",c);var v=0,S;function C(N){if(N.detail!==1){S=N.detail;return}if(!(N.pointerType==="mouse"||N.sourceCapabilities&&!N.sourceCapabilities.firesTouchEvents)){var D=ys(N);if(!(D.some(function(tt){return tt instanceof HTMLLabelElement&&tt.attributes.for})&&!D.some(function(tt){return tt instanceof HTMLInputElement||tt instanceof HTMLSelectElement}))){var Z=Date.now();Z-v<=su?(S++,S===2&&c(Ce(N))):S=1,v=Z}}}return r.addEventListener("click",C),{dblclick:c,simDblclick:C}}function Bi(r,c){r.removeEventListener("dblclick",c.dblclick),r.removeEventListener("click",c.simDblclick)}var pi=hs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fs=hs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ba=fs==="webkitTransition"||fs==="OTransition"?fs+"End":"transitionend";function Ca(r){return typeof r=="string"?document.getElementById(r):r}function ds(r,c){var v=r.style[c]||r.currentStyle&&r.currentStyle[c];if((!v||v==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(r,null);v=S?S[c]:null}return v==="auto"?null:v}function Ht(r,c,v){var S=document.createElement(r);return S.className=c||"",v&&v.appendChild(S),S}function ie(r){var c=r.parentNode;c&&c.removeChild(r)}function fn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Pe(r){var c=r.parentNode;c&&c.lastChild!==r&&c.appendChild(r)}function zi(r){var c=r.parentNode;c&&c.firstChild!==r&&c.insertBefore(r,c.firstChild)}function Aa(r,c){if(r.classList!==void 0)return r.classList.contains(c);var v=lr(r);return v.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(v)}function Dt(r,c){if(r.classList!==void 0)for(var v=I(c),S=0,C=v.length;S<C;S++)r.classList.add(v[S]);else if(!Aa(r,c)){var N=lr(r);po(r,(N?N+" ":"")+c)}}function me(r,c){r.classList!==void 0?r.classList.remove(c):po(r,M((" "+lr(r)+" ").replace(" "+c+" "," ")))}function po(r,c){r.className.baseVal===void 0?r.className=c:r.className.baseVal=c}function lr(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function ce(r,c){"opacity"in r.style?r.style.opacity=c:"filter"in r.style&&Ma(r,c)}function Ma(r,c){var v=!1,S="DXImageTransform.Microsoft.Alpha";try{v=r.filters.item(S)}catch{if(c===1)return}c=Math.round(c*100),v?(v.Enabled=c!==100,v.Opacity=c):r.style.filter+=" progid:"+S+"(opacity="+c+")"}function hs(r){for(var c=document.documentElement.style,v=0;v<r.length;v++)if(r[v]in c)return r[v];return!1}function Wn(r,c,v){var S=c||new W(0,0);r.style[pi]=(Mt.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(v?" scale("+v+")":"")}function ae(r,c){r._leaflet_pos=c,Mt.any3d?Wn(r,c):(r.style.left=c.x+"px",r.style.top=c.y+"px")}function gi(r){return r._leaflet_pos||new W(0,0)}var go,Dn,Na;if("onselectstart"in document)go=function(){kt(window,"selectstart",ve)},Dn=function(){te(window,"selectstart",ve)};else{var yo=hs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);go=function(){if(yo){var r=document.documentElement.style;Na=r[yo],r[yo]="none"}},Dn=function(){yo&&(document.documentElement.style[yo]=Na,Na=void 0)}}function ur(){kt(window,"dragstart",ve)}function ms(){te(window,"dragstart",ve)}var cr,Ra;function vo(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(dn(),cr=r,Ra=r.style.outlineStyle,r.style.outlineStyle="none",kt(window,"keydown",dn))}function dn(){cr&&(cr.style.outlineStyle=Ra,cr=void 0,Ra=void 0,te(window,"keydown",dn))}function fr(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function ps(r){var c=r.getBoundingClientRect();return{x:c.width/r.offsetWidth||1,y:c.height/r.offsetHeight||1,boundingClientRect:c}}var _o={__proto__:null,TRANSFORM:pi,TRANSITION:fs,TRANSITION_END:ba,get:Ca,getStyle:ds,create:Ht,remove:ie,empty:fn,toFront:Pe,toBack:zi,hasClass:Aa,addClass:Dt,removeClass:me,setClass:po,getClass:lr,setOpacity:ce,testProp:hs,setTransform:Wn,setPosition:ae,getPosition:gi,get disableTextSelection(){return go},get enableTextSelection(){return Dn},disableImageDrag:ur,enableImageDrag:ms,preventOutline:vo,restoreOutline:dn,getSizedParentNode:fr,getScale:ps};function kt(r,c,v,S){if(c&&typeof c=="object")for(var C in c)Cn(r,C,c[C],v);else{c=I(c);for(var N=0,D=c.length;N<D;N++)Cn(r,c[N],v,S)}return this}var bn="_leaflet_events";function te(r,c,v,S){if(arguments.length===1)Ia(r),delete r[bn];else if(c&&typeof c=="object")for(var C in c)gs(r,C,c[C],v);else if(c=I(c),arguments.length===2)Ia(r,function(Z){return $(c,Z)!==-1});else for(var N=0,D=c.length;N<D;N++)gs(r,c[N],v,S);return this}function Ia(r,c){for(var v in r[bn]){var S=v.split(/\d/)[0];(!c||c(S))&&gs(r,S,null,null,v)}}var Hi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Cn(r,c,v,S){var C=c+y(v)+(S?"_"+y(S):"");if(r[bn]&&r[bn][C])return this;var N=function(Z){return v.call(S||r,Z||window.event)},D=N;!Mt.touchNative&&Mt.pointer&&c.indexOf("touch")===0?N=Pf(r,c,N):Mt.touch&&c==="dblclick"?N=ru(r,N):"addEventListener"in r?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?r.addEventListener(Hi[c]||c,N,Mt.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(N=function(Z){Z=Z||window.event,Qn(r,Z)&&D(Z)},r.addEventListener(Hi[c],N,!1)):r.addEventListener(c,D,!1):r.attachEvent("on"+c,N),r[bn]=r[bn]||{},r[bn][C]=N}function gs(r,c,v,S,C){C=C||c+y(v)+(S?"_"+y(S):"");var N=r[bn]&&r[bn][C];if(!N)return this;!Mt.touchNative&&Mt.pointer&&c.indexOf("touch")===0?ou(r,c,N):Mt.touch&&c==="dblclick"?Bi(r,N):"removeEventListener"in r?r.removeEventListener(Hi[c]||c,N,!1):r.detachEvent("on"+c,N),r[bn][C]=null}function An(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Un(r){return Cn(r,"wheel",An),this}function Gi(r){return kt(r,"mousedown touchstart dblclick contextmenu",An),r._leaflet_disable_click=!0,this}function ve(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function yi(r){return ve(r),An(r),this}function ys(r){if(r.composedPath)return r.composedPath();for(var c=[],v=r.target;v;)c.push(v),v=v.parentNode;return c}function vs(r,c){if(!c)return new W(r.clientX,r.clientY);var v=ps(c),S=v.boundingClientRect;return new W((r.clientX-S.left)/v.x-c.clientLeft,(r.clientY-S.top)/v.y-c.clientTop)}var au=Mt.linux&&Mt.chrome?window.devicePixelRatio:Mt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ze(r){return Mt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/au:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Qn(r,c){var v=c.relatedTarget;if(!v)return!0;try{for(;v&&v!==r;)v=v.parentNode}catch{return!1}return v!==r}var dr={__proto__:null,on:kt,off:te,stopPropagation:An,disableScrollPropagation:Un,disableClickPropagation:Gi,preventDefault:ve,stop:yi,getPropagationPath:ys,getMousePosition:vs,getWheelDelta:Ze,isExternalTarget:Qn,addListener:kt,removeListener:te},xo=J.extend({run:function(r,c,v,S){this.stop(),this._el=r,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=gi(r),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=dt(this._animate,this),this._step()},_step:function(r){var c=+new Date-this._startTime,v=this._duration*1e3;c<v?this._runFrame(this._easeOut(c/v),r):(this._runFrame(1),this._complete())},_runFrame:function(r,c){var v=this._startPos.add(this._offset.multiplyBy(r));c&&v._round(),ae(this._el,v),this.fire("step")},_complete:function(){_t(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Zt=J.extend({options:{crs:nr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,c){c=P(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(Et(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fs&&Mt.any3d&&!Mt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),kt(this._proxy,ba,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,c,v){if(c=c===void 0?this._zoom:this._limitZoom(c),r=this._limitCenter(Et(r),c,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=a({animate:v.animate},v.zoom),v.pan=a({animate:v.animate,duration:v.duration},v.pan));var S=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,c,v.zoom):this._tryAnimatedPan(r,v.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(r,c,v.pan&&v.pan.noMoveStart),this},setZoom:function(r,c){return this._loaded?this.setView(this.getCenter(),r,{zoom:c}):(this._zoom=r,this)},zoomIn:function(r,c){return r=r||(Mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,c)},zoomOut:function(r,c){return r=r||(Mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,c)},setZoomAround:function(r,c,v){var S=this.getZoomScale(c),C=this.getSize().divideBy(2),N=r instanceof W?r:this.latLngToContainerPoint(r),D=N.subtract(C).multiplyBy(1-1/S),Z=this.containerPointToLatLng(C.add(D));return this.setView(Z,c,{zoom:v})},_getBoundsCenterZoom:function(r,c){c=c||{},r=r.getBounds?r.getBounds():vt(r);var v=mt(c.paddingTopLeft||c.padding||[0,0]),S=mt(c.paddingBottomRight||c.padding||[0,0]),C=this.getBoundsZoom(r,!1,v.add(S));if(C=typeof c.maxZoom=="number"?Math.min(c.maxZoom,C):C,C===1/0)return{center:r.getCenter(),zoom:C};var N=S.subtract(v).divideBy(2),D=this.project(r.getSouthWest(),C),Z=this.project(r.getNorthEast(),C),tt=this.unproject(D.add(Z).divideBy(2).add(N),C);return{center:tt,zoom:C}},fitBounds:function(r,c){if(r=vt(r),!r.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(r,c);return this.setView(v.center,v.zoom,c)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,c){return this.setView(r,this._zoom,{pan:c})},panBy:function(r,c){if(r=mt(r).round(),c=c||{},!r.x&&!r.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new xo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Dt(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,v,c.duration||.25,c.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,c,v){if(v=v||{},v.animate===!1||!Mt.any3d)return this.setView(r,c,v);this._stop();var S=this.project(this.getCenter()),C=this.project(r),N=this.getSize(),D=this._zoom;r=Et(r),c=c===void 0?D:c;var Z=Math.max(N.x,N.y),tt=Z*this.getZoomScale(D,c),lt=C.distanceTo(S)||1,xt=1.42,Nt=xt*xt;function Vt(ge){var ni=ge?-1:1,Yi=ge?tt:Z,Ya=tt*tt-Z*Z+ni*Nt*Nt*lt*lt,Ls=2*Yi*Nt*lt,Ds=Ya/Ls,Ci=Math.sqrt(Ds*Ds+1)-Ds,ii=Ci<1e-9?-18:Math.log(Ci);return ii}function ke(ge){return(Math.exp(ge)-Math.exp(-ge))/2}function _e(ge){return(Math.exp(ge)+Math.exp(-ge))/2}function on(ge){return ke(ge)/_e(ge)}var Kt=Vt(0);function jt(ge){return Z*(_e(Kt)/_e(Kt+xt*ge))}function Gt(ge){return Z*(_e(Kt)*on(Kt+xt*ge)-ke(Kt))/Nt}function wi(ge){return 1-Math.pow(1-ge,1.5)}var gn=Date.now(),Cr=(Vt(1)-Kt)/xt,bi=v.duration?1e3*v.duration:1e3*Cr*.8;function Za(){var ge=(Date.now()-gn)/bi,ni=wi(ge)*Cr;ge<=1?(this._flyToFrame=dt(Za,this),this._move(this.unproject(S.add(C.subtract(S).multiplyBy(Gt(ni)/lt)),D),this.getScaleZoom(Z/jt(ni),D),{flyTo:!0})):this._move(r,c)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),Za.call(this),this},flyToBounds:function(r,c){var v=this._getBoundsCenterZoom(r,c);return this.flyTo(v.center,v.zoom,c)},setMaxBounds:function(r){return r=vt(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var c=this.options.minZoom;return this.options.minZoom=r,this._loaded&&c!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var c=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&c!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,c){this._enforcingBounds=!0;var v=this.getCenter(),S=this._limitCenter(v,this._zoom,vt(r));return v.equals(S)||this.panTo(S,c),this._enforcingBounds=!1,this},panInside:function(r,c){c=c||{};var v=mt(c.paddingTopLeft||c.padding||[0,0]),S=mt(c.paddingBottomRight||c.padding||[0,0]),C=this.project(this.getCenter()),N=this.project(r),D=this.getPixelBounds(),Z=ot([D.min.add(v),D.max.subtract(S)]),tt=Z.getSize();if(!Z.contains(N)){this._enforcingBounds=!0;var lt=N.subtract(Z.getCenter()),xt=Z.extend(N).getSize().subtract(tt);C.x+=lt.x<0?-xt.x:xt.x,C.y+=lt.y<0?-xt.y:xt.y,this.panTo(this.unproject(C),c),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=a({animate:!1,pan:!0},r===!0?{animate:!0}:r);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),S=c.divideBy(2).round(),C=v.divideBy(2).round(),N=S.subtract(C);return!N.x&&!N.y?this:(r.animate&&r.pan?this.panBy(N):(r.pan&&this._rawPanBy(N),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=a({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=d(this._handleGeolocationResponse,this),v=d(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,v,r):navigator.geolocation.getCurrentPosition(c,v,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var c=r.code,v=r.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var c=r.coords.latitude,v=r.coords.longitude,S=new wt(c,v),C=S.toBounds(r.coords.accuracy*2),N=this._locateOptions;if(N.setView){var D=this.getBoundsZoom(C);this.setView(S,N.maxZoom?Math.min(D,N.maxZoom):D)}var Z={latlng:S,bounds:C,timestamp:r.timestamp};for(var tt in r.coords)typeof r.coords[tt]=="number"&&(Z[tt]=r.coords[tt]);this.fire("locationfound",Z)}},addHandler:function(r,c){if(!c)return this;var v=this[r]=new c(this);return this._handlers.push(v),this.options[r]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ie(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(_t(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)ie(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,c){var v="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),S=Ht("div",v,c||this._mapPane);return r&&(this._panes[r]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),c=this.unproject(r.getBottomLeft()),v=this.unproject(r.getTopRight());return new pt(c,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,c,v){r=vt(r),v=mt(v||[0,0]);var S=this.getZoom()||0,C=this.getMinZoom(),N=this.getMaxZoom(),D=r.getNorthWest(),Z=r.getSouthEast(),tt=this.getSize().subtract(v),lt=ot(this.project(Z,S),this.project(D,S)).getSize(),xt=Mt.any3d?this.options.zoomSnap:1,Nt=tt.x/lt.x,Vt=tt.y/lt.y,ke=c?Math.max(Nt,Vt):Math.min(Nt,Vt);return S=this.getScaleZoom(ke,S),xt&&(S=Math.round(S/(xt/100))*(xt/100),S=c?Math.ceil(S/xt)*xt:Math.floor(S/xt)*xt),Math.max(C,Math.min(N,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,c){var v=this._getTopLeftPoint(r,c);return new U(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,c){var v=this.options.crs;return c=c===void 0?this._zoom:c,v.scale(r)/v.scale(c)},getScaleZoom:function(r,c){var v=this.options.crs;c=c===void 0?this._zoom:c;var S=v.zoom(r*v.scale(c));return isNaN(S)?1/0:S},project:function(r,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(Et(r),c)},unproject:function(r,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(mt(r),c)},layerPointToLatLng:function(r){var c=mt(r).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(r){var c=this.project(Et(r))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Et(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(vt(r))},distance:function(r,c){return this.options.crs.distance(Et(r),Et(c))},containerPointToLayerPoint:function(r){return mt(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return mt(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var c=this.containerPointToLayerPoint(mt(r));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Et(r)))},mouseEventToContainerPoint:function(r){return vs(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var c=this._container=Ca(r);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");kt(c,"scroll",this._onScroll,this),this._containerId=y(c)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Mt.any3d,Dt(r,"leaflet-container"+(Mt.touch?" leaflet-touch":"")+(Mt.retina?" leaflet-retina":"")+(Mt.ielt9?" leaflet-oldie":"")+(Mt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=ds(r,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ae(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Dt(r.markerPane,"leaflet-zoom-hide"),Dt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,c,v){ae(this._mapPane,new W(0,0));var S=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var C=this._zoom!==c;this._moveStart(C,v)._move(r,c)._moveEnd(C),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(r,c){return r&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(r,c,v,S){c===void 0&&(c=this._zoom);var C=this._zoom!==c;return this._zoom=c,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),S?v&&v.pinch&&this.fire("zoom",v):((C||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return _t(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){ae(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[y(this._container)]=this;var c=r?te:kt;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Mt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){_t(this._resizeRequest),this._resizeRequest=dt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,c){for(var v=[],S,C=c==="mouseout"||c==="mouseover",N=r.target||r.srcElement,D=!1;N;){if(S=this._targets[y(N)],S&&(c==="click"||c==="preclick")&&this._draggableMoved(S)){D=!0;break}if(S&&S.listens(c,!0)&&(C&&!Qn(N,r)||(v.push(S),C))||N===this._container)break;N=N.parentNode}return!v.length&&!D&&!C&&this.listens(c,!0)&&(v=[this]),v},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var c=r.target||r.srcElement;if(!(!this._loaded||c._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(c))){var v=r.type;v==="mousedown"&&vo(c),this._fireDOMEvent(r,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,c,v){if(r.type==="click"){var S=a({},r);S.type="preclick",this._fireDOMEvent(S,S.type,v)}var C=this._findEventTargets(r,c);if(v){for(var N=[],D=0;D<v.length;D++)v[D].listens(c,!0)&&N.push(v[D]);C=N.concat(C)}if(C.length){c==="contextmenu"&&ve(r);var Z=C[0],tt={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var lt=Z.getLatLng&&(!Z._radius||Z._radius<=10);tt.containerPoint=lt?this.latLngToContainerPoint(Z.getLatLng()):this.mouseEventToContainerPoint(r),tt.layerPoint=this.containerPointToLayerPoint(tt.containerPoint),tt.latlng=lt?Z.getLatLng():this.layerPointToLatLng(tt.layerPoint)}for(D=0;D<C.length;D++)if(C[D].fire(c,tt,!0),tt.originalEvent._stopped||C[D].options.bubblingMouseEvents===!1&&$(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,c=this._handlers.length;r<c;r++)this._handlers[r].disable()},whenReady:function(r,c){return this._loaded?r.call(c||this,{target:this}):this.on("load",r,c),this},_getMapPanePos:function(){return gi(this._mapPane)||new W(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,c){var v=r&&c!==void 0?this._getNewPixelOrigin(r,c):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,c){var v=this.getSize()._divideBy(2);return this.project(r,c)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,c,v){var S=this._getNewPixelOrigin(v,c);return this.project(r,c)._subtract(S)},_latLngBoundsToNewLayerBounds:function(r,c,v){var S=this._getNewPixelOrigin(v,c);return ot([this.project(r.getSouthWest(),c)._subtract(S),this.project(r.getNorthWest(),c)._subtract(S),this.project(r.getSouthEast(),c)._subtract(S),this.project(r.getNorthEast(),c)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,c,v){if(!v)return r;var S=this.project(r,c),C=this.getSize().divideBy(2),N=new U(S.subtract(C),S.add(C)),D=this._getBoundsOffset(N,v,c);return Math.abs(D.x)<=1&&Math.abs(D.y)<=1?r:this.unproject(S.add(D),c)},_limitOffset:function(r,c){if(!c)return r;var v=this.getPixelBounds(),S=new U(v.min.add(r),v.max.add(r));return r.add(this._getBoundsOffset(S,c))},_getBoundsOffset:function(r,c,v){var S=ot(this.project(c.getNorthEast(),v),this.project(c.getSouthWest(),v)),C=S.min.subtract(r.min),N=S.max.subtract(r.max),D=this._rebound(C.x,-N.x),Z=this._rebound(C.y,-N.y);return new W(D,Z)},_rebound:function(r,c){return r+c>0?Math.round(r-c)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(c))},_limitZoom:function(r){var c=this.getMinZoom(),v=this.getMaxZoom(),S=Mt.any3d?this.options.zoomSnap:1;return S&&(r=Math.round(r/S)*S),Math.max(c,Math.min(v,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){me(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,c){var v=this._getCenterOffset(r)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,c),!0)},_createAnimProxy:function(){var r=this._proxy=Ht("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(c){var v=pi,S=this._proxy.style[v];Wn(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),S===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ie(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),c=this.getZoom();Wn(this._proxy,this.project(r,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,c,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(c),C=this._getCenterOffset(r)._divideBy(1-1/S);return v.animate!==!0&&!this.getSize().contains(C)?!1:(dt(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(r,c,!0)},this),!0)},_animateZoom:function(r,c,v,S){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=c,Dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:c,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&me(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Pa(r,c){return new Zt(r,c)}var nn=K.extend({options:{position:"topright"},initialize:function(r){P(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var c=this._map;return c&&c.removeControl(this),this.options.position=r,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var c=this._container=this.onAdd(r),v=this.getPosition(),S=r._controlCorners[v];return Dt(c,"leaflet-control"),v.indexOf("bottom")!==-1?S.insertBefore(c,S.firstChild):S.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ie(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),$n=function(r){return new nn(r)};Zt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},c="leaflet-",v=this._controlContainer=Ht("div",c+"control-container",this._container);function S(C,N){var D=c+C+" "+c+N;r[C+N]=Ht("div",D,v)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)ie(this._controlCorners[r]);ie(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _s=nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,c,v,S){return v<S?-1:S<v?1:0}},initialize:function(r,c,v){P(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in r)this._addLayer(r[S],S);for(S in c)this._addLayer(c[S],S,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return nn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,c){return this._addLayer(r,c),this._map?this._update():this},addOverlay:function(r,c){return this._addLayer(r,c,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var c=this._getLayer(y(r));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):me(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return me(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",c=this._container=Ht("div",r),v=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Gi(c),Un(c);var S=this._section=Ht("section",r+"-list");v&&(this._map.on("click",this.collapse,this),kt(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=Ht("a",r+"-toggle",c);C.href="#",C.title="Layers",C.setAttribute("role","button"),kt(C,{keydown:function(N){N.keyCode===13&&this._expandSafely()},click:function(N){ve(N),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=Ht("div",r+"-base",S),this._separator=Ht("div",r+"-separator",S),this._overlaysList=Ht("div",r+"-overlays",S),c.appendChild(S)},_getLayer:function(r){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&y(this._layers[c].layer)===r)return this._layers[c]},_addLayer:function(r,c,v){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:c,overlay:v}),this.options.sortLayers&&this._layers.sort(d(function(S,C){return this.options.sortFunction(S.layer,C.layer,S.name,C.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;fn(this._baseLayersList),fn(this._overlaysList),this._layerControlInputs=[];var r,c,v,S,C=0;for(v=0;v<this._layers.length;v++)S=this._layers[v],this._addItem(S),c=c||S.overlay,r=r||!S.overlay,C+=S.overlay?0:1;return this.options.hideSingleBase&&(r=r&&C>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=c&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var c=this._getLayer(y(r.target)),v=c.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;v&&this._map.fire(v,c)},_createRadioElement:function(r,c){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(c?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=v,S.firstChild},_addItem:function(r){var c=document.createElement("label"),v=this._map.hasLayer(r.layer),S;r.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=v):S=this._createRadioElement("leaflet-base-layers_"+y(this),v),this._layerControlInputs.push(S),S.layerId=y(r.layer),kt(S,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+r.name;var N=document.createElement("span");c.appendChild(N),N.appendChild(S),N.appendChild(C);var D=r.overlay?this._overlaysList:this._baseLayersList;return D.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,c,v,S=[],C=[];this._handlingClick=!0;for(var N=r.length-1;N>=0;N--)c=r[N],v=this._getLayer(c.layerId).layer,c.checked?S.push(v):c.checked||C.push(v);for(N=0;N<C.length;N++)this._map.hasLayer(C[N])&&this._map.removeLayer(C[N]);for(N=0;N<S.length;N++)this._map.hasLayer(S[N])||this._map.addLayer(S[N]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,c,v,S=this._map.getZoom(),C=r.length-1;C>=0;C--)c=r[C],v=this._getLayer(c.layerId).layer,c.disabled=v.options.minZoom!==void 0&&S<v.options.minZoom||v.options.maxZoom!==void 0&&S>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,kt(r,"click",ve),this.expand();var c=this;setTimeout(function(){te(r,"click",ve),c._preventClick=!1})}}),lu=function(r,c,v){return new _s(r,c,v)},ka=nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var c="leaflet-control-zoom",v=Ht("div",c+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,c+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,c+"-out",v,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,c,v,S,C){var N=Ht("a",v,S);return N.innerHTML=r,N.href="#",N.title=c,N.setAttribute("role","button"),N.setAttribute("aria-label",c),Gi(N),kt(N,"click",yi),kt(N,"click",C,this),kt(N,"click",this._refocusOnMap,this),N},_updateDisabled:function(){var r=this._map,c="leaflet-disabled";me(this._zoomInButton,c),me(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Dt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Dt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Zt.mergeOptions({zoomControl:!0}),Zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ka,this.addControl(this.zoomControl))});var kf=function(r){return new ka(r)},uu=nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var c="leaflet-control-scale",v=Ht("div",c),S=this.options;return this._addScales(S,c+"-line",v),r.on(S.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),v},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,c,v){r.metric&&(this._mScale=Ht("div",c,v)),r.imperial&&(this._iScale=Ht("div",c,v))},_update:function(){var r=this._map,c=r.getSize().y/2,v=r.distance(r.containerPointToLatLng([0,c]),r.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(v)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var c=this._getRoundNum(r),v=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,v,c/r)},_updateImperial:function(r){var c=r*3.2808399,v,S,C;c>5280?(v=c/5280,S=this._getRoundNum(v),this._updateScale(this._iScale,S+" mi",S/v)):(C=this._getRoundNum(c),this._updateScale(this._iScale,C+" ft",C/c))},_updateScale:function(r,c,v){r.style.width=Math.round(this.options.maxWidth*v)+"px",r.innerHTML=c},_getRoundNum:function(r){var c=Math.pow(10,(Math.floor(r)+"").length-1),v=r/c;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,c*v}}),La=function(r){return new uu(r)},Lf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Da=nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Mt.inlineSvg?Lf+" ":"")+"Leaflet</a>"},initialize:function(r){P(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Ht("div","leaflet-control-attribution"),Gi(this._container);for(var c in r._layers)r._layers[c].getAttribution&&this.addAttribution(r._layers[c].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var c in this._attributions)this._attributions[c]&&r.push(c);var v=[];this.options.prefix&&v.push(this.options.prefix),r.length&&v.push(r.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});Zt.mergeOptions({attributionControl:!0}),Zt.addInitHook(function(){this.options.attributionControl&&new Da().addTo(this)});var Df=function(r){return new Da(r)};nn.Layers=_s,nn.Zoom=ka,nn.Scale=uu,nn.Attribution=Da,$n.layers=lu,$n.zoom=kf,$n.scale=La,$n.attribution=Df;var On=K.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});On.addTo=function(r,c){return r.addHandler(c,this),this};var Uf={Events:G},Ua=Mt.touch?"touchstart mousedown":"mousedown",vi=J.extend({options:{clickTolerance:3},initialize:function(r,c,v,S){P(this,S),this._element=r,this._dragStartTarget=c||r,this._preventOutline=v},enable:function(){this._enabled||(kt(this._dragStartTarget,Ua,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(vi._dragging===this&&this.finishDrag(!0),te(this._dragStartTarget,Ua,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Aa(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){vi._dragging===this&&this.finishDrag();return}if(!(vi._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(vi._dragging=this,this._preventOutline&&vo(this._element),ur(),go(),!this._moving)){this.fire("down");var c=r.touches?r.touches[0]:r,v=fr(this._element);this._startPoint=new W(c.clientX,c.clientY),this._startPos=gi(this._element),this._parentScale=ps(v);var S=r.type==="mousedown";kt(document,S?"mousemove":"touchmove",this._onMove,this),kt(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var c=r.touches&&r.touches.length===1?r.touches[0]:r,v=new W(c.clientX,c.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,ve(r),this._moved||(this.fire("dragstart"),this._moved=!0,Dt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),ae(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){me(document.body,"leaflet-dragging"),this._lastTarget&&(me(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),te(document,"mousemove touchmove",this._onMove,this),te(document,"mouseup touchend touchcancel",this._onUp,this),ms(),Dn();var c=this._moved&&this._moving;this._moving=!1,vi._dragging=!1,c&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function cu(r,c,v){var S,C=[1,4,2,8],N,D,Z,tt,lt,xt,Nt,Vt;for(N=0,xt=r.length;N<xt;N++)r[N]._code=qi(r[N],c);for(Z=0;Z<4;Z++){for(Nt=C[Z],S=[],N=0,xt=r.length,D=xt-1;N<xt;D=N++)tt=r[N],lt=r[D],tt._code&Nt?lt._code&Nt||(Vt=hr(lt,tt,Nt,c,v),Vt._code=qi(Vt,c),S.push(Vt)):(lt._code&Nt&&(Vt=hr(lt,tt,Nt,c,v),Vt._code=qi(Vt,c),S.push(Vt)),S.push(tt));r=S}return r}function fu(r,c){var v,S,C,N,D,Z,tt,lt,xt;if(!r||r.length===0)throw new Error("latlngs not passed");hn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Nt=Et([0,0]),Vt=vt(r),ke=Vt.getNorthWest().distanceTo(Vt.getSouthWest())*Vt.getNorthEast().distanceTo(Vt.getNorthWest());ke<1700&&(Nt=Oa(r));var _e=r.length,on=[];for(v=0;v<_e;v++){var Kt=Et(r[v]);on.push(c.project(Et([Kt.lat-Nt.lat,Kt.lng-Nt.lng])))}for(Z=tt=lt=0,v=0,S=_e-1;v<_e;S=v++)C=on[v],N=on[S],D=C.y*N.x-N.y*C.x,tt+=(C.x+N.x)*D,lt+=(C.y+N.y)*D,Z+=D*3;Z===0?xt=on[0]:xt=[tt/Z,lt/Z];var jt=c.unproject(mt(xt));return Et([jt.lat+Nt.lat,jt.lng+Nt.lng])}function Oa(r){for(var c=0,v=0,S=0,C=0;C<r.length;C++){var N=Et(r[C]);c+=N.lat,v+=N.lng,S++}return Et([c/S,v/S])}var Va={__proto__:null,clipPolygon:cu,polygonCenter:fu,centroid:Oa};function du(r,c){if(!c||!r.length)return r.slice();var v=c*c;return r=Vf(r,v),r=mu(r,v),r}function hu(r,c,v){return Math.sqrt(xs(r,c,v,!0))}function Of(r,c,v){return xs(r,c,v)}function mu(r,c){var v=r.length,S=typeof Uint8Array<"u"?Uint8Array:Array,C=new S(v);C[0]=C[v-1]=1,Ba(r,C,c,0,v-1);var N,D=[];for(N=0;N<v;N++)C[N]&&D.push(r[N]);return D}function Ba(r,c,v,S,C){var N=0,D,Z,tt;for(Z=S+1;Z<=C-1;Z++)tt=xs(r[Z],r[S],r[C],!0),tt>N&&(D=Z,N=tt);N>v&&(c[D]=1,Ba(r,c,v,S,D),Ba(r,c,v,D,C))}function Vf(r,c){for(var v=[r[0]],S=1,C=0,N=r.length;S<N;S++)Bf(r[S],r[C])>c&&(v.push(r[S]),C=S);return C<N-1&&v.push(r[N-1]),v}var pu;function gu(r,c,v,S,C){var N=S?pu:qi(r,v),D=qi(c,v),Z,tt,lt;for(pu=D;;){if(!(N|D))return[r,c];if(N&D)return!1;Z=N||D,tt=hr(r,c,Z,v,C),lt=qi(tt,v),Z===N?(r=tt,N=lt):(c=tt,D=lt)}}function hr(r,c,v,S,C){var N=c.x-r.x,D=c.y-r.y,Z=S.min,tt=S.max,lt,xt;return v&8?(lt=r.x+N*(tt.y-r.y)/D,xt=tt.y):v&4?(lt=r.x+N*(Z.y-r.y)/D,xt=Z.y):v&2?(lt=tt.x,xt=r.y+D*(tt.x-r.x)/N):v&1&&(lt=Z.x,xt=r.y+D*(Z.x-r.x)/N),new W(lt,xt,C)}function qi(r,c){var v=0;return r.x<c.min.x?v|=1:r.x>c.max.x&&(v|=2),r.y<c.min.y?v|=4:r.y>c.max.y&&(v|=8),v}function Bf(r,c){var v=c.x-r.x,S=c.y-r.y;return v*v+S*S}function xs(r,c,v,S){var C=c.x,N=c.y,D=v.x-C,Z=v.y-N,tt=D*D+Z*Z,lt;return tt>0&&(lt=((r.x-C)*D+(r.y-N)*Z)/tt,lt>1?(C=v.x,N=v.y):lt>0&&(C+=D*lt,N+=Z*lt)),D=r.x-C,Z=r.y-N,S?D*D+Z*Z:new W(C,N)}function hn(r){return!z(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function mr(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hn(r)}function To(r,c){var v,S,C,N,D,Z,tt,lt;if(!r||r.length===0)throw new Error("latlngs not passed");hn(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var xt=Et([0,0]),Nt=vt(r),Vt=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());Vt<1700&&(xt=Oa(r));var ke=r.length,_e=[];for(v=0;v<ke;v++){var on=Et(r[v]);_e.push(c.project(Et([on.lat-xt.lat,on.lng-xt.lng])))}for(v=0,S=0;v<ke-1;v++)S+=_e[v].distanceTo(_e[v+1])/2;if(S===0)lt=_e[0];else for(v=0,N=0;v<ke-1;v++)if(D=_e[v],Z=_e[v+1],C=D.distanceTo(Z),N+=C,N>S){tt=(N-S)/C,lt=[Z.x-tt*(Z.x-D.x),Z.y-tt*(Z.y-D.y)];break}var Kt=c.unproject(mt(lt));return Et([Kt.lat+xt.lat,Kt.lng+xt.lng])}var zf={__proto__:null,simplify:du,pointToSegmentDistance:hu,closestPointOnSegment:Of,clipSegment:gu,_getEdgeIntersection:hr,_getBitCode:qi,_sqClosestPointOnSegment:xs,isFlat:hn,_flat:mr,polylineCenter:To},pr={project:function(r){return new W(r.lng,r.lat)},unproject:function(r){return new wt(r.y,r.x)},bounds:new U([-180,-90],[180,90])},gr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new U([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var c=Math.PI/180,v=this.R,S=r.lat*c,C=this.R_MINOR/v,N=Math.sqrt(1-C*C),D=N*Math.sin(S),Z=Math.tan(Math.PI/4-S/2)/Math.pow((1-D)/(1+D),N/2);return S=-v*Math.log(Math.max(Z,1e-10)),new W(r.lng*c*v,S)},unproject:function(r){for(var c=180/Math.PI,v=this.R,S=this.R_MINOR/v,C=Math.sqrt(1-S*S),N=Math.exp(-r.y/v),D=Math.PI/2-2*Math.atan(N),Z=0,tt=.1,lt;Z<15&&Math.abs(tt)>1e-7;Z++)lt=C*Math.sin(D),lt=Math.pow((1-lt)/(1+lt),C/2),tt=Math.PI/2-2*Math.atan(N*lt)-D,D+=tt;return new wt(D*c,r.x*c/v)}},yu={__proto__:null,LonLat:pr,Mercator:gr,SphericalMercator:Pi},vu=a({},de,{code:"EPSG:3395",projection:gr,transformation:(function(){var r=.5/(Math.PI*gr.R);return ki(r,.5,-r,.5)})()}),za=a({},de,{code:"EPSG:4326",projection:pr,transformation:ki(1/180,1,-1/180,.5)}),So=a({},zt,{projection:pr,transformation:ki(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,c){var v=c.lng-r.lng,S=c.lat-r.lat;return Math.sqrt(v*v+S*S)},infinite:!0});zt.Earth=de,zt.EPSG3395=vu,zt.EPSG3857=nr,zt.EPSG900913=Li,zt.EPSG4326=za,zt.Simple=So;var Mn=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[y(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[y(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var c=r.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var v=this.getEvents();c.on(v,this),this.once("remove",function(){c.off(v,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Zt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var c=y(r);return this._layers[c]?this:(this._layers[c]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var c=y(r);return this._layers[c]?(this._loaded&&r.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return y(r)in this._layers},eachLayer:function(r,c){for(var v in this._layers)r.call(c,this._layers[v]);return this},_addLayers:function(r){r=r?z(r)?r:[r]:[];for(var c=0,v=r.length;c<v;c++)this.addLayer(r[c])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[y(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var c=y(r);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,c=-1/0,v=this._getZoomSpan();for(var S in this._zoomBoundLayers){var C=this._zoomBoundLayers[S].options;r=C.minZoom===void 0?r:Math.min(r,C.minZoom),c=C.maxZoom===void 0?c:Math.max(c,C.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=r===1/0?void 0:r,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Eo=Mn.extend({initialize:function(r,c){P(this,c),this._layers={};var v,S;if(r)for(v=0,S=r.length;v<S;v++)this.addLayer(r[v])},addLayer:function(r){var c=this.getLayerId(r);return this._layers[c]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var c=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(r){var c=typeof r=="number"?r:this.getLayerId(r);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var c=Array.prototype.slice.call(arguments,1),v,S;for(v in this._layers)S=this._layers[v],S[r]&&S[r].apply(S,c);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,c){for(var v in this._layers)r.call(c,this._layers[v]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return y(r)}}),Hf=function(r,c){return new Eo(r,c)},Vn=Eo.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Eo.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Eo.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new pt;for(var c in this._layers){var v=this._layers[c];r.extend(v.getBounds?v.getBounds():v.getLatLng())}return r}}),_u=function(r,c){return new Vn(r,c)},Bn=K.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){P(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,c){var v=this._getIconUrl(r);if(!v){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(v,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(S,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(r,c){var v=this.options,S=v[c+"Size"];typeof S=="number"&&(S=[S,S]);var C=mt(S),N=mt(c==="shadow"&&v.shadowAnchor||v.iconAnchor||C&&C.divideBy(2,!0));r.className="leaflet-marker-"+c+" "+(v.className||""),N&&(r.style.marginLeft=-N.x+"px",r.style.marginTop=-N.y+"px"),C&&(r.style.width=C.x+"px",r.style.height=C.y+"px")},_createImg:function(r,c){return c=c||document.createElement("img"),c.src=r,c},_getIconUrl:function(r){return Mt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Ts(r){return new Bn(r)}var Ss=Bn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Ss.imagePath!="string"&&(Ss.imagePath=this._detectIconPath()),(this.options.imagePath||Ss.imagePath)+Bn.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var c=function(v,S,C){var N=S.exec(v);return N&&N[C]};return r=c(r,/^url\((['"])?(.+)\1\)$/,2),r&&c(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Ht("div","leaflet-default-icon-path",document.body),c=ds(r,"background-image")||ds(r,"backgroundImage");if(document.body.removeChild(r),c=this._stripUrl(c),c)return c;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),Es=On.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new vi(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Dt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&me(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var c=this._marker,v=c._map,S=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,N=gi(c._icon),D=v.getPixelBounds(),Z=v.getPixelOrigin(),tt=ot(D.min._subtract(Z).add(C),D.max._subtract(Z).subtract(C));if(!tt.contains(N)){var lt=mt((Math.max(tt.max.x,N.x)-tt.max.x)/(D.max.x-tt.max.x)-(Math.min(tt.min.x,N.x)-tt.min.x)/(D.min.x-tt.min.x),(Math.max(tt.max.y,N.y)-tt.max.y)/(D.max.y-tt.max.y)-(Math.min(tt.min.y,N.y)-tt.min.y)/(D.min.y-tt.min.y)).multiplyBy(S);v.panBy(lt,{animate:!1}),this._draggable._newPos._add(lt),this._draggable._startPos._add(lt),ae(c._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=dt(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(_t(this._panRequest),this._panRequest=dt(this._adjustPan.bind(this,r)))},_onDrag:function(r){var c=this._marker,v=c._shadow,S=gi(c._icon),C=c._map.layerPointToLatLng(S);v&&ae(v,S),c._latlng=C,r.latlng=C,r.oldLatLng=this._oldLatLng,c.fire("move",r).fire("drag",r)},_onDragEnd:function(r){_t(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),ws=Mn.extend({options:{icon:new Ss,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,c){P(this,c),this._latlng=Et(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var c=this._latlng;return this._latlng=Et(r),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=r.icon.createIcon(this._icon),S=!1;v!==this._icon&&(this._icon&&this._removeIcon(),S=!0,r.title&&(v.title=r.title),v.tagName==="IMG"&&(v.alt=r.alt||"")),Dt(v,c),r.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(v,"focus",this._panOnFocus,this);var C=r.icon.createShadow(this._shadow),N=!1;C!==this._shadow&&(this._removeShadow(),N=!0),C&&(Dt(C,c),C.alt=""),this._shadow=C,r.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&N&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&te(this._icon,"focus",this._panOnFocus,this),ie(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ie(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&ae(this._icon,r),this._shadow&&ae(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Es)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Es(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&ce(this._icon,r),this._shadow&&ce(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var c=this.options.icon.options,v=c.iconSize?mt(c.iconSize):mt(0,0),S=c.iconAnchor?mt(c.iconAnchor):mt(0,0);r.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:v.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xu(r,c){return new ws(r,c)}var zn=Mn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return P(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),wo=zn.extend({options:{fill:!0,radius:10},initialize:function(r,c){P(this,c),this._latlng=Et(r),this._radius=this.options.radius},setLatLng:function(r){var c=this._latlng;return this._latlng=Et(r),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var c=r&&r.radius||this._radius;return zn.prototype.setStyle.call(this,r),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,c=this._radiusY||r,v=this._clickTolerance(),S=[r+v,c+v];this._pxBounds=new U(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Tu(r,c){return new wo(r,c)}var yr=wo.extend({initialize:function(r,c,v){if(typeof c=="number"&&(c=a({},v,{radius:c})),P(this,c),this._latlng=Et(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new pt(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:zn.prototype.setStyle,_project:function(){var r=this._latlng.lng,c=this._latlng.lat,v=this._map,S=v.options.crs;if(S.distance===de.distance){var C=Math.PI/180,N=this._mRadius/de.R/C,D=v.project([c+N,r]),Z=v.project([c-N,r]),tt=D.add(Z).divideBy(2),lt=v.unproject(tt).lat,xt=Math.acos((Math.cos(N*C)-Math.sin(c*C)*Math.sin(lt*C))/(Math.cos(c*C)*Math.cos(lt*C)))/C;(isNaN(xt)||xt===0)&&(xt=N/Math.cos(Math.PI/180*c)),this._point=tt.subtract(v.getPixelOrigin()),this._radius=isNaN(xt)?0:tt.x-v.project([lt,r-xt]).x,this._radiusY=tt.y-D.y}else{var Nt=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(Nt).x}this._updateBounds()}});function Su(r,c,v){return new yr(r,c,v)}var ti=zn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,c){P(this,c),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var c=1/0,v=null,S=xs,C,N,D=0,Z=this._parts.length;D<Z;D++)for(var tt=this._parts[D],lt=1,xt=tt.length;lt<xt;lt++){C=tt[lt-1],N=tt[lt];var Nt=S(r,C,N,!0);Nt<c&&(c=Nt,v=S(r,C,N))}return v&&(v.distance=Math.sqrt(c)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return To(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,c){return c=c||this._defaultShape(),r=Et(r),c.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new pt,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return hn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var c=[],v=hn(r),S=0,C=r.length;S<C;S++)v?(c[S]=Et(r[S]),this._bounds.extend(c[S])):c[S]=this._convertLatLngs(r[S]);return c},_project:function(){var r=new U;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),c=new W(r,r);this._rawPxBounds&&(this._pxBounds=new U([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(r,c,v){var S=r[0]instanceof wt,C=r.length,N,D;if(S){for(D=[],N=0;N<C;N++)D[N]=this._map.latLngToLayerPoint(r[N]),v.extend(D[N]);c.push(D)}else for(N=0;N<C;N++)this._projectLatlngs(r[N],c,v)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,v,S,C,N,D,Z,tt;for(v=0,C=0,N=this._rings.length;v<N;v++)for(tt=this._rings[v],S=0,D=tt.length;S<D-1;S++)Z=gu(tt[S],tt[S+1],r,S,!0),Z&&(c[C]=c[C]||[],c[C].push(Z[0]),(Z[1]!==tt[S+1]||S===D-2)&&(c[C].push(Z[1]),C++))}},_simplifyPoints:function(){for(var r=this._parts,c=this.options.smoothFactor,v=0,S=r.length;v<S;v++)r[v]=du(r[v],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,c){var v,S,C,N,D,Z,tt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(v=0,N=this._parts.length;v<N;v++)for(Z=this._parts[v],S=0,D=Z.length,C=D-1;S<D;C=S++)if(!(!c&&S===0)&&hu(r,Z[C],Z[S])<=tt)return!0;return!1}});function Gf(r,c){return new ti(r,c)}ti._flat=mr;var bo=ti.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var c=ti.prototype._convertLatLngs.call(this,r),v=c.length;return v>=2&&c[0]instanceof wt&&c[0].equals(c[v-1])&&c.pop(),c},_setLatLngs:function(r){ti.prototype._setLatLngs.call(this,r),hn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,c=this.options.weight,v=new W(c,c);if(r=new U(r.min.subtract(v),r.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,C=this._rings.length,N;S<C;S++)N=cu(this._rings[S],r,!0),N.length&&this._parts.push(N)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var c=!1,v,S,C,N,D,Z,tt,lt;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(N=0,tt=this._parts.length;N<tt;N++)for(v=this._parts[N],D=0,lt=v.length,Z=lt-1;D<lt;Z=D++)S=v[D],C=v[Z],S.y>r.y!=C.y>r.y&&r.x<(C.x-S.x)*(r.y-S.y)/(C.y-S.y)+S.x&&(c=!c);return c||ti.prototype._containsPoint.call(this,r,!0)}});function qf(r,c){return new bo(r,c)}var ei=Vn.extend({initialize:function(r,c){P(this,c),this._layers={},r&&this.addData(r)},addData:function(r){var c=z(r)?r:r.features,v,S,C;if(c){for(v=0,S=c.length;v<S;v++)C=c[v],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var N=this.options;if(N.filter&&!N.filter(r))return this;var D=Ve(r,N);return D?(D.feature=xr(r),D.defaultOptions=D.options,this.resetStyle(D),N.onEachFeature&&N.onEachFeature(r,D),this.addLayer(D)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=a({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(c){this._setLayerStyle(c,r)},this)},_setLayerStyle:function(r,c){r.setStyle&&(typeof c=="function"&&(c=c(r.feature)),r.setStyle(c))}});function Ve(r,c){var v=r.type==="Feature"?r.geometry:r,S=v?v.coordinates:null,C=[],N=c&&c.pointToLayer,D=c&&c.coordsToLatLng||vr,Z,tt,lt,xt;if(!S&&!v)return null;switch(v.type){case"Point":return Z=D(S),Co(N,r,Z,c);case"MultiPoint":for(lt=0,xt=S.length;lt<xt;lt++)Z=D(S[lt]),C.push(Co(N,r,Z,c));return new Vn(C);case"LineString":case"MultiLineString":return tt=bs(S,v.type==="LineString"?0:1,D),new ti(tt,c);case"Polygon":case"MultiPolygon":return tt=bs(S,v.type==="Polygon"?1:2,D),new bo(tt,c);case"GeometryCollection":for(lt=0,xt=v.geometries.length;lt<xt;lt++){var Nt=Ve({geometry:v.geometries[lt],type:"Feature",properties:r.properties},c);Nt&&C.push(Nt)}return new Vn(C);case"FeatureCollection":for(lt=0,xt=v.features.length;lt<xt;lt++){var Vt=Ve(v.features[lt],c);Vt&&C.push(Vt)}return new Vn(C);default:throw new Error("Invalid GeoJSON object.")}}function Co(r,c,v,S){return r?r(c,v):new ws(v,S&&S.markersInheritOptions&&S)}function vr(r){return new wt(r[1],r[0],r[2])}function bs(r,c,v){for(var S=[],C=0,N=r.length,D;C<N;C++)D=c?bs(r[C],c-1,v):(v||vr)(r[C]),S.push(D);return S}function _r(r,c){return r=Et(r),r.alt!==void 0?[b(r.lng,c),b(r.lat,c),b(r.alt,c)]:[b(r.lng,c),b(r.lat,c)]}function Cs(r,c,v,S){for(var C=[],N=0,D=r.length;N<D;N++)C.push(c?Cs(r[N],hn(r[N])?0:c-1,v,S):_r(r[N],S));return!c&&v&&C.length>0&&C.push(C[0].slice()),C}function _i(r,c){return r.feature?a({},r.feature,{geometry:c}):xr(c)}function xr(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var xi={toGeoJSON:function(r){return _i(this,{type:"Point",coordinates:_r(this.getLatLng(),r)})}};ws.include(xi),yr.include(xi),wo.include(xi),ti.include({toGeoJSON:function(r){var c=!hn(this._latlngs),v=Cs(this._latlngs,c?1:0,!1,r);return _i(this,{type:(c?"Multi":"")+"LineString",coordinates:v})}}),bo.include({toGeoJSON:function(r){var c=!hn(this._latlngs),v=c&&!hn(this._latlngs[0]),S=Cs(this._latlngs,v?2:c?1:0,!0,r);return c||(S=[S]),_i(this,{type:(v?"Multi":"")+"Polygon",coordinates:S})}}),Eo.include({toMultiPoint:function(r){var c=[];return this.eachLayer(function(v){c.push(v.toGeoJSON(r).geometry.coordinates)}),_i(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(r){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(r);var v=c==="GeometryCollection",S=[];return this.eachLayer(function(C){if(C.toGeoJSON){var N=C.toGeoJSON(r);if(v)S.push(N.geometry);else{var D=xr(N);D.type==="FeatureCollection"?S.push.apply(S,D.features):S.push(D)}}}),v?_i(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function Tr(r,c){return new ei(r,c)}var As=Tr,Ao=Mn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,c,v){this._url=r,this._bounds=vt(c),P(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ie(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Pe(this._image),this},bringToBack:function(){return this._map&&zi(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=vt(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",c=this._image=r?this._url:Ht("img");if(Dt(c,"leaflet-image-layer"),this._zoomAnimated&&Dt(c,"leaflet-zoom-animated"),this.options.className&&Dt(c,this.options.className),c.onselectstart=w,c.onmousemove=w,c.onload=d(this.fire,this,"load"),c.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(r){var c=this._map.getZoomScale(r.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Wn(this._image,v,c)},_reset:function(){var r=this._image,c=new U(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=c.getSize();ae(r,c.min),r.style.width=v.x+"px",r.style.height=v.y+"px"},_updateOpacity:function(){ce(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Eu=function(r,c,v){return new Ao(r,c,v)},Ti=Ao.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",c=this._image=r?this._url:Ht("video");if(Dt(c,"leaflet-image-layer"),this._zoomAnimated&&Dt(c,"leaflet-zoom-animated"),this.options.className&&Dt(c,this.options.className),c.onselectstart=w,c.onmousemove=w,c.onloadeddata=d(this.fire,this,"load"),r){for(var v=c.getElementsByTagName("source"),S=[],C=0;C<v.length;C++)S.push(v[C].src);this._url=v.length>0?S:[c.src];return}z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var N=0;N<this._url.length;N++){var D=Ht("source");D.src=this._url[N],c.appendChild(D)}}});function Mo(r,c,v){return new Ti(r,c,v)}var Sr=Ao.extend({_initImage:function(){var r=this._image=this._url;Dt(r,"leaflet-image-layer"),this._zoomAnimated&&Dt(r,"leaflet-zoom-animated"),this.options.className&&Dt(r,this.options.className),r.onselectstart=w,r.onmousemove=w}});function wu(r,c,v){return new Sr(r,c,v)}var Be=Mn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,c){r&&(r instanceof wt||z(r))?(this._latlng=Et(r),P(this,c)):(P(this,r),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&ce(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&ce(this._container,1),this.bringToFront(),this.options.interactive&&(Dt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(ce(this._container,0),this._removeTimeout=setTimeout(d(ie,void 0,this._container),200)):ie(this._container),this.options.interactive&&(me(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Et(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Pe(this._container),this},bringToBack:function(){return this._map&&zi(this._container),this},_prepareOpen:function(r){var c=this._source;if(!c._map)return!1;if(c instanceof Vn){c=null;var v=this._source._layers;for(var S in v)if(v[S]._map){c=v[S];break}if(!c)return!1;this._source=c}if(!r)if(c.getCenter)r=c.getCenter();else if(c.getLatLng)r=c.getLatLng();else if(c.getBounds)r=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")r.innerHTML=c;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),c=mt(this.options.offset),v=this._getAnchor();this._zoomAnimated?ae(this._container,r.add(v)):c=c.add(r).add(v);var S=this._containerBottom=-c.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=S+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Zt.include({_initOverlay:function(r,c,v,S){var C=c;return C instanceof r||(C=new r(S).setContent(c)),v&&C.setLatLng(v),C}}),Mn.include({_initOverlay:function(r,c,v,S){var C=v;return C instanceof r?(P(C,S),C._source=this):(C=c&&!S?c:new r(S,this),C.setContent(v)),C}});var Ms=Be.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Be.prototype.openOn.call(this,r)},onAdd:function(r){Be.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zn||this._source.on("preclick",An))},onRemove:function(r){Be.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zn||this._source.off("preclick",An))},getEvents:function(){var r=Be.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",c=this._container=Ht("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=Ht("div",r+"-content-wrapper",c);if(this._contentNode=Ht("div",r+"-content",v),Gi(c),Un(this._contentNode),kt(c,"contextmenu",An),this._tipContainer=Ht("div",r+"-tip-container",c),this._tip=Ht("div",r+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=Ht("a",r+"-close-button",c);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',kt(S,"click",function(C){ve(C),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,c=r.style;c.width="",c.whiteSpace="nowrap";var v=r.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),c.width=v+1+"px",c.whiteSpace="",c.height="";var S=r.offsetHeight,C=this.options.maxHeight,N="leaflet-popup-scrolled";C&&S>C?(c.height=C+"px",Dt(r,N)):me(r,N),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),v=this._getAnchor();ae(this._container,c.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,c=parseInt(ds(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+c,S=this._containerWidth,C=new W(this._containerLeft,-v-this._containerBottom);C._add(gi(this._container));var N=r.layerPointToContainerPoint(C),D=mt(this.options.autoPanPadding),Z=mt(this.options.autoPanPaddingTopLeft||D),tt=mt(this.options.autoPanPaddingBottomRight||D),lt=r.getSize(),xt=0,Nt=0;N.x+S+tt.x>lt.x&&(xt=N.x+S-lt.x+tt.x),N.x-xt-Z.x<0&&(xt=N.x-Z.x),N.y+v+tt.y>lt.y&&(Nt=N.y+v-lt.y+tt.y),N.y-Nt-Z.y<0&&(Nt=N.y-Z.y),(xt||Nt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([xt,Nt]))}},_getAnchor:function(){return mt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),bu=function(r,c){return new Ms(r,c)};Zt.mergeOptions({closePopupOnClick:!0}),Zt.include({openPopup:function(r,c,v){return this._initOverlay(Ms,r,c,v).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Mn.include({bindPopup:function(r,c){return this._popup=this._initOverlay(Ms,this._popup,r,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Vn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){yi(r);var c=r.layer||r.target;if(this._popup._source===c&&!(c instanceof zn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=c,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Ns=Be.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Be.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Be.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Be.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",c=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ht("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var c,v,S=this._map,C=this._container,N=S.latLngToContainerPoint(S.getCenter()),D=S.layerPointToContainerPoint(r),Z=this.options.direction,tt=C.offsetWidth,lt=C.offsetHeight,xt=mt(this.options.offset),Nt=this._getAnchor();Z==="top"?(c=tt/2,v=lt):Z==="bottom"?(c=tt/2,v=0):Z==="center"?(c=tt/2,v=lt/2):Z==="right"?(c=0,v=lt/2):Z==="left"?(c=tt,v=lt/2):D.x<N.x?(Z="right",c=0,v=lt/2):(Z="left",c=tt+(xt.x+Nt.x)*2,v=lt/2),r=r.subtract(mt(c,v,!0)).add(xt).add(Nt),me(C,"leaflet-tooltip-right"),me(C,"leaflet-tooltip-left"),me(C,"leaflet-tooltip-top"),me(C,"leaflet-tooltip-bottom"),Dt(C,"leaflet-tooltip-"+Z),ae(C,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&ce(this._container,r)},_animateZoom:function(r){var c=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(c)},_getAnchor:function(){return mt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ff=function(r,c){return new Ns(r,c)};Zt.include({openTooltip:function(r,c,v){return this._initOverlay(Ns,r,c,v).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Mn.include({bindTooltip:function(r,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ns,this._tooltip,r,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var c=r?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[c](v),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Vn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var c=typeof r.getElement=="function"&&r.getElement();c&&(kt(c,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),kt(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var c=typeof r.getElement=="function"&&r.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var c=r.latlng,v,S;this._tooltip.options.sticky&&r.originalEvent&&(v=this._map.mouseEventToContainerPoint(r.originalEvent),S=this._map.containerPointToLayerPoint(v),c=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(c)}});var Cu=Bn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var c=r&&r.tagName==="DIV"?r:document.createElement("div"),v=this.options;if(v.html instanceof Element?(fn(c),c.appendChild(v.html)):c.innerHTML=v.html!==!1?v.html:"",v.bgPos){var S=mt(v.bgPos);c.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function Zf(r){return new Cu(r)}Bn.Default=Ss;var No=Mn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Mt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){P(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),ie(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Pe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(zi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof W?r:new W(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var c=this.getPane().children,v=-r(-1/0,1/0),S=0,C=c.length,N;S<C;S++)N=c[S].style.zIndex,c[S]!==this._container&&N&&(v=r(v,+N));isFinite(v)&&(this.options.zIndex=v+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Mt.ielt9){ce(this._container,this.options.opacity);var r=+new Date,c=!1,v=!1;for(var S in this._tiles){var C=this._tiles[S];if(!(!C.current||!C.loaded)){var N=Math.min(1,(r-C.loaded)/200);ce(C.el,N),N<1?c=!0:(C.active?v=!0:this._onOpaqueTile(C),C.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),c&&(_t(this._fadeFrame),this._fadeFrame=dt(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=Ht("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,c=this.options.maxZoom;if(r!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===r?(this._levels[v].el.style.zIndex=c-Math.abs(r-v),this._onUpdateLevel(v)):(ie(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var S=this._levels[r],C=this._map;return S||(S=this._levels[r]={},S.el=Ht("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=c,S.origin=C.project(C.unproject(C.getPixelOrigin()),r).round(),S.zoom=r,this._setZoomTransform(S,C.getCenter(),C.getZoom()),w(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var r,c,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)c=this._tiles[r],c.retain=c.current;for(r in this._tiles)if(c=this._tiles[r],c.current&&!c.active){var S=c.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var c in this._tiles)this._tiles[c].coords.z===r&&this._removeTile(c)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)ie(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,c,v,S){var C=Math.floor(r/2),N=Math.floor(c/2),D=v-1,Z=new W(+C,+N);Z.z=+D;var tt=this._tileCoordsToKey(Z),lt=this._tiles[tt];return lt&&lt.active?(lt.retain=!0,!0):(lt&&lt.loaded&&(lt.retain=!0),D>S?this._retainParent(C,N,D,S):!1)},_retainChildren:function(r,c,v,S){for(var C=2*r;C<2*r+2;C++)for(var N=2*c;N<2*c+2;N++){var D=new W(C,N);D.z=v+1;var Z=this._tileCoordsToKey(D),tt=this._tiles[Z];if(tt&&tt.active){tt.retain=!0;continue}else tt&&tt.loaded&&(tt.retain=!0);v+1<S&&this._retainChildren(C,N,v+1,S)}},_resetView:function(r){var c=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var c=this.options;return c.minNativeZoom!==void 0&&r<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<r?c.maxNativeZoom:r},_setView:function(r,c,v,S){var C=Math.round(c);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var N=this.options.updateWhenZooming&&C!==this._tileZoom;(!S||N)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(r),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(r,c)},_setZoomTransforms:function(r,c){for(var v in this._levels)this._setZoomTransform(this._levels[v],r,c)},_setZoomTransform:function(r,c,v){var S=this._map.getZoomScale(v,r.zoom),C=r.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(c,v)).round();Mt.any3d?Wn(r.el,C,S):ae(r.el,C)},_resetGrid:function(){var r=this._map,c=r.options.crs,v=this._tileSize=this.getTileSize(),S=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,c.wrapLng[0]],S).x/v.x),Math.ceil(r.project([0,c.wrapLng[1]],S).x/v.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([c.wrapLat[0],0],S).y/v.x),Math.ceil(r.project([c.wrapLat[1],0],S).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var c=this._map,v=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),S=c.getZoomScale(v,this._tileZoom),C=c.project(r,this._tileZoom).floor(),N=c.getSize().divideBy(S*2);return new U(C.subtract(N),C.add(N))},_update:function(r){var c=this._map;if(c){var v=this._clampZoom(c.getZoom());if(r===void 0&&(r=c.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(r),C=this._pxBoundsToTileRange(S),N=C.getCenter(),D=[],Z=this.options.keepBuffer,tt=new U(C.getBottomLeft().subtract([Z,-Z]),C.getTopRight().add([Z,-Z]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var lt in this._tiles){var xt=this._tiles[lt].coords;(xt.z!==this._tileZoom||!tt.contains(new W(xt.x,xt.y)))&&(this._tiles[lt].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(r,v);return}for(var Nt=C.min.y;Nt<=C.max.y;Nt++)for(var Vt=C.min.x;Vt<=C.max.x;Vt++){var ke=new W(Vt,Nt);if(ke.z=this._tileZoom,!!this._isValidTile(ke)){var _e=this._tiles[this._tileCoordsToKey(ke)];_e?_e.current=!0:D.push(ke)}}if(D.sort(function(Kt,jt){return Kt.distanceTo(N)-jt.distanceTo(N)}),D.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var on=document.createDocumentFragment();for(Vt=0;Vt<D.length;Vt++)this._addTile(D[Vt],on);this._level.el.appendChild(on)}}}},_isValidTile:function(r){var c=this._map.options.crs;if(!c.infinite){var v=this._globalTileRange;if(!c.wrapLng&&(r.x<v.min.x||r.x>v.max.x)||!c.wrapLat&&(r.y<v.min.y||r.y>v.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(r);return vt(this.options.bounds).overlaps(S)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var c=this._map,v=this.getTileSize(),S=r.scaleBy(v),C=S.add(v),N=c.unproject(S,r.z),D=c.unproject(C,r.z);return[N,D]},_tileCoordsToBounds:function(r){var c=this._tileCoordsToNwSe(r),v=new pt(c[0],c[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var c=r.split(":"),v=new W(+c[0],+c[1]);return v.z=+c[2],v},_removeTile:function(r){var c=this._tiles[r];c&&(ie(c.el),delete this._tiles[r],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Dt(r,"leaflet-tile");var c=this.getTileSize();r.style.width=c.x+"px",r.style.height=c.y+"px",r.onselectstart=w,r.onmousemove=w,Mt.ielt9&&this.options.opacity<1&&ce(r,this.options.opacity)},_addTile:function(r,c){var v=this._getTilePos(r),S=this._tileCoordsToKey(r),C=this.createTile(this._wrapCoords(r),d(this._tileReady,this,r));this._initTile(C),this.createTile.length<2&&dt(d(this._tileReady,this,r,null,C)),ae(C,v),this._tiles[S]={el:C,coords:r,current:!0},c.appendChild(C),this.fire("tileloadstart",{tile:C,coords:r})},_tileReady:function(r,c,v){c&&this.fire("tileerror",{error:c,tile:v,coords:r});var S=this._tileCoordsToKey(r);v=this._tiles[S],v&&(v.loaded=+new Date,this._map._fadeAnimated?(ce(v.el,0),_t(this._fadeFrame),this._fadeFrame=dt(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),c||(Dt(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Mt.ielt9||!this._map._fadeAnimated?dt(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var c=new W(this._wrapX?x(r.x,this._wrapX):r.x,this._wrapY?x(r.y,this._wrapY):r.y);return c.z=r.z,c},_pxBoundsToTileRange:function(r){var c=this.getTileSize();return new U(r.min.unscaleBy(c).floor(),r.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Au(r){return new No(r)}var Si=No.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,c){this._url=r,c=P(this,c),c.detectRetina&&Mt.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,c){return this._url===r&&c===void 0&&(c=!0),this._url=r,c||this.redraw(),this},createTile:function(r,c){var v=document.createElement("img");return kt(v,"load",d(this._tileOnLoad,this,c,v)),kt(v,"error",d(this._tileOnError,this,c,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(r),v},getTileUrl:function(r){var c={r:Mt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-r.y;this.options.tms&&(c.y=v),c["-y"]=v}return Y(this._url,a(c,this.options))},_tileOnLoad:function(r,c){Mt.ielt9?setTimeout(d(r,this,null,c),0):r(null,c)},_tileOnError:function(r,c,v){var S=this.options.errorTileUrl;S&&c.getAttribute("src")!==S&&(c.src=S),r(v,c)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,c=this.options.maxZoom,v=this.options.zoomReverse,S=this.options.zoomOffset;return v&&(r=c-r),r+S},_getSubdomain:function(r){var c=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var r,c;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(c=this._tiles[r].el,c.onload=w,c.onerror=w,!c.complete)){c.src=Q;var v=this._tiles[r].coords;ie(c),delete this._tiles[r],this.fire("tileabort",{tile:c,coords:v})}},_removeTile:function(r){var c=this._tiles[r];if(c)return c.el.setAttribute("src",Q),No.prototype._removeTile.call(this,r)},_tileReady:function(r,c,v){if(!(!this._map||v&&v.getAttribute("src")===Q))return No.prototype._tileReady.call(this,r,c,v)}});function mn(r,c){return new Si(r,c)}var Rs=Si.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,c){this._url=r;var v=a({},this.defaultWmsParams);for(var S in c)S in this.options||(v[S]=c[S]);c=P(this,c);var C=c.detectRetina&&Mt.retina?2:1,N=this.getTileSize();v.width=N.x*C,v.height=N.y*C,this.wmsParams=v},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Si.prototype.onAdd.call(this,r)},getTileUrl:function(r){var c=this._tileCoordsToNwSe(r),v=this._crs,S=ot(v.project(c[0]),v.project(c[1])),C=S.min,N=S.max,D=(this._wmsVersion>=1.3&&this._crs===za?[C.y,C.x,N.y,N.x]:[C.x,C.y,N.x,N.y]).join(","),Z=Si.prototype.getTileUrl.call(this,r);return Z+k(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(r,c){return a(this.wmsParams,r),c||this.redraw(),this}});function pn(r,c){return new Rs(r,c)}Si.WMS=Rs,mn.wms=pn;var Xe=Mn.extend({options:{padding:.1},initialize:function(r){P(this,r),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,c){var v=this._map.getZoomScale(c,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,c),N=S.multiplyBy(-v).add(C).subtract(this._map._getNewPixelOrigin(r,c));Mt.any3d?Wn(this._container,N,v):ae(this._container,N)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,c=this._map.getSize(),v=this._map.containerPointToLayerPoint(c.multiplyBy(-r)).round();this._bounds=new U(v,v.add(c.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Er=Xe.extend({options:{tolerance:0},getEvents:function(){var r=Xe.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Xe.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");kt(r,"mousemove",this._onMouseMove,this),kt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),kt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){_t(this._redrawRequest),delete this._ctx,ie(this._container),te(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var c in this._layers)r=this._layers[c],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xe.prototype._update.call(this);var r=this._bounds,c=this._container,v=r.getSize(),S=Mt.retina?2:1;ae(c,r.min),c.width=S*v.x,c.height=S*v.y,c.style.width=v.x+"px",c.style.height=v.y+"px",Mt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Xe.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[y(r)]=r;var c=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var c=r._order,v=c.next,S=c.prev;v?v.prev=S:this._drawLast=S,S?S.next=v:this._drawFirst=v,delete r._order,delete this._layers[y(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var c=r.options.dashArray.split(/[, ]+/),v=[],S,C;for(C=0;C<c.length;C++){if(S=Number(c[C]),isNaN(S))return;v.push(S)}r.options._dashArray=v}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||dt(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var c=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new U,this._redrawBounds.extend(r._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(r._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var c=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,c=this._redrawBounds;if(this._ctx.save(),c){var v=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)r=S.layer,(!c||r._pxBounds&&r._pxBounds.intersects(c))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,c){if(this._drawing){var v,S,C,N,D=r._parts,Z=D.length,tt=this._ctx;if(Z){for(tt.beginPath(),v=0;v<Z;v++){for(S=0,C=D[v].length;S<C;S++)N=D[v][S],tt[S?"lineTo":"moveTo"](N.x,N.y);c&&tt.closePath()}this._fillStroke(tt,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var c=r._point,v=this._ctx,S=Math.max(Math.round(r._radius),1),C=(Math.max(Math.round(r._radiusY),1)||S)/S;C!==1&&(v.save(),v.scale(1,C)),v.beginPath(),v.arc(c.x,c.y/C,S,0,Math.PI*2,!1),C!==1&&v.restore(),this._fillStroke(v,r)}},_fillStroke:function(r,c){var v=c.options;v.fill&&(r.globalAlpha=v.fillOpacity,r.fillStyle=v.fillColor||v.color,r.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(r.setLineDash&&r.setLineDash(c.options&&c.options._dashArray||[]),r.globalAlpha=v.opacity,r.lineWidth=v.weight,r.strokeStyle=v.color,r.lineCap=v.lineCap,r.lineJoin=v.lineJoin,r.stroke())},_onClick:function(r){for(var c=this._map.mouseEventToLayerPoint(r),v,S,C=this._drawFirst;C;C=C.next)v=C.layer,v.options.interactive&&v._containsPoint(c)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(v))&&(S=v);this._fireEvent(S?[S]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,c)}},_handleMouseOut:function(r){var c=this._hoveredLayer;c&&(me(this._container,"leaflet-interactive"),this._fireEvent([c],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,c){if(!this._mouseHoverThrottled){for(var v,S,C=this._drawFirst;C;C=C.next)v=C.layer,v.options.interactive&&v._containsPoint(c)&&(S=v);S!==this._hoveredLayer&&(this._handleMouseOut(r),S&&(Dt(this._container,"leaflet-interactive"),this._fireEvent([S],r,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,c,v){this._map._fireDOMEvent(c,v||c.type,r)},_bringToFront:function(r){var c=r._order;if(c){var v=c.next,S=c.prev;if(v)v.prev=S;else return;S?S.next=v:v&&(this._drawFirst=v),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(r)}},_bringToBack:function(r){var c=r._order;if(c){var v=c.next,S=c.prev;if(S)S.next=v;else return;v?v.prev=S:S&&(this._drawLast=S),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(r)}}});function Is(r){return Mt.canvas?new Er(r):null}var Ei=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Ha={_initContainer:function(){this._container=Ht("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Xe.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var c=r._container=Ei("shape");Dt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",r._path=Ei("path"),c.appendChild(r._path),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){var c=r._container;this._container.appendChild(c),r.options.interactive&&r.addInteractiveTarget(c)},_removePath:function(r){var c=r._container;ie(c),r.removeInteractiveTarget(c),delete this._layers[y(r)]},_updateStyle:function(r){var c=r._stroke,v=r._fill,S=r.options,C=r._container;C.stroked=!!S.stroke,C.filled=!!S.fill,S.stroke?(c||(c=r._stroke=Ei("stroke")),C.appendChild(c),c.weight=S.weight+"px",c.color=S.color,c.opacity=S.opacity,S.dashArray?c.dashStyle=z(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=S.lineCap.replace("butt","flat"),c.joinstyle=S.lineJoin):c&&(C.removeChild(c),r._stroke=null),S.fill?(v||(v=r._fill=Ei("fill")),C.appendChild(v),v.color=S.fillColor||S.color,v.opacity=S.fillOpacity):v&&(C.removeChild(v),r._fill=null)},_updateCircle:function(r){var c=r._point.round(),v=Math.round(r._radius),S=Math.round(r._radiusY||v);this._setPath(r,r._empty()?"M0 0":"AL "+c.x+","+c.y+" "+v+","+S+" 0,"+65535*360)},_setPath:function(r,c){r._path.v=c},_bringToFront:function(r){Pe(r._container)},_bringToBack:function(r){zi(r._container)}},Hn=Mt.vml?Ei:ir,Ro=Xe.extend({_initContainer:function(){this._container=Hn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ie(this._container),te(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Xe.prototype._update.call(this);var r=this._bounds,c=r.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,v.setAttribute("width",c.x),v.setAttribute("height",c.y)),ae(v,r.min),v.setAttribute("viewBox",[r.min.x,r.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(r){var c=r._path=Hn("path");r.options.className&&Dt(c,r.options.className),r.options.interactive&&Dt(c,"leaflet-interactive"),this._updateStyle(r),this._layers[y(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){ie(r._path),r.removeInteractiveTarget(r._path),delete this._layers[y(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var c=r._path,v=r.options;c&&(v.stroke?(c.setAttribute("stroke",v.color),c.setAttribute("stroke-opacity",v.opacity),c.setAttribute("stroke-width",v.weight),c.setAttribute("stroke-linecap",v.lineCap),c.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?c.setAttribute("stroke-dasharray",v.dashArray):c.removeAttribute("stroke-dasharray"),v.dashOffset?c.setAttribute("stroke-dashoffset",v.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),v.fill?(c.setAttribute("fill",v.fillColor||v.color),c.setAttribute("fill-opacity",v.fillOpacity),c.setAttribute("fill-rule",v.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(r,c){this._setPath(r,or(r._parts,c))},_updateCircle:function(r){var c=r._point,v=Math.max(Math.round(r._radius),1),S=Math.max(Math.round(r._radiusY),1)||v,C="a"+v+","+S+" 0 1,0 ",N=r._empty()?"M0 0":"M"+(c.x-v)+","+c.y+C+v*2+",0 "+C+-v*2+",0 ";this._setPath(r,N)},_setPath:function(r,c){r._path.setAttribute("d",c)},_bringToFront:function(r){Pe(r._path)},_bringToBack:function(r){zi(r._path)}});Mt.vml&&Ro.include(Ha);function Ps(r){return Mt.svg||Mt.vml?new Ro(r):null}Zt.include({getRenderer:function(r){var c=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var c=this._paneRenderers[r];return c===void 0&&(c=this._createRenderer({pane:r}),this._paneRenderers[r]=c),c},_createRenderer:function(r){return this.options.preferCanvas&&Is(r)||Ps(r)}});var Fi=bo.extend({initialize:function(r,c){bo.prototype.initialize.call(this,this._boundsToLatLngs(r),c)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=vt(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Yf(r,c){return new Fi(r,c)}Ro.create=Hn,Ro.pointsToPath=or,ei.geometryToLayer=Ve,ei.coordsToLatLng=vr,ei.coordsToLatLngs=bs,ei.latLngToCoords=_r,ei.latLngsToCoords=Cs,ei.getFeature=_i,ei.asFeature=xr,Zt.mergeOptions({boxZoom:!0});var We=On.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){te(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ie(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),go(),ur(),this._startPoint=this._map.mouseEventToContainerPoint(r),kt(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Ht("div","leaflet-zoom-box",this._container),Dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var c=new U(this._point,this._startPoint),v=c.getSize();ae(this._box,c.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(ie(this._box),me(this._container,"leaflet-crosshair")),Dn(),ms(),te(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var c=new pt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Zt.addInitHook("addHandler","boxZoom",We),Zt.mergeOptions({doubleClickZoom:!0});var wr=On.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var c=this._map,v=c.getZoom(),S=c.options.zoomDelta,C=r.originalEvent.shiftKey?v-S:v+S;c.options.doubleClickZoom==="center"?c.setZoom(C):c.setZoomAround(r.containerPoint,C)}});Zt.addInitHook("addHandler","doubleClickZoom",wr),Zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Gn=On.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new vi(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){me(this._map._container,"leaflet-grab"),me(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=vt(this._map.options.maxBounds);this._offsetLimit=ot(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var c=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(c),this._prunePositions(c)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,c){return r-(r-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;r.x<c.min.x&&(r.x=this._viscousLimit(r.x,c.min.x)),r.y<c.min.y&&(r.y=this._viscousLimit(r.y,c.min.y)),r.x>c.max.x&&(r.x=this._viscousLimit(r.x,c.max.x)),r.y>c.max.y&&(r.y=this._viscousLimit(r.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,c=Math.round(r/2),v=this._initialWorldOffset,S=this._draggable._newPos.x,C=(S-c+v)%r+c-v,N=(S+c+v)%r-c-v,D=Math.abs(C+v)<Math.abs(N+v)?C:N;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(r){var c=this._map,v=c.options,S=!v.inertia||r.noInertia||this._times.length<2;if(c.fire("dragend",r),S)c.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),N=(this._lastTime-this._times[0])/1e3,D=v.easeLinearity,Z=C.multiplyBy(D/N),tt=Z.distanceTo([0,0]),lt=Math.min(v.inertiaMaxSpeed,tt),xt=Z.multiplyBy(lt/tt),Nt=lt/(v.inertiaDeceleration*D),Vt=xt.multiplyBy(-Nt/2).round();!Vt.x&&!Vt.y?c.fire("moveend"):(Vt=c._limitOffset(Vt,c.options.maxBounds),dt(function(){c.panBy(Vt,{duration:Nt,easeLinearity:D,noMoveStart:!0,animate:!0})}))}}});Zt.addInitHook("addHandler","dragging",Gn),Zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ga=On.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),kt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),te(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,c=document.documentElement,v=r.scrollTop||c.scrollTop,S=r.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(S,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var c=this._panKeys={},v=this.keyCodes,S,C;for(S=0,C=v.left.length;S<C;S++)c[v.left[S]]=[-1*r,0];for(S=0,C=v.right.length;S<C;S++)c[v.right[S]]=[r,0];for(S=0,C=v.down.length;S<C;S++)c[v.down[S]]=[0,r];for(S=0,C=v.up.length;S<C;S++)c[v.up[S]]=[0,-1*r]},_setZoomDelta:function(r){var c=this._zoomKeys={},v=this.keyCodes,S,C;for(S=0,C=v.zoomIn.length;S<C;S++)c[v.zoomIn[S]]=r;for(S=0,C=v.zoomOut.length;S<C;S++)c[v.zoomOut[S]]=-r},_addHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){te(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var c=r.keyCode,v=this._map,S;if(c in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(S=this._panKeys[c],r.shiftKey&&(S=mt(S).multiplyBy(3)),v.options.maxBounds&&(S=v._limitOffset(mt(S),v.options.maxBounds)),v.options.worldCopyJump){var C=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(S)));v.panTo(C)}else v.panBy(S)}else if(c in this._zoomKeys)v.setZoom(v.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;yi(r)}}});Zt.addInitHook("addHandler","keyboard",Ga),Zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ks=On.extend({addHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){te(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var c=Ze(r),v=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var S=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),S),yi(r)},_performZoom:function(){var r=this._map,c=r.getZoom(),v=this._map.options.zoomSnap||0;r._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,N=v?Math.ceil(C/v)*v:C,D=r._limitZoom(c+(this._delta>0?N:-N))-c;this._delta=0,this._startTime=null,D&&(r.options.scrollWheelZoom==="center"?r.setZoom(c+D):r.setZoomAround(this._lastMousePos,c+D))}});Zt.addInitHook("addHandler","scrollWheelZoom",ks);var Zi=600;Zt.mergeOptions({tapHold:Mt.touchNative&&Mt.safari&&Mt.mobile,tapTolerance:15});var br=On.extend({addHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){te(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var c=r.touches[0];this._startPos=this._newPos=new W(c.clientX,c.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(kt(document,"touchend",ve),kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Zi),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){te(document,"touchend",ve),te(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),te(document,"touchend touchcancel contextmenu",this._cancel,this),te(document,"touchmove",this._onMove,this)},_onMove:function(r){var c=r.touches[0];this._newPos=new W(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,c){var v=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});v._simulated=!0,c.target.dispatchEvent(v)}});Zt.addInitHook("addHandler","tapHold",br),Zt.mergeOptions({touchZoom:Mt.touch,bounceAtZoomLimits:!0});var qa=On.extend({addHooks:function(){Dt(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){me(this._map._container,"leaflet-touch-zoom"),te(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var c=this._map;if(!(!r.touches||r.touches.length!==2||c._animatingZoom||this._zooming)){var v=c.mouseEventToContainerPoint(r.touches[0]),S=c.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(v.add(S)._divideBy(2))),this._startDist=v.distanceTo(S),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),ve(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var c=this._map,v=c.mouseEventToContainerPoint(r.touches[0]),S=c.mouseEventToContainerPoint(r.touches[1]),C=v.distanceTo(S)/this._startDist;if(this._zoom=c.getScaleZoom(C,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&C<1||this._zoom>c.getMaxZoom()&&C>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var N=v._add(S)._divideBy(2)._subtract(this._centerPoint);if(C===1&&N.x===0&&N.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(N),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),_t(this._animRequest);var D=d(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=dt(D,this,!0),ve(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,_t(this._animRequest),te(document,"touchmove",this._onTouchMove,this),te(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Zt.addInitHook("addHandler","touchZoom",qa),Zt.BoxZoom=We,Zt.DoubleClickZoom=wr,Zt.Drag=Gn,Zt.Keyboard=Ga,Zt.ScrollWheelZoom=ks,Zt.TapHold=br,Zt.TouchZoom=qa,i.Bounds=U,i.Browser=Mt,i.CRS=zt,i.Canvas=Er,i.Circle=yr,i.CircleMarker=wo,i.Class=K,i.Control=nn,i.DivIcon=Cu,i.DivOverlay=Be,i.DomEvent=dr,i.DomUtil=_o,i.Draggable=vi,i.Evented=J,i.FeatureGroup=Vn,i.GeoJSON=ei,i.GridLayer=No,i.Handler=On,i.Icon=Bn,i.ImageOverlay=Ao,i.LatLng=wt,i.LatLngBounds=pt,i.Layer=Mn,i.LayerGroup=Eo,i.LineUtil=zf,i.Map=Zt,i.Marker=ws,i.Mixin=Uf,i.Path=zn,i.Point=W,i.PolyUtil=Va,i.Polygon=bo,i.Polyline=ti,i.Popup=Ms,i.PosAnimation=xo,i.Projection=yu,i.Rectangle=Fi,i.Renderer=Xe,i.SVG=Ro,i.SVGOverlay=Sr,i.TileLayer=Si,i.Tooltip=Ns,i.Transformation=co,i.Util=ht,i.VideoOverlay=Ti,i.bind=d,i.bounds=ot,i.canvas=Is,i.circle=Su,i.circleMarker=Tu,i.control=$n,i.divIcon=Zf,i.extend=a,i.featureGroup=_u,i.geoJSON=Tr,i.geoJson=As,i.gridLayer=Au,i.icon=Ts,i.imageOverlay=Eu,i.latLng=Et,i.latLngBounds=vt,i.layerGroup=Hf,i.map=Pa,i.marker=xu,i.point=mt,i.polygon=qf,i.polyline=Gf,i.popup=bu,i.rectangle=Yf,i.setOptions=P,i.stamp=y,i.svg=Ps,i.svgOverlay=wu,i.tileLayer=mn,i.tooltip=Ff,i.transformation=ki,i.version=s,i.videoOverlay=Mo;var Fa=window.L;i.noConflict=function(){return window.L=Fa,this},window.L=i}))})(Il,Il.exports)),Il.exports}var ga=A5();const uo=lf(ga);function Ef(e,t,i){return Object.freeze({instance:e,context:t,container:i})}function wf(e,t){return t==null?function(s,a){const u=q.useRef(void 0);return u.current||(u.current=e(s,a)),u}:function(s,a){const u=q.useRef(void 0);u.current||(u.current=e(s,a));const d=q.useRef(s),{instance:m}=u.current;return q.useEffect(function(){d.current!==s&&(t(m,s,d.current),d.current=s)},[m,s,t]),u}}function zE(e,t){q.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var u;(u=t.layerContainer)==null||u.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function HE(e){return function(i){const s=Tf(),a=e(Sf(i,s),s);return OE(s.map,i.attribution),Dp(a.current,i.eventHandlers),zE(a.current,s),a}}function M5(e,t){const i=q.useRef(void 0);q.useEffect(function(){if(t.pathOptions!==i.current){const a=t.pathOptions??{};e.instance.setStyle(a),i.current=a}},[e,t])}function N5(e){return function(i){const s=Tf(),a=e(Sf(i,s),s);return Dp(a.current,i.eventHandlers),zE(a.current,s),M5(a.current,i),a}}function R5(e,t){const i=wf(e,t),s=HE(i);return BE(s)}function I5(e,t){const i=wf(e),s=b5(i,t);return E5(s)}function P5(e,t){const i=wf(e,t),s=N5(i);return BE(s)}function k5(e,t){const i=wf(e,t),s=HE(i);return w5(s)}function L5(e,t,i){const{opacity:s,zIndex:a}=t;s!=null&&s!==i.opacity&&e.setOpacity(s),a!=null&&a!==i.zIndex&&e.setZIndex(a)}function GE(){return Tf().map}const qE=P5(function({center:t,children:i,...s},a){const u=new ga.Circle(t,s);return Ef(u,VE(a,{overlayContainer:u}))},_5);function D5({bounds:e,boundsOptions:t,center:i,children:s,className:a,id:u,placeholder:d,style:m,whenReady:y,zoom:g,...x},w){const[b]=q.useState({className:a,id:u,style:m}),[M,I]=q.useState(null),P=q.useRef(void 0);q.useImperativeHandle(w,()=>(M==null?void 0:M.map)??null,[M]);const k=q.useCallback(Y=>{if(Y!==null&&!P.current){const z=new ga.Map(Y,x);P.current=z,i!=null&&g!=null?z.setView(i,g):e!=null&&z.fitBounds(e,t),y!=null&&z.whenReady(y),I(S5(z))}},[]);q.useEffect(()=>()=>{M==null||M.map.remove()},[M]);const B=M?Gc.createElement(Lp,{value:M},s):d??null;return Gc.createElement("div",{...b,ref:k},B)}const FE=q.forwardRef(D5),rf=R5(function({position:t,...i},s){const a=new ga.Marker(t,i);return Ef(a,VE(s,{overlayContainer:a}))},function(t,i,s){i.position!==s.position&&t.setLatLng(i.position),i.icon!=null&&i.icon!==s.icon&&t.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==s.opacity&&t.setOpacity(i.opacity),t.dragging!=null&&i.draggable!==s.draggable&&(i.draggable===!0?t.dragging.enable():t.dragging.disable())}),af=I5(function(t,i){const s=new ga.Popup(t,i.overlayContainer);return Ef(s,i)},function(t,i,{position:s},a){q.useEffect(function(){const{instance:d}=t;function m(g){g.popup===d&&(d.update(),a(!0))}function y(g){g.popup===d&&a(!1)}return i.map.on({popupopen:m,popupclose:y}),i.overlayContainer==null?(s!=null&&d.setLatLng(s),d.openOn(i.map)):i.overlayContainer.bindPopup(d),function(){var x;i.map.off({popupopen:m,popupclose:y}),(x=i.overlayContainer)==null||x.unbindPopup(),i.map.removeLayer(d)}},[t,i,a,s])}),ZE=k5(function({url:t,...i},s){const a=new ga.TileLayer(t,Sf(i,s));return Ef(a,s)},function(t,i,s){L5(t,i,s);const{url:a}=i;a!=null&&a!==s.url&&t.setUrl(a)}),YE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",JE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",KE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete uo.Icon.Default.prototype._getIconUrl;uo.Icon.Default.mergeOptions({iconRetinaUrl:YE,iconUrl:JE,shadowUrl:KE});const U5=new uo.DivIcon({className:"custom-marker",html:'<div class="w-4 h-4 bg-green-500 border-2 border-white rounded-full shadow-lg animate-pulse"></div>',iconSize:[16,16],iconAnchor:[8,8]}),O5=new uo.DivIcon({className:"custom-marker",html:`<div class="w-8 h-8 bg-purple-500 border-2 border-white rounded-lg shadow-lg flex items-center justify-center">
    <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
    </svg>
  </div>`,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),V5=new uo.DivIcon({className:"custom-marker",html:`<div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 border-2 border-white rounded-lg shadow-xl flex items-center justify-center animate-bounce">
    <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
    </svg>
  </div>`,iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]});function B5({center:e,zoom:t}){const i=GE();return q.useEffect(()=>{i.setView(e,t)},[e,t,i]),null}function z5({onNavigate:e,onBack:t,selectedStation:i,onSelectStation:s}){const{t:a,theme:u}=Ge(),[d,m]=q.useState(""),[y,g]=q.useState(null),[x,w]=q.useState(null),[b,M]=q.useState(13),[I,P]=q.useState(!0),[k,B]=q.useState(null),[Y,z]=q.useState([]),[$,Q]=q.useState(!1),V=q.useCallback(async()=>{try{const ht=["https://ipapi.co/json/","https://ip-api.com/json/?fields=lat,lon,city,country","https://ipwho.is/"];for(const K of ht)try{const ft=await fetch(K);if(ft.ok){const G=await ft.json(),J=G.latitude||G.lat,W=G.longitude||G.lon;if(J&&W)return{lat:J,lng:W,city:G.city||"Unknown",approximate:!0}}}catch{continue}return null}catch{return null}},[]),nt=q.useCallback(async(ht,K)=>{Q(!0);try{const ft=await oa.getNearbyStations(ht,K,{limit:15,radius:1e4});if(ft.success&&ft.data){const G=ft.data.map(J=>({id:J.id,name:J.name,address:J.address||"Address not available",phone:J.phone||"N/A",lat:J.lat,lng:J.lng,distance:J.distance}));z(G)}}catch(ft){console.error("Failed to fetch nearby stations:",ft)}finally{Q(!1)}},[]);q.useEffect(()=>{(async()=>{if(P(!0),B(null),navigator.geolocation)try{const ft=await new Promise((W,yt)=>{navigator.geolocation.getCurrentPosition(W,yt,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),{latitude:G,longitude:J}=ft.coords;g({lat:G,lng:J}),w([G,J]),M(14),P(!1),nt(G,J);return}catch(ft){console.log("GPS failed, trying IP fallback...",ft.message)}const K=await V();if(K){g({lat:K.lat,lng:K.lng}),w([K.lat,K.lng]),M(12),P(!1),B(`Approximate location (${K.city}). Enable GPS for precise location.`),nt(K.lat,K.lng);return}P(!1),B("Could not detect your location. Please enable GPS or check your internet connection.")})()},[V,nt]);const rt=q.useMemo(()=>Y.filter(ht=>ht.name.toLowerCase().includes(d.toLowerCase())||ht.address.toLowerCase().includes(d.toLowerCase())),[Y,d]),ct=q.useCallback(ht=>{s(ht),w([ht.lat,ht.lng]),M(16)},[s]),Tt=q.useCallback(async()=>{if(P(!0),B(null),navigator.geolocation)try{const K=await new Promise((J,W)=>{navigator.geolocation.getCurrentPosition(J,W,{enableHighAccuracy:!0,timeout:1e4})}),{latitude:ft,longitude:G}=K.coords;g({lat:ft,lng:G}),w([ft,G]),M(15),P(!1),nt(ft,G);return}catch{console.log("GPS failed, trying IP fallback...")}const ht=await V();if(ht){g({lat:ht.lat,lng:ht.lng}),w([ht.lat,ht.lng]),M(12),P(!1),B("Approximate location. Enable GPS for precision."),nt(ht.lat,ht.lng);return}P(!1),B("Unable to detect location. Check GPS permissions.")},[V,nt]),dt=u==="dark"?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",_t=u==="dark"?'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="https://carto.com/attributions">CARTO</a>':'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors';return E.jsxs("div",{className:`min-h-screen ${u==="dark"?"gradient-dark-bg":"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50"}`,children:[u==="dark"&&E.jsx("div",{className:"fixed inset-0 gradient-mesh pointer-events-none"}),E.jsx(wn,{title:a("location.selectPoliceStation"),showBack:!0,onBack:t}),E.jsxs("main",{className:"px-4 pt-4 pb-8 relative",children:[E.jsxs("div",{className:"relative mb-4 flex gap-2",children:[E.jsxs("div",{className:"relative flex-1",children:[E.jsx(LE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),E.jsx("input",{type:"text",value:d,onChange:ht=>m(ht.target.value),placeholder:a("location.search"),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900/80 backdrop-blur-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"})]}),E.jsx(gt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Tt,disabled:I,className:"px-4 rounded-xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-md hover:shadow-lg hover:shadow-purple-500/30 transition-all disabled:opacity-50",children:I?E.jsx(En,{className:"w-5 h-5 animate-spin"}):E.jsx(vf,{className:"w-5 h-5"})})]}),k&&E.jsxs(gt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-xl text-sm flex items-center gap-2 ${k.includes("Approximate")?"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200":"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 text-yellow-800 dark:text-yellow-200"}`,children:[E.jsx(Ws,{className:"w-4 h-4 flex-shrink-0"}),E.jsx("span",{className:"flex-1",children:k}),!I&&E.jsx("button",{onClick:Tt,className:"text-xs underline hover:no-underline",children:"Retry GPS"})]}),E.jsx("div",{className:"h-64 rounded-2xl overflow-hidden mb-4 border border-gray-200 dark:border-gray-700 shadow-lg relative z-10",children:I&&!x?E.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30",children:[E.jsx(En,{className:"w-10 h-10 text-purple-500 animate-spin mb-3"}),E.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Detecting your location..."})]}):x?E.jsxs(FE,{center:x,zoom:b,style:{height:"100%",width:"100%"},zoomControl:!0,children:[E.jsx(ZE,{url:dt,attribution:_t}),E.jsx(B5,{center:x,zoom:b}),y&&E.jsxs(E.Fragment,{children:[E.jsx(qE,{center:[y.lat,y.lng],radius:100,pathOptions:{color:"#10b981",fillColor:"#10b981",fillOpacity:.15,weight:2}}),E.jsx(rf,{position:[y.lat,y.lng],icon:U5,children:E.jsx(af,{children:E.jsxs("div",{className:"text-center",children:[E.jsx("strong",{className:"text-green-600",children:" Your Location"}),E.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[y.lat.toFixed(6),", ",y.lng.toFixed(6)]})]})})})]}),rt.map(ht=>E.jsx(rf,{position:[ht.lat,ht.lng],icon:(i==null?void 0:i.id)===ht.id?V5:O5,eventHandlers:{click:()=>ct(ht)},children:E.jsx(af,{children:E.jsxs("div",{className:"min-w-[180px]",children:[E.jsx("h4",{className:"font-semibold text-gray-900",children:ht.name}),E.jsx("p",{className:"text-sm text-gray-600 mt-1",children:ht.address}),E.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[E.jsx(Qs,{className:"w-3 h-3 text-purple-500"}),E.jsx("a",{href:`tel:${ht.phone}`,className:"text-sm text-purple-600 font-medium",children:ht.phone})]}),E.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",ht.distance," km away"]})]})})},ht.id))]}):E.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-gradient-to-br from-indigo-100 to-purple-100 dark:from-indigo-900/30 dark:to-purple-900/30",children:[E.jsx(Fl,{className:"w-10 h-10 text-yellow-500 mb-3"}),E.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Location not available"}),E.jsx("button",{onClick:Tt,className:"mt-2 text-purple-600 text-sm underline",children:"Try again"})]})}),E.jsxs("div",{className:"flex items-center gap-4 mb-4 text-xs text-gray-500 dark:text-gray-400",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full"})," Your location"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx("span",{className:"w-3 h-3 bg-purple-500 rounded"})," Police station"]})]}),E.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2 text-gray-900 dark:text-white",children:[E.jsx(ql,{className:"w-5 h-5 text-purple-500"}),a("location.nearestHub"),$&&E.jsx(En,{className:"w-4 h-4 animate-spin text-purple-500"})]}),$&&Y.length===0&&E.jsxs("div",{className:"flex items-center justify-center py-8",children:[E.jsx(En,{className:"w-6 h-6 animate-spin text-purple-500 mr-2"}),E.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Finding nearby police stations..."})]}),!$&&Y.length===0&&y&&E.jsxs("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-800/50 rounded-xl",children:[E.jsx(Fl,{className:"w-10 h-10 text-gray-400 mx-auto mb-2"}),E.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No police stations found nearby"}),E.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Try expanding your search area"})]}),E.jsx("div",{className:"space-y-3",children:rt.map(ht=>E.jsx(gt.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>ct(ht),className:`w-full p-4 rounded-xl text-left transition-all card-hover ${(i==null?void 0:i.id)===ht.id?"bg-purple-50 dark:bg-purple-900/20 border-2 border-purple-500 shadow-md shadow-purple-500/20":"bg-white dark:bg-gray-900/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700"}`,children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 transition-all ${(i==null?void 0:i.id)===ht.id?"bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 text-white shadow-md":"bg-gray-100 dark:bg-gray-800"}`,children:E.jsx(ql,{className:"w-5 h-5"})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("h4",{className:"font-medium truncate text-gray-900 dark:text-white",children:ht.name}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:ht.address}),E.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-400",children:[E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(Ws,{className:"w-3 h-3"}),ht.distance," km"]}),E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(Qs,{className:"w-3 h-3"}),ht.phone]})]})]}),(i==null?void 0:i.id)===ht.id&&E.jsx(gt.div,{initial:{scale:0},animate:{scale:1},className:"flex-shrink-0",children:E.jsx(Gm,{className:"w-5 h-5 text-purple-500"})})]})},ht.id))}),E.jsx(gt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("EVIDENCE"),disabled:!i,className:"w-full mt-6 py-3.5 rounded-xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold shadow-md hover:shadow-lg hover:shadow-purple-500/30 btn-hover-glow disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none transition-all",children:a("location.confirm")})]})]})}function H5({onNavigate:e,onBack:t,evidence:i,onFileUpload:s,onRemoveEvidence:a,isUploading:u}){const{t:d}=Ge(),m=q.useRef(null),y=g=>{const x=g.target.files;x&&x.length>0&&s(x),m.current&&(m.current.value="")};return E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50 dark:bg-background-dark",children:[E.jsx(wn,{title:d("evidence.title"),showBack:!0,onBack:t}),E.jsxs("main",{className:"px-4 pt-6 pb-8",children:[E.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-6",children:d("evidence.subtitle")}),E.jsx("input",{type:"file",ref:m,onChange:y,multiple:!0,accept:"image/*,video/*,audio/*,.pdf,.doc,.docx",className:"hidden"}),E.jsxs("div",{className:"space-y-3 mb-6",children:[E.jsxs(gt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{var g;return(g=m.current)==null?void 0:g.click()},className:"w-full p-4 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 hover:border-primary transition-colors flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:E.jsx(QD,{className:"w-6 h-6 text-primary"})}),E.jsxs("div",{className:"text-left",children:[E.jsx("h4",{className:"font-medium",children:d("evidence.takePhoto")}),E.jsx("p",{className:"text-sm text-gray-500",children:d("evidence.takePhotoDesc")})]})]}),E.jsxs(gt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{var g;return(g=m.current)==null?void 0:g.click()},className:"w-full p-4 rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 hover:border-primary transition-colors flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:E.jsx(l5,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),E.jsxs("div",{className:"text-left",children:[E.jsx("h4",{className:"font-medium",children:d("evidence.uploadGallery")}),E.jsx("p",{className:"text-sm text-gray-500",children:d("evidence.uploadGalleryDesc")})]})]})]}),i.length>0&&E.jsxs("div",{className:"mb-6",children:[E.jsxs("h4",{className:"font-medium mb-3",children:["Uploaded Evidence (",i.length,")"]}),E.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.map(g=>E.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-800",children:[g.mimetype.startsWith("image/")?E.jsx("img",{src:g.url,alt:g.filename,className:"w-full h-full object-cover"}):E.jsx("div",{className:"w-full h-full flex items-center justify-center",children:E.jsx(ma,{className:"w-8 h-8 text-gray-400"})}),E.jsx("button",{onClick:()=>a(g.id),className:"absolute top-1 right-1 w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center",children:E.jsx(f5,{className:"w-4 h-4"})})]},g.id)),E.jsx("button",{onClick:()=>{var g;return(g=m.current)==null?void 0:g.click()},className:"aspect-square rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex items-center justify-center hover:border-primary transition-colors",children:E.jsx(YU,{className:"w-8 h-8 text-gray-400"})})]})]}),u&&E.jsxs("div",{className:"flex items-center justify-center gap-2 py-4 text-primary",children:[E.jsx(En,{className:"w-5 h-5 animate-spin"}),E.jsx("span",{children:d("evidence.uploading")})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsx(gt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("ANALYSIS"),className:"w-full py-3.5 rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 text-white font-semibold",children:d("evidence.continue")}),E.jsx("button",{onClick:()=>e("ANALYSIS"),className:"w-full py-3 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:d("evidence.skip")})]})]})]})}function G5({onNavigate:e,onBack:t,report:i}){var u,d,m;const{t:s}=Ge(),a=y=>{switch(y){case"Critical":return"text-red-500";case"High":return"text-orange-500";case"Medium":return"text-yellow-500";default:return"text-green-500"}};return E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50 dark:bg-background-dark",children:[E.jsx(wn,{title:s("analysis.title"),showBack:!0,onBack:t}),E.jsxs("main",{className:"px-4 pt-6 pb-8",children:[E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[E.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-green-400 to-emerald-500 flex items-center justify-center",children:E.jsx(zm,{className:"w-8 h-8 text-white"})}),E.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("analysis.subtitle")})]}),E.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[E.jsxs(gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white dark:bg-gray-900 rounded-2xl p-5 border border-gray-200 dark:border-gray-700",children:[E.jsx("div",{className:"text-sm text-gray-500 mb-1",children:s("analysis.category")}),E.jsx("div",{className:"text-xl font-semibold text-primary",children:((u=i.analysis)==null?void 0:u.category)||"General Incident"})]}),E.jsxs(gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white dark:bg-gray-900 rounded-2xl p-5 border border-gray-200 dark:border-gray-700",children:[E.jsx("div",{className:"text-sm text-gray-500 mb-1",children:s("analysis.urgency")}),E.jsx("div",{className:`text-xl font-semibold ${a((d=i.analysis)==null?void 0:d.urgency)}`,children:((m=i.analysis)==null?void 0:m.urgency)||"Medium"})]}),E.jsx(gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-blue-50 dark:bg-blue-900/20 rounded-2xl p-5 border border-blue-200 dark:border-blue-800",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx(vf,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5"}),E.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:s("analysis.routing")})]})})]}),E.jsx(gt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e("REVIEW"),className:"w-full mt-8 py-3.5 rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 text-white font-semibold",children:s("analysis.confirm")})]})]})}function q5({onNavigate:e,onBack:t,report:i,onSubmit:s,isSubmitting:a}){var d;const{t:u}=Ge();return E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50 dark:bg-background-dark",children:[E.jsx(wn,{title:u("review.title"),showBack:!0,onBack:t}),E.jsxs("main",{className:"px-4 pt-6 pb-8",children:[E.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 mb-6",children:u("review.subtitle")}),E.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[E.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-5 border border-gray-200 dark:border-gray-700",children:[E.jsx("div",{className:"text-sm text-gray-500 mb-1",children:u("review.issueType")}),E.jsx("div",{className:"font-semibold",children:((d=i.analysis)==null?void 0:d.category)||"General Incident"})]}),E.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-5 border border-gray-200 dark:border-gray-700",children:[E.jsx("div",{className:"text-sm text-gray-500 mb-1",children:u("review.description")}),E.jsx("p",{className:"text-sm",children:i.description})]}),E.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-5 border border-gray-200 dark:border-gray-700",children:[E.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Location"}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Ws,{className:"w-4 h-4 text-primary"}),E.jsx("span",{className:"font-medium",children:i.location.nearestStation})]}),E.jsx("p",{className:"text-sm text-gray-500 mt-1",children:i.location.address})]}),i.evidence.length>0&&E.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-5 border border-gray-200 dark:border-gray-700",children:[E.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Evidence"}),E.jsxs("div",{className:"font-medium",children:[i.evidence.length," file(s) attached"]})]}),E.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-2xl p-5 border border-yellow-200 dark:border-yellow-800",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx(_f,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),E.jsxs("div",{children:[E.jsx("div",{className:"font-medium text-yellow-800 dark:text-yellow-300 mb-1",children:u("review.commitment")}),E.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:u("review.commitmentDesc")})]})]})})]}),E.jsx(gt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,disabled:a,className:"w-full mt-8 py-3.5 rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 text-white font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:a?E.jsxs(E.Fragment,{children:[E.jsx(En,{className:"w-5 h-5 animate-spin"}),u("review.submitting")]}):u("review.submit")})]})]})}function F5({onNavigate:e,referenceId:t,blockHash:i}){const{t:s,setActiveTab:a}=Ge(),u=m=>{navigator.clipboard.writeText(m)},d=()=>{a("home"),e("HOME")};return E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-rose-50 dark:bg-background-dark",children:[E.jsx(wn,{onNavigate:e}),E.jsxs("main",{className:"px-4 pt-8 pb-24",children:[E.jsx(gt.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",bounce:.5},className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-green-400 to-emerald-500 flex items-center justify-center",children:E.jsx(zm,{className:"w-10 h-10 text-white"})}),E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[E.jsx("h1",{className:"text-2xl font-bold mb-2",children:s("confirmation.title")}),E.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:s("confirmation.subtitle")})]}),E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-900 rounded-2xl p-5 mb-4 border border-gray-200 dark:border-gray-700",children:[E.jsx("div",{className:"text-sm text-gray-500 mb-2",children:s("confirmation.referenceId")}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("code",{className:"text-lg font-mono font-bold text-primary",children:t}),E.jsx("button",{onClick:()=>u(t),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:E.jsx(fU,{className:"w-5 h-5"})})]})]}),E.jsxs(gt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 rounded-xl border border-primary text-primary font-medium flex items-center justify-center gap-2 hover:bg-primary/5 transition-colors mb-6",children:[E.jsx(IE,{className:"w-5 h-5"}),s("confirmation.verify")]}),E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-gray-900 rounded-2xl p-5 border border-gray-200 dark:border-gray-700",children:[E.jsx("h3",{className:"font-semibold mb-4",children:s("confirmation.timeline")}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:E.jsx(zm,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),E.jsxs("div",{children:[E.jsx("div",{className:"font-medium",children:s("confirmation.submitted")}),E.jsx("p",{className:"text-sm text-gray-500",children:s("confirmation.submittedDesc")})]})]}),E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center flex-shrink-0",children:E.jsx(uU,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400"})}),E.jsxs("div",{children:[E.jsx("div",{className:"font-medium",children:s("confirmation.underReview")}),E.jsx("p",{className:"text-sm text-gray-500",children:s("confirmation.underReviewDesc")})]})]})]})]}),E.jsx(gt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,className:"w-full mt-6 py-3.5 rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 text-white font-semibold",children:s("confirmation.returnHome")})]})]})}function Z5({onBack:e}){const{t}=Ge();return E.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-red-600 to-red-800 dark:from-red-900 dark:to-red-950",children:[E.jsxs("header",{className:"flex items-center justify-between px-4 py-3",children:[E.jsx("button",{onClick:e,className:"p-2 rounded-full bg-white/10 hover:bg-white/20 transition-colors",children:E.jsx(RE,{className:"w-5 h-5 text-white"})}),E.jsx("h1",{className:"text-lg font-semibold text-white",children:t("emergency.title")}),E.jsx("div",{className:"w-9"})]}),E.jsxs("main",{className:"px-4 pt-6 pb-8 text-white",children:[E.jsx(gt.div,{initial:{scale:0},animate:{scale:1},className:"w-24 h-24 mx-auto mb-6 rounded-full bg-white/20 flex items-center justify-center animate-pulse",children:E.jsx(_f,{className:"w-12 h-12"})}),E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[E.jsx("h2",{className:"text-3xl font-bold mb-2",children:t("emergency.subtitle")}),E.jsx("p",{className:"text-white/80",children:t("emergency.dispatching")})]}),E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/10 backdrop-blur rounded-2xl p-5 mb-4",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center",children:E.jsx(ql,{className:"w-6 h-6"})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-semibold",children:"Saket Police Station"}),E.jsx("div",{className:"text-sm text-white/70",children:"Saket, New Delhi"})]})]}),E.jsxs("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-white/20",children:[E.jsxs("div",{className:"flex-1 text-center",children:[E.jsx("div",{className:"text-sm text-white/70",children:t("emergency.distance")}),E.jsx("div",{className:"text-lg font-semibold",children:"1.2 km"})]}),E.jsx("div",{className:"w-px h-10 bg-white/20"}),E.jsxs("div",{className:"flex-1 text-center",children:[E.jsx("div",{className:"text-sm text-white/70",children:t("emergency.eta")}),E.jsx("div",{className:"text-lg font-semibold",children:"~5 min"})]})]})]}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs(gt.a,{href:"tel:100",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"w-full py-4 rounded-xl bg-white text-red-600 font-bold flex items-center justify-center gap-3",children:[E.jsx(Qs,{className:"w-6 h-6"}),t("emergency.callPolice")]}),E.jsxs(gt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"w-full py-4 rounded-xl bg-white/20 font-semibold flex items-center justify-center gap-3",children:[E.jsx(vf,{className:"w-6 h-6"}),t("emergency.directions")]})]})]})]})}function Y5({onNavigate:e,onStartReport:t}){const{t:i,userReports:s,theme:a}=Ge(),u=d=>{switch(d){case"RESOLVED":return"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400";case"UNDER_REVIEW":return"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400";default:return"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400"}};return E.jsxs("div",{className:`min-h-screen ${a==="dark"?"gradient-dark-bg":"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50"}`,children:[a==="dark"&&E.jsx("div",{className:"fixed inset-0 gradient-mesh pointer-events-none"}),E.jsx(wn,{title:i("reports.title"),onNavigate:e}),E.jsxs("main",{className:"px-4 pt-4 pb-24 relative",children:[s.length===0?E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[E.jsx(ma,{className:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600"}),E.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-900 dark:text-white",children:i("reports.empty")}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:i("reports.emptyDesc")}),E.jsx("button",{onClick:t,className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-medium shadow-lg shadow-purple-500/25",children:i("home.reportIssue")})]}):E.jsx("div",{className:"space-y-3",children:s.map((d,m)=>{var y;return E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.05},className:"bg-white dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-4 border border-gray-200 dark:border-gray-700",children:[E.jsxs("div",{className:"flex items-start justify-between mb-2",children:[E.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:d.category||"General Incident"}),E.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${u(d.status)}`,children:d.status||"PENDING"})]}),E.jsx("div",{className:"text-sm text-purple-500 mb-2",children:d.reference_id||d.referenceId}),E.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[E.jsx(Ws,{className:"w-3 h-3"}),E.jsx("span",{children:d.nearest_station||((y=d.location)==null?void 0:y.nearestStation)||"Unknown"})]})]},d.id||m)})}),E.jsx(pa,{variant:"minimal",className:"mt-8"})]}),E.jsx(xf,{onNavigate:e})]})}delete uo.Icon.Default.prototype._getIconUrl;uo.Icon.Default.mergeOptions({iconRetinaUrl:YE,iconUrl:JE,shadowUrl:KE});const kc=(e,t)=>new uo.DivIcon({className:"custom-marker",html:`<div class="w-8 h-8 ${e} border-2 border-white rounded-lg shadow-lg flex items-center justify-center text-white text-xs font-bold">${t}</div>`,iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),$h={police:kc("bg-blue-600",""),hospital:kc("bg-red-500",""),fire_station:kc("bg-orange-500",""),government:kc("bg-purple-600",""),user:new uo.DivIcon({className:"custom-marker",html:'<div class="w-4 h-4 bg-green-500 border-2 border-white rounded-full shadow-lg animate-pulse"></div>',iconSize:[16,16],iconAnchor:[8,8]})};function J5({center:e,zoom:t}){const i=GE();return q.useEffect(()=>{i.setView(e,t)},[e,t,i]),null}function K5({onNavigate:e}){var ht;const{t,theme:i}=Ge(),[s,a]=q.useState(""),[u,d]=q.useState("all"),[m,y]=q.useState(null),[g,x]=q.useState([28.6139,77.209]),[w,b]=q.useState(13),[M,I]=q.useState(!1),[P,k]=q.useState(!1),[B,Y]=q.useState(null),[z,$]=q.useState({police:[],hospital:[],fire:[],government:[]}),Q=[{key:"all",label:"All Services",icon:Ws,color:"from-indigo-500 via-purple-500 to-pink-500"},{key:"police",label:t("nearby.policeStations"),icon:ql,color:"bg-blue-600"},{key:"hospital",label:t("nearby.hospitals"),icon:qm,color:"bg-red-500"},{key:"fire",label:"Fire Stations",icon:Gx,color:"bg-orange-500"},{key:"government",label:t("nearby.civicOffices"),icon:qx,color:"bg-purple-600"}],V=q.useCallback(async()=>{const K=["https://ipapi.co/json/","https://ip-api.com/json/?fields=lat,lon,city,country","https://ipwho.is/"];for(const ft of K)try{const G=await fetch(ft);if(G.ok){const J=await G.json(),W=J.latitude||J.lat,yt=J.longitude||J.lon;if(W&&yt)return{lat:W,lng:yt,city:J.city||"Unknown"}}}catch{continue}return null},[]),nt=q.useCallback(async(K,ft)=>{k(!0);try{const G=await oa.getNearbyAll(K,ft,5e3);G.success&&G.data&&$({police:G.data.police||[],hospital:G.data.hospital||[],fire:G.data.fire||[],government:G.data.government||[]})}catch(G){console.error("Failed to fetch nearby places:",G)}finally{k(!1)}},[]);q.useEffect(()=>{(async()=>{if(I(!0),Y(null),navigator.geolocation)try{const G=await new Promise((yt,mt)=>{navigator.geolocation.getCurrentPosition(yt,mt,{enableHighAccuracy:!0,timeout:8e3,maximumAge:3e5})}),{latitude:J,longitude:W}=G.coords;y({lat:J,lng:W}),x([J,W]),I(!1),nt(J,W);return}catch{console.log("GPS failed, trying IP fallback...")}const ft=await V();if(ft){y({lat:ft.lat,lng:ft.lng}),x([ft.lat,ft.lng]),I(!1),Y(`Approximate location (${ft.city})`),nt(ft.lat,ft.lng);return}I(!1),Y("Could not detect location"),nt(28.6139,77.209)})()},[V,nt]);const rt=q.useMemo(()=>{let K=[];return u==="all"?K=[...z.police.map(ft=>({...ft,type:"police"})),...z.hospital.map(ft=>({...ft,type:"hospital"})),...z.fire.map(ft=>({...ft,type:"fire_station"})),...z.government.map(ft=>({...ft,type:"government"}))]:u==="fire"?K=z.fire.map(ft=>({...ft,type:"fire_station"})):K=z[u].map(ft=>({...ft,type:u})),K.sort((ft,G)=>ft.distance-G.distance),s&&(K=K.filter(ft=>ft.name.toLowerCase().includes(s.toLowerCase())||ft.address.toLowerCase().includes(s.toLowerCase()))),K},[z,u,s]),ct=q.useCallback(async()=>{if(I(!0),Y(null),navigator.geolocation)try{const ft=await new Promise((W,yt)=>{navigator.geolocation.getCurrentPosition(W,yt,{enableHighAccuracy:!0,timeout:8e3})}),{latitude:G,longitude:J}=ft.coords;y({lat:G,lng:J}),x([G,J]),b(14),I(!1),nt(G,J);return}catch{}const K=await V();K?(y({lat:K.lat,lng:K.lng}),x([K.lat,K.lng]),b(13),I(!1),Y("Approximate location"),nt(K.lat,K.lng)):(I(!1),Y("Unable to detect location"))},[V,nt]),Tt=K=>{switch(K){case"police":return ql;case"hospital":return qm;case"fire_station":return Gx;case"government":return qx;default:return Ws}},dt=K=>{switch(K){case"police":return"bg-blue-500";case"hospital":return"bg-red-500";case"fire_station":return"bg-orange-500";case"government":return"bg-purple-500";default:return"bg-gray-500"}},_t=i==="dark"?"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png":"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png";return E.jsxs("div",{className:`min-h-screen ${i==="dark"?"gradient-dark-bg":"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50"}`,children:[i==="dark"&&E.jsx("div",{className:"fixed inset-0 gradient-mesh pointer-events-none"}),E.jsx(wn,{title:t("nearby.title"),onNavigate:e}),E.jsxs("main",{className:"px-4 pt-4 pb-24 relative",children:[E.jsxs("div",{className:"flex gap-2 mb-4",children:[E.jsxs("div",{className:"relative flex-1",children:[E.jsx(LE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),E.jsx("input",{type:"text",value:s,onChange:K=>a(K.target.value),placeholder:t("nearby.searchArea"),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900/50 backdrop-blur-sm text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),E.jsx(gt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ct,disabled:M,className:"p-3 rounded-xl bg-gradient-to-r from-indigo-500 to-purple-600 text-white shadow-lg disabled:opacity-50",children:M?E.jsx(En,{className:"w-5 h-5 animate-spin"}):E.jsx(vf,{className:"w-5 h-5"})})]}),B&&E.jsxs(gt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 rounded-xl bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200 text-sm flex items-center gap-2",children:[E.jsx(Ws,{className:"w-4 h-4"}),B]}),E.jsx("div",{className:"h-56 rounded-2xl overflow-hidden mb-4 border border-gray-200 dark:border-gray-700 shadow-lg relative z-10",children:E.jsxs(FE,{center:g,zoom:w,style:{height:"100%",width:"100%"},zoomControl:!0,children:[E.jsx(ZE,{url:_t}),E.jsx(J5,{center:g,zoom:w}),m&&E.jsxs(E.Fragment,{children:[E.jsx(qE,{center:[m.lat,m.lng],radius:200,pathOptions:{color:"#22c55e",fillColor:"#22c55e",fillOpacity:.1}}),E.jsx(rf,{position:[m.lat,m.lng],icon:$h.user,children:E.jsx(af,{children:"Your Location"})})]}),rt.map(K=>E.jsx(rf,{position:[K.lat,K.lng],icon:$h[K.type]||$h.government,children:E.jsx(af,{children:E.jsxs("div",{className:"min-w-[180px]",children:[E.jsx("strong",{children:K.name}),E.jsx("p",{className:"text-xs text-gray-600 mt-1",children:K.address}),K.phone!=="N/A"&&E.jsxs("a",{href:`tel:${K.phone}`,className:"text-xs text-blue-600 block mt-1",children:[" ",K.phone]}),E.jsxs("span",{className:"text-xs text-gray-500 block mt-1",children:[K.distance," km away"]})]})})},`${K.type}-${K.id}`))]})}),E.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2 -mx-4 px-4",children:Q.map(({key:K,label:ft,icon:G,color:J})=>E.jsxs("button",{onClick:()=>d(K),className:`flex items-center gap-2 px-4 py-2 rounded-full whitespace-nowrap text-sm font-medium transition-all ${u===K?K==="all"?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-lg":`${J} text-white shadow-lg`:"bg-white dark:bg-gray-800/50 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700/50 border border-gray-200 dark:border-gray-700"}`,children:[E.jsx(G,{className:"w-4 h-4"}),ft]},K))}),P&&E.jsxs("div",{className:"flex items-center justify-center py-8",children:[E.jsx(En,{className:"w-8 h-8 animate-spin text-purple-500"}),E.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Finding nearby services..."})]}),!P&&E.jsxs("div",{className:"mb-3 text-sm text-gray-600 dark:text-gray-400",children:["Found ",rt.length," ",u==="all"?"services":((ht=Q.find(K=>K.key===u))==null?void 0:ht.label.toLowerCase())||"places"," nearby"]}),E.jsxs("div",{className:"space-y-3",children:[!P&&rt.length===0&&E.jsxs("div",{className:"text-center py-8",children:[E.jsx(Fl,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),E.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No services found nearby"}),E.jsx("p",{className:"text-sm text-gray-500",children:"Try expanding your search area"})]}),rt.map((K,ft)=>{const G=Tt(K.type),J=dt(K.type);return E.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ft*.03},className:"bg-white dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-4 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow",onClick:()=>{x([K.lat,K.lng]),b(16)},children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:`w-10 h-10 rounded-lg ${J} flex items-center justify-center flex-shrink-0`,children:E.jsx(G,{className:"w-5 h-5 text-white"})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("h4",{className:"font-medium text-gray-900 dark:text-white line-clamp-1",children:K.name}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-1",children:K.address}),E.jsxs("div",{className:"flex items-center gap-3 mt-2 flex-wrap",children:[E.jsxs("span",{className:"text-xs bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 px-2 py-1 rounded",children:[K.distance," km"]}),K.phone!=="N/A"&&E.jsxs("a",{href:`tel:${K.phone}`,onClick:W=>W.stopPropagation(),className:"text-xs text-purple-500 flex items-center gap-1 hover:underline",children:[E.jsx(Qs,{className:"w-3 h-3"}),K.phone.split(";")[0]]}),K.website&&E.jsxs("a",{href:K.website,target:"_blank",rel:"noopener noreferrer",onClick:W=>W.stopPropagation(),className:"text-xs text-blue-500 flex items-center gap-1 hover:underline",children:[E.jsx(IE,{className:"w-3 h-3"}),"Website"]})]})]})]})},`${K.type}-${K.id}`)})]}),E.jsx(pa,{variant:"minimal",className:"mt-8"})]}),E.jsx(xf,{onNavigate:e})]})}function j5({onNavigate:e}){var x,w,b;const{t,auth:i,logout:s,userReports:a,setActiveTab:u,theme:d}=Ge(),m=()=>{s(),e("HOME")},y=()=>{u("reports"),e("REPORTS_LIST")},g=[{icon:ma,label:t("profile.myReports"),action:y},{icon:$U,label:t("profile.settings"),action:()=>{}},{icon:rU,label:t("profile.helpSupport"),action:()=>{}},{icon:$s,label:t("profile.privacyPolicy"),action:()=>{}}];return E.jsxs("div",{className:`min-h-screen ${d==="dark"?"gradient-dark-bg":"bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50"}`,children:[d==="dark"&&E.jsx("div",{className:"fixed inset-0 gradient-mesh pointer-events-none"}),E.jsx(wn,{title:t("profile.title"),onNavigate:e}),E.jsxs("main",{className:"px-4 pt-6 pb-24 relative",children:[i.isAuthenticated?E.jsxs(E.Fragment,{children:[E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center gap-4 mb-6",children:[E.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 flex items-center justify-center shadow-lg shadow-purple-500/25",children:E.jsx(tr,{className:"w-8 h-8 text-white"})}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:(x=i.user)==null?void 0:x.name}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:((w=i.user)==null?void 0:w.phone)||((b=i.user)==null?void 0:b.email)})]})]}),E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-3 gap-3 mb-6",children:[E.jsxs("div",{className:"bg-white dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-4 text-center border border-gray-200 dark:border-gray-700",children:[E.jsx("div",{className:"text-2xl font-bold text-purple-500",children:a.length}),E.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:t("profile.myReports")})]}),E.jsxs("div",{className:"bg-white dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-4 text-center border border-gray-200 dark:border-gray-700",children:[E.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:a.filter(M=>M.status==="PENDING").length}),E.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:t("profile.pending")})]}),E.jsxs("div",{className:"bg-white dark:bg-gray-900/50 backdrop-blur-sm rounded-xl p-4 text-center border border-gray-200 dark:border-gray-700",children:[E.jsx("div",{className:"text-2xl font-bold text-green-500",children:a.filter(M=>M.status==="RESOLVED").length}),E.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:t("profile.resolved")})]})]}),E.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white dark:bg-gray-900/50 backdrop-blur-sm rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:g.map(({icon:M,label:I,action:P},k)=>E.jsxs("button",{onClick:P,className:`w-full flex items-center gap-3 px-4 py-3.5 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors ${k>0?"border-t border-gray-100 dark:border-gray-800":""}`,children:[E.jsx(M,{className:"w-5 h-5 text-purple-500"}),E.jsx("span",{className:"flex-1 text-left text-gray-900 dark:text-white",children:I}),E.jsx(Hm,{className:"w-5 h-5 text-gray-400"})]},I))}),E.jsxs(gt.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:m,className:"w-full mt-4 py-3 rounded-xl border border-red-200 dark:border-red-900 text-red-600 dark:text-red-400 font-medium flex items-center justify-center gap-2 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[E.jsx(RU,{className:"w-5 h-5"}),t("profile.logout")]})]}):E.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[E.jsx(Pp,{className:"w-20 h-20 mx-auto mb-4 text-gray-300 dark:text-gray-600"}),E.jsx("h3",{className:"text-lg font-medium mb-2 text-gray-900 dark:text-white",children:"Not logged in"}),E.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Sign in to access your profile and reports"}),E.jsx("button",{onClick:()=>e("AUTH"),className:"px-8 py-3 rounded-xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-medium shadow-lg shadow-purple-500/25",children:"Login / Sign Up"})]}),E.jsx(pa,{variant:"minimal",className:"mt-8"})]}),E.jsx(xf,{onNavigate:e})]})}const Yx={identity:"anonymous",description:"",location:{area:"",address:"",nearestStation:""},evidence:[]};function X5(){const{theme:e,t,auth:i,fetchUserReports:s}=Ge(),[a,u]=q.useState("LANDING"),[d,m]=q.useState(null),[y,g]=q.useState(Yx),[x,w]=q.useState([]),[b,M]=q.useState(!1),[I,P]=q.useState(null),[k,B]=q.useState(!1),[Y,z]=q.useState(!1),[$,Q]=q.useState(null);q.useEffect(()=>{i.isAuthenticated&&s()},[i.isAuthenticated]);const V=J=>{m(a),u(J)},nt=()=>{d?(u(d),m(null)):u("HOME")},rt=()=>{g(Yx),w([]),P(null),Q(null),V("IDENTITY")},ct=J=>{g(W=>({...W,identity:J})),w([{id:"1",role:"assistant",text:t("chat.greeting"),timestamp:new Date().toISOString()},{id:"2",role:"assistant",text:t("chat.prompt"),timestamp:new Date().toISOString(),italic:!0}]),V("CHAT")},Tt=async J=>{const W={id:Date.now().toString(),role:"user",text:J,timestamp:new Date().toISOString()};w(yt=>[...yt,W]),g(yt=>({...yt,description:J})),M(!0),setTimeout(async()=>{try{const yt=await zD(J);g(U=>({...U,analysis:{category:yt.category,urgency:yt.urgency,summary:yt.summary,authorities:yt.authorities}}));const mt={id:(Date.now()+1).toString(),role:"assistant",text:`${t("chat.analyzing")} I've analyzed your report. Let me guide you to the next step.`,timestamp:new Date().toISOString()};w(U=>[...U,mt]),setTimeout(()=>{M(!1),V("LOCATION")},1500)}catch(yt){console.error("Analysis failed:",yt),M(!1),V("LOCATION")}},2e3)},dt=async J=>{const W=[];for(const yt of Array.from(J)){const mt={id:Date.now().toString()+Math.random(),url:URL.createObjectURL(yt),filename:yt.name,mimetype:yt.type,size:yt.size,uploadedAt:new Date().toISOString()};W.push(mt)}g(yt=>({...yt,evidence:[...yt.evidence,...W]}))},_t=async J=>{B(!0);try{const W=[];for(const yt of Array.from(J)){const mt={id:Date.now().toString()+Math.random(),url:URL.createObjectURL(yt),filename:yt.name,mimetype:yt.type,size:yt.size,uploadedAt:new Date().toISOString()};W.push(mt)}g(yt=>({...yt,evidence:[...yt.evidence,...W]}))}catch(W){console.error("Upload failed:",W)}finally{B(!1)}},ht=J=>{g(W=>({...W,evidence:W.evidence.filter(yt=>yt.id!==J)}))},K=J=>{P(J),g(W=>({...W,location:{...W.location,nearestStation:J.name,address:J.address,area:J.address.split(",")[0],lat:J.lat,lng:J.lng}}))},ft=async()=>{var J,W,yt,mt,U;z(!0);try{const ot=await oa.submitReport({category:((J=y.analysis)==null?void 0:J.category)||"General",urgency:((W=y.analysis)==null?void 0:W.urgency)||"Medium",description:y.description,identity:y.identity,citizenId:(yt=i.user)==null?void 0:yt.id,location:y.location,evidence:y.evidence.map(pt=>pt.id),authorities:(mt=y.analysis)==null?void 0:mt.authorities,aiSummary:(U=y.analysis)==null?void 0:U.summary,isEmergency:!1});Q({referenceId:ot.data.referenceId,blockHash:ot.data.blockHash}),V("CONFIRMATION")}catch(ot){console.error("Submission failed:",ot),Q({referenceId:`#IND-${Math.floor(1e4+Math.random()*9e4)}-X`,blockHash:"0x"+Math.random().toString(16).slice(2,18)}),V("CONFIRMATION")}finally{z(!1)}},G=()=>{switch(a){case"LANDING":return E.jsx(h5,{onNavigate:V});case"AUTH":return E.jsx(m5,{onNavigate:V,onBack:nt});case"HOME":return E.jsx(Fx,{onNavigate:V,onStartReport:rt});case"LOGIN":return E.jsx(p5,{onNavigate:V,onBack:nt});case"SIGNUP":return E.jsx(g5,{onNavigate:V,onBack:nt});case"IDENTITY":return E.jsx(y5,{onNavigate:V,onBack:nt,onSelectIdentity:ct});case"CHAT":return E.jsx(v5,{onNavigate:V,onBack:nt,messages:x,onSendMessage:Tt,onFileUpload:dt,isAnalyzing:b});case"LOCATION":return E.jsx(z5,{onNavigate:V,onBack:nt,selectedStation:I,onSelectStation:K});case"EVIDENCE":return E.jsx(H5,{onNavigate:V,onBack:nt,evidence:y.evidence,onFileUpload:_t,onRemoveEvidence:ht,isUploading:k});case"ANALYSIS":return E.jsx(G5,{onNavigate:V,onBack:nt,report:y});case"REVIEW":return E.jsx(q5,{onNavigate:V,onBack:nt,report:y,onSubmit:ft,isSubmitting:Y});case"CONFIRMATION":return E.jsx(F5,{onNavigate:V,referenceId:($==null?void 0:$.referenceId)||y.referenceId||"#IND-00000-X",blockHash:$==null?void 0:$.blockHash});case"EMERGENCY_DETAILS":return E.jsx(Z5,{onBack:nt});case"REPORTS_LIST":return E.jsx(Y5,{onNavigate:V,onStartReport:rt});case"NEARBY":return E.jsx(K5,{onNavigate:V});case"PROFILE":return E.jsx(j5,{onNavigate:V});default:return E.jsx(Fx,{onNavigate:V,onStartReport:rt})}};return E.jsx("div",{className:`min-h-screen ${e==="dark"?"dark":""}`,children:E.jsx(Hl,{mode:"wait",children:E.jsx(gt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},children:G()},a)})})}xb.createRoot(document.getElementById("root")).render(E.jsx(Gc.StrictMode,{children:E.jsx(mN,{children:E.jsx(X5,{})})}));
